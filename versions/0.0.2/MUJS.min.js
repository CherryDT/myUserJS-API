"undefined"===typeof unsafeWindow&&(unsafeWindow=window);"undefined"===typeof unsafeWindow.MUJS&&(unsafeWindow.MUJS=new function(){this.fn=this.__proto__});
(function(b,x){function q(a){return"undefined"===typeof a?"undefined":"number"===typeof a&&1==isNaN(a)?"nan":"object"===typeof a?null===a?"null":a.constructor==={}.constructor?"map":a.constructor===[].constructor?"array":a.constructor===(new Date).constructor?isNaN(a.getTime())?"invaliddate":"date":a.constructor===RegExp().constructor?"regex":Object.prototype.toString.call(a).replace(/^\[object |\]$/g,"").toLowerCase():typeof a}function n(a){if(null==a||"object"!=typeof a)return a;var c;try{c=a.constructor()}catch(b){switch(q(a)){case "number":c=
(new Number).constructor();break;case "array":c=[].constructor();break;case "map":c={}.constructor();break;default:c=a}}for(var e in a)a.hasOwnProperty(e)&&(c[e]=n(a[e]));return c}function t(a,c){if(null==c||-1!=["string","number","date","regex","undefined"].indexOf(q(c)))return n(c);var b=n(a),e;for(e in c)"undefined"===typeof b[e]||null==c[e]||"object"!=typeof c[e]?b[e]=n(c[e]):null==b[e]||"array"==q(b[e])||"object"!=typeof b[e]?b[e]=n(c[e]):b[e]=t(b[e],c[e]);return b}function p(){var a=Array.prototype.slice.call(arguments);
if(0!=a.length){if(1==a.length)return a[0];for(var b=a[0],d=1;d<a.length;d++)b=t(b,a[d]);return b}}function h(a){return"undefined"===typeof a?!1:"undefined"!==typeof a.timeStamp?!0:!1}function l(a){return"undefined"===typeof a?!1:h(a)||"undefined"===typeof a.dirxml?!1:!0}function r(a){return"undefined"!==typeof a&&"undefined"===typeof a.dirxml?!0:!1}function u(){if(h(console))return console;if(h(this.console))return this.console;if(h(unsafeWindow.console))return unsafeWindow.console;if(h(unsafeWindow.window.console))return unsafeWindow.window.console;
if(h(window.console))return window.console}function v(){if(l(console))return console;if(l(this.console))return this.console;if(l(unsafeWindow.console))return unsafeWindow.console;if(l(unsafeWindow.window.console))return unsafeWindow.window.console;if(l(window.console))return window.console}function w(){if(r(unsafeWindow.window.console))return unsafeWindow.window.console;if(r(window.console))return window.console}var k={SearchForKey:{value:function(a){a=a.split(".");for(var b=this,d=0;d<a.length;d++){if("undefined"===
typeof b[a[d]])return;b=b[a[d]]}return b},enumerable:!1},setKeyValue:{value:function(a,b,d){a=a.split(".");for(var e=this,f=0;f<a.length-1;f++){if("undefined"===typeof e[a[f]])if(d)e[a[f]]={};else return;e=e[a[f]]}e[a[a.length-1]]=b},enumerable:!1}};Array.prototype.pushArray||Object.defineProperty(Array.prototype,"pushArray",{value:function(a){if("undefined"!==typeof a)for(var b=0;b<a.length;b++)this.push(a[b]);return this},enumerable:!1});var m={ERROR:{level:1,value:"error"},WARNING:{level:2,value:"warn"},
INFO:{level:3,value:"info"},LOG:{level:4,value:"log"},DEBUG:{level:5,value:"debug"}},s=["Debug","Log","Info","Warning","Error"];b.Config={host:"http://myuserjs.org",secure:!1,script:{username:void 0,script_name:void 0},Update:{DOMTiming:!1,args:{},updateVeriableName:"USMetaData",getType:"data",jQuery:!1,getStats:!1},API:{log:{disabled_functions:[],hidden_classes:[],verbosity_level:5},localStorage:{storage_prefix:"MUJS_"}},debug:!1};Object.defineProperties(b.Config,k);"undefined"!==typeof unsafeWindow.MUJS_CONFIGURATION&&
(b.Config=p(b.Config,unsafeWindow.MUJS_CONFIGURATION));"undefined"!==typeof unsafeWindow.MUJS_UPDATE_CONFIGURATION&&(b.Config.Update=p(b.Config.Update,unsafeWindow.MUJS_UPDATE_CONFIGURATION));Object.defineProperties(b.Config,k);Object.defineProperty(b,"config",{value:function(a,c){return"undefined"===typeof c?b.Config.SearchForKey(a):b.Config.setKeyValue(a,c)},enumerable:!1});b.API={MUJS_Log:new function(a,c,d){a=h(a)?a:void 0;c=h(c)?c:void 0;d=h(d)?d:void 0;return{Firebug_ptr:a,Console2_ptr:c,WebConsole_ptr:d,
OUTPUT_TYPES:m,updateFirebugPtr:function(a){"undefined"===typeof this.Firebug_ptr&&h(a)&&(this.Firebug_ptr=a)},updateConsole2Ptr:function(a){"undefined"===typeof this.Console2_ptr&&l(a)&&(this.Console2_ptr=a)},updateWebConsolePtr:function(a){"undefined"===typeof this.WebConsole_ptr&&r(a)&&(this.WebConsole_ptr=a)},ConsoleCommand:function(a,b){var c=Array.prototype.slice.call(arguments,1);"undefined"!==typeof this.Firebug_ptr&&"undefined"!==typeof this.Firebug_ptr[a]&&this.Firebug_ptr[a].apply(this.Firebug_ptr,
c);"undefined"!==typeof this.Console2_ptr&&"undefined"!==typeof this.Console2_ptr[a]&&this.Console2_ptr[a].apply(this.Console2_ptr,c);"undefined"!==typeof this.WebConsole_ptr&&"undefined"!==typeof this.WebConsole_ptr[a]&&this.WebConsole_ptr[a].apply(this.WebConsole_ptr,c)},outputMessage:function(a,c){a.level<=b.config("API.log.verbosity_level")&&this.ConsoleCommand.apply(this,[a.value].pushArray(Array.prototype.slice.call(arguments,1)))},Error:function(a,b){this.outputMessage.apply(this,[m.ERROR,
"C.CE Error ("+a+") - "+b.name+" - "+b.message+" in file <"+b.fileName+"> on line "+b.lineNumber])},logError:this.Error,Warning:function(a){this.outputMessage.apply(this,[m.WARNING].pushArray(Array.prototype.slice.call(arguments,0)))},Info:function(a){this.outputMessage.apply(this,[m.INFO].pushArray(Array.prototype.slice.call(arguments,0)))},Log:function(a){this.outputMessage.apply(this,[m.LOG].pushArray(Array.prototype.slice.call(arguments,0)))},Debug:function(a){this.outputMessage(m.DEBUG,a)},table:function(a){this.ConsoleCommand("table",
Array.prototype.slice.call(arguments,0))},count:function(a){-1==b.config("API.log.disabled_functions").indexOf("count")&&this.ConsoleCommand("count",a)},startGroup:function(a){-1==b.config("API.log.disabled_functions").indexOf("startGroup")&&-1==b.config("API.log.disabled_functions").indexOf("groupEnd")&&-1==b.config("API.log.disabled_functions").indexOf("groupCollapsed")&&this.ConsoleCommand("group",a)},endGroup:function(){-1==b.config("API.log.disabled_functions").indexOf("startGroup")&&-1==b.config("API.log.disabled_functions").indexOf("groupEnd")&&
-1==b.config("API.log.disabled_functions").indexOf("groupCollapsed")&&this.ConsoleCommand("groupEnd")},groupCollapsed:function(a){-1==b.config("API.log.disabled_functions").indexOf("startGroup")&&-1==b.config("API.log.disabled_functions").indexOf("groupEnd")&&-1==b.config("API.log.disabled_functions").indexOf("groupCollapsed")&&this.ConsoleCommand("groupCollapsed",a)},time:function(a){-1==b.config("API.log.disabled_functions").indexOf("time")&&-1==b.config("API.log.disabled_functions").indexOf("timeEnd")&&
this.ConsoleCommand("time",a)},timeEnd:function(a){-1==b.config("API.log.disabled_functions").indexOf("time")&&-1==b.config("API.log.disabled_functions").indexOf("timeEnd")&&this.ConsoleCommand("timeEnd",a)},timeStamp:function(a){-1==b.config("API.log.disabled_functions").indexOf("timeStamp")&&this.ConsoleCommand("timeStamp",a)},assert:function(a,c){var d=Array.prototype.slice.call(arguments,0);d.unshift("assert");-1==b.config("API.log.disabled_functions").indexOf("assert")&&this.ConsoleCommand.apply(this,
d)},trace:function(){-1==b.config("API.log.disabled_functions").indexOf("trace")&&this.ConsoleCommand("trace")},clear:function(){-1==b.config("API.log.disabled_functions").indexOf("clear")&&this.ConsoleCommand("clear")},profile:function(a){var c=Array.prototype.slice.call(arguments,0);c.unshift("profile");-1==b.config("API.log.disabled_functions").indexOf("profile")&&-1==b.config("API.log.disabled_functions").indexOf("profileEnd")&&this.ConsoleCommand.apply(this,c)},profileEnd:function(){var a=Array.prototype.slice.call(arguments,
0);a.unshift("profileEnd");-1==b.config("API.log.disabled_functions").indexOf("profile")&&-1==b.config("API.log.disabled_functions").indexOf("profileEnd")&&this.ConsoleCommand.apply(this,a)}}}(u(),v(),w())};b.log=b.API.MUJS_Log;b.log.UpdateAllPtrs=function(){b.API.MUJS_Log.updateFirebugPtr(u());b.API.MUJS_Log.updateConsole2Ptr(v());b.API.MUJS_Log.updateWebConsolePtr(w())};for(k=0;k<s.length;k++)b[s[k]]=b.API.MUJS_Log[s[k]].bind(b.API.MUJS_Log);b.config("debug")&&b.Log("MUJS.Config",b.Config);b.API.addStyle=
function(a){if("undefined"!=typeof a&&""!=a&&(heads=document.getElementsByTagName("head"))){var b=document.createElement("style");try{b.innerHTML=a}catch(d){b.innerText=a}b.type="text/css";heads[0].appendChild(b)}return null};b.API.addScript=function(a,b,d,e){if(heads=document.getElementsByTagName("head")){var f=document.createElement("script");if("undefined"!=typeof a&&""!=a)try{f.innerHTML=a}catch(g){f.innerText=a}if("undefined"!=typeof b&&""!=b)try{f.src=b}catch(y){}if("undefined"!==typeof d)try{f.id=
d}catch(h){}"undefined"!==typeof e&&(f.async=!0);f.type="text/javascript";try{heads[0].appendChild(f)}catch(k){}}return null};Object.defineProperty(b,"stor",{value:localStorage?localStorage:unsafeWindow.localStorage?unsafeWindow.localStorage:window.localStorage,enumerable:!1});b.API.localStorage={};b.API.localStorage.getValue=function(a,c){var d=b.config("API.localStorage.storage_prefix")+a;return b.stor[d]?b.stor.getItem(d):c};b.API.localStorage.setValue=function(a,c){var d=b.config("API.localStorage.storage_prefix")+
a;return b.stor.setItem(d,c)};b.API.localStorage.deleteValue=function(a,c){var d=b.config("API.localStorage.storage_prefix")+a;return b.stor.removeItem(d)};b.fn.getValue=b.API.localStorage.getValue;b.fn.setValue=b.API.localStorage.setValue;b.fn.deleteValue=b.API.localStorage.deleteValue;b.API.ParseMetaData_Types=[];b.API.ParseMetaData_Types.push(function(a,b){if("object"===typeof b){for(var d=/\(([0-9\.]+)\)\s+(.*?)$/i,e={},f=0;f<b.length;f++)if(d.test(b[f])){var g=d.exec(b[f]),h=g[1],g=g[2];"undefined"===
typeof e[h]&&(e[h]=[]);e[h].push(g)}return e}});b.API.ParseMetaData=function(a){"string"===typeof a&&(a=a.split(/\r?\n/i));for(var c={},d=/@([\S]+)\s+(.*?)$/i,e=0;e<a.length;e++)if(d.test(a[e])){var f=d.exec(a[e]);"undefined"===typeof c[f[1]]?c[f[1]]=f[2]:("string"===typeof c[f[1]]&&(h=c[f[1]],c[f[1]]=[],c[f[1]].push(h)),c[f[1]].push(f[2]))}for(var g in c)for(e=0;e<b.API.ParseMetaData_Types.length;e++){var h=b.API.ParseMetaData_Types[e](g,c[g]);if("undefined"!==typeof h){c[g]=h;break}}return c};b.fn.getDOMTiming=
function(){var a={};try{if("undefined"!==typeof window.performance&&"undefined"!==typeof window.performance.timing){var b=["unloadEventStart","unloadEventEnd","navigationStart"],d;for(d in window.performance.timing)isNaN(window.performance.timing[d])||-1!=b.indexOf(d)||(a[d]=parseInt(window.performance.timing[d]));for(d in a)a[d]-=window.performance.timing.navigationStart,0>=a[d]&&delete a[d];var e=(window.performance.timing.loadEventEnd||window.performance.timing.loadEventStart)-window.performance.timing.navigationStart;
0<e&&(a.pageLoadTime=e);var f=window.performance.timing.responseEnd-window.performance.timing.fetchStart;0<=f&&(a.NetworkLatency=f);var g=window.performance.now();0<g&&(a.statReportTime=g)}}catch(h){return console.log("Error! getDOMTiming: ",h),{}}return a};b.UPDATE={getJSON:function(a,c){x.ajax({dataType:"json",url:a+"&json=1",async:!0}).done(function(a){unsafeWindow[b.Config.Update.updateVeriableName]=a;b.UPDATE.execCallback(c,a)}).fail(function(a){b.UPDATE.execCallback(c,void 0,"error",a)})},getCallbackFunction:function(a){if("string"===
typeof a.callback){if("undefined"!==typeof unsafeWindow[a.callback])return unsafeWindow[a.callback]}else return a.callback},execCallback:function(a){var b=Array.prototype.slice.call(arguments,1),d=this.getCallbackFunction(a);void 0!==d&&d.apply(d.callback,b)},getUpdateURL:function(a){a.callback&&"string"===typeof a.callback&&(a.callback_function=a.callback);opts=p({},b.Config.Update,a);var c=opts.username||b.config("script.username");if("undefined"===typeof c||""==c)return this.execCallback(a,void 0,
"Error! No Username Provided");var d=opts.script_name||b.config("script.script_name");if("undefined"===typeof d||""==d)return this.execCallback(a,void 0,"Error! No Username Provided");a=opts.getType||b.config("Update.getType");"meta"!=a&&"metajs"!=a&&"data"!=a&&"none"!=a&&(a="data");var e=opts.args;if(opts.DOMTiming){var f=b.getDOMTiming();b.config("debug")&&b.Log("domTiming",f);for(var g in f)f.hasOwnProperty(g)&&(e[g]=f[g])}f=[];for(g in e)f.push(g+"="+e[g]);g="args="+escape(f.join(","))+"&updateVeriableName="+
opts.updateVeriableName;"undefined"!==typeof opts.callback_function&&(g+="&jsonp="+opts.callback_function);"undefined"!==typeof opts.noDownload&&1==opts.noDownload&&(g+="&nodownload=1");b.config("Update.getStats")&&(g+="&getstats=1");b.config("debug")&&(g+="&firephp=1");g+="&cachebuster="+Math.round((new Date).getTime()/1E3);return(b.config("host")||"myuserjs.org")+"/script/"+c+"/"+d+"."+a+".js?"+g},getUpdateData:function(a){try{var c=p({},b.Config.Update,a);"undefined"!==typeof unsafeWindow[c.updateVeriableName]&&
(unsafeWindow[c.updateVeriableName]=void 0,delete unsafeWindow[c.updateVeriableName]);var d=b.UPDATE.getUpdateURL(c);b.config("debug")&&b.Log(d);var e;b.config("Update.jQuery")?e=this.getJSON(d,c):b.API.addScript(void 0,d,void 0,!0);!c.callback||"string"===typeof c.callback&&void 0!==this.getCallbackFunction(c)||b.UPDATE.waitForUpdateData(c);return e}catch(f){console.log("Error! getUpdateData: ",f)}},waitForUpdateData:function(a,c){"undefined"===typeof c&&(c=0);return"undefined"!==typeof unsafeWindow[a.updateVeriableName]?
b.UPDATE.execCallback(a,unsafeWindow[a.updateVeriableName],"Success!"):100<c?b.UPDATE.execCallback(a,void 0,"Error! TimedOut"):setTimeout(b.UPDATE.waitForUpdateData,50,a,c+1)}};Object.defineProperty(b.UPDATE,"MetaData",{get:function(a){if("undefined"!==typeof unsafeWindow[a||b.Config.Update.updateVeriableName])return unsafeWindow[a||b.Config.Update.updateVeriableName];if("undefined"!==typeof window[a||b.Config.Update.updateVeriableName])return window[a||b.Config.Update.updateVeriableName]}});b.ERROR=
{send:function(a){try{var c=p({},b.Config.Update,a);"undefined"===typeof c.args&&(c.args={});"undefined"===typeof c.args.scriptError&&(c.args.scriptError="1");"undefined"===typeof c.args.scriptErrorCode&&(c.args.scriptErrorCode="-1");c.getType="none";c.noDownload=!0;return b.UPDATE.getUpdateData(c)}catch(d){console.log("Error! Error.send: ",d)}}}})(unsafeWindow.MUJS,"undefined"!==typeof jQuery?jQuery:void 0);MUJS=unsafeWindow.MUJS;
