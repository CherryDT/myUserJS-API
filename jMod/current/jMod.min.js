// ==UserScript==
// @name             jMod
// @namespace        http://myuserjs.org/
// @author           jgjake2
// @homepage         http://myuserjs.org/
// @license          GNU GPL version 3; http://www.gnu.org/licenses/gpl-3.0.txt
// @exclude          *
// @version          0.0.20
// @grant            unsafeWindow
// @grant            GM_info
// @grant            GM_log
// @grant            GM_addStyle
// @grant            GM_getMetadata
// @grant            GM_installScript
// @grant            GM_xmlhttpRequest
// @grant            GM_getResourceURL
// @grant            GM_getResourceText
// @grant            GM_registerMenuCommand
// @grant            GM_getValue
// @grant            GM_setValue
// @grant            GM_listValues
// @grant            GM_deleteValue
// @unwrap
// @run-at           document-start
// ==/UserScript==
+function($,e,r,i){function t(t,r,o){var e=arguments.length,n={allowCallbacks:e>1?1==r:!0,allowCrossOriginArguments:e>2?1==o:!0};return e>0&&t&&(n.defineAs=t),n}function o(r,i){i=i||{};var a=cloneInto({},e,{cloneFunctions:!0,wrapReflectors:!0});exportFunction(i.get||function(a,t){if("undefined"!=typeof r[t]||t in r){try{if(r===n&&s.indexOf(t)>-1)return o(r[t])}catch(i){}if("object"==typeof r[t]||"function"==typeof r[t])try{return cloneInto(r[t],e,{cloneFunctions:!0,wrapReflectors:!0})}catch(i){}return r[t]}return void 0},a,t("get")),exportFunction(i.set||function(n,e,t){try{r[e]=t}catch(o){return!1}return!0},a,t("set")),exportFunction(i.has||function(t,e){return e in r},a,t("has")),exportFunction(i.enumerate||function(e,t){try{return r.keys()[Symbol.iterator]()}catch(n){}try{return r.keys()}catch(n){}},a,t("enumerate")),exportFunction(i.ownKeys||function(e,t){return Object.getOwnPropertyNames(r)},a,t("ownKeys")),exportFunction(i.defineProperty||function(n,e,t){return!t||e in r||Object.defineProperty(r,e,t),r},a,t("defineProperty")),exportFunction(function(t,e){return Object.getOwnPropertyDescriptor(r,e)},a,t("getOwnPropertyDescriptor")),exportFunction(i.construct||function(t,e){return r.apply(r,e)},a,t("construct")),exportFunction(function(e,t){return r.prototype},a,t("getPrototypeOf")),exportFunction(function(t,n,e){return r.apply(r,e)},a,t("apply"));try{return new e.Proxy(exportFunction(function(){return r.apply(r,arguments)},e,t()),a)}catch(l){return void console.log("export error",l)}}var s=["Element"],n=i.call(this,r&&"undefined"!=typeof r.performance?r.performance.now():0,$,console,r,e,"undefined",void 0),a=n.Config.addToGlobalScope;if(this.jMod&&(this._jMod=this.jMod,a&&e&&e.jMod&&e!==this&&(e._jMod=e.jMod)),this.jMod=n,a)try{n.isFirefox&&n.isSandbox&&"undefined"!=typeof e.Proxy&&"undefined"!=typeof cloneInto&&"undefined"!=typeof exportFunction?(console.log("Export jMod"),e.jMod=o(n),r!==e&&(r.jMod=n)):e!==this&&(e.jMod=n)}catch(c){try{r!==this&&(r.jMod=n)}catch(l){console.log("cannot add jMod to global scope",l)}}n.debug&&n.log.groupEnd("jMod Initialize")}.call(this,"undefined"!=typeof jQuery?jQuery:void 0,"undefined"!=typeof unsafeWindow&&"window"===Object.prototype.toString.call(unsafeWindow).replace(/^\[object |\]$/g,"").toLowerCase()?unsafeWindow:"undefined"!=typeof this.unsafeWindow&&"window"===Object.prototype.toString.call(this.unsafeWindow).replace(/^\[object |\]$/g,"").toLowerCase()?this.unsafeWindow:"undefined"!=typeof window&&window.top&&"window"===Object.prototype.toString.call(window).replace(/^\[object |\]$/g,"").toLowerCase()?window:this,this.window||window,function(Xt,$,c,i,a,t,r){function D(o,n,a,r){var t={configurable:!1,enumerable:!1===r?r:!0};"function"==typeof n?t.get=n:(t.value=n,t.writable=!1),Object.defineProperty(a||e,o,t)}function mt(a,i,s){var o="function"==typeof s?!0:!1,e=i;"object"!=typeof i&&(e=d.call(arguments,1),o=!1);for(var n=0;n<e.length;n++)if(typeof a[e[n]]!==t&&(!o||o&&s(e[n],a[e[n]])))return e[n];return r}function rt(n,o,a){var e=mt.apply(this,arguments);return typeof e!==t?n[e]:r}function ut(a){var e=0,n=this,o=a.split(".");for(e;e<o.length;e++){if(typeof n[o[e]]===t)return r;n=n[o[e]]}return n}function At(a){var o,t=0,e=this,n=a.split(".");if(0==n.length)return r;for(t;t<n.length;t++){if(-1==(o=Object.keys(e).join("|").toLowerCase().split("|").indexOf(n[t].toLowerCase())))return r;e=e[Object.keys(e)[o]]}return e}function Vt(i,s){var a,o,n=0,e=i.split("."),t=this;if(0==e.length)return r;for(n;n<e.length;n++){if(-1==(o=Object.keys(t).join("|").toLowerCase().split("|").indexOf(e[n].toLowerCase())))return r;a=t,e[n]=Object.keys(t)[o],t=t[Object.keys(t)[o]]}return a[e[e.length-1]]=s,e}function $t(t){var n,e=0,o="string"==typeof t?d.call(arguments):t;for(e;e<o.length;e++)if((n=ut.apply(this,[o[e]]))!==r)return n;return r}function Wt(o,a,i){var e=0,n=o.split("."),r=this;for(e;e<n.length-1;e++){if(typeof r[n[e]]===t){if(!i)return;r[n[e]]={}}r=r[n[e]]}r[n[n.length-1]]=a}function Lt(e,r){r=r||a;var n,i="Error",o=r.Error&&"function"==typeof r.Error?r:a;if(o)return e.name&&"Error"!=e.name&&"function"==typeof o[e.name]&&(i=e.name),n=new o[i](e.message||null,e.fileName||null,e.lineNumber||null),n.name=e.name+"",n.stack=(e.stack||"")+"",n.message=e.message+"",n.fileName=typeof e.fileName!=t?e.fileName+"":null,n.lineNumber=typeof e.lineNumber!=t?parseInt(e.lineNumber):null,n.columnNumber=typeof e.columnNumber!=t?parseInt(e.columnNumber):null,delete n.toString,n.toString=function(){return this.name+": "+this.message}.bind(n),n}function P(e,a,i,f,l){if(typeof cloneInto!==t){l=l||0;try{return cloneInto(e,a,i)}catch(p){f&&c.log("mCloneInto error",p)}var n,s,o=typeof e;try{"object"==o&&(e instanceof Error?o="error":e.constructor===(new Array).constructor?o="array":null===e&&(o="null"))}catch(p){}var d=function(e){var n=typeof e;if("string"==n||"number"==n||"boolean"==n||n==t||null===e)return e;if(e instanceof Error)return Lt(e,a);if("object"==n){if(3>l)try{return P(e,a,i,f,l+1)}catch(r){}try{return cloneInto(e,a,i)}catch(r){}}else if("function"==n&&i.cloneFunctions)try{return cloneInto(e,a,i)}catch(r){}};if("undefined"==o||"null"==o)return e;if("error"==o)try{s=Lt(e,a)}catch(p){}else if("array"==o)for(s=cloneInto([],a,i),n=0;n<e.length;n++){var u;try{u=d(e[n])}catch(p){}try{s.push(u)}catch(p){s.push(r)}}else{s=cloneInto({},a,i);for(n in e)if("constructor"!=n&&Object.prototype.hasOwnProperty.call(e,n)){var u;try{u=d(e[n])}catch(p){}s[n]=u}}return s}return e}function gt(e,o,n){if(t!=typeof exportFunction)try{return exportFunction(e,o,n)}catch(a){}var r="";if(n&&n.defineAs?r=n.defineAs:"function"==typeof e&&""!=e.name&&(r=e.name),""!=r)try{return o[r]=e}catch(a){}}function H(e){var t=i||a;if(!e){if(!t.event)return;e=t.event}null!=e.cancelBubble&&(e.cancelBubble=!0),e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),t.event&&(e.returnValue=!1),null!=e.cancel&&(e.cancel=!0)}function Jt(e){var t=/^\[object |\]$/g;try{if("event"==Object.prototype.toString.call(e).replace(t,"").toLowerCase())return!0}catch(n){}try{if("event"==e.constructor.toString().replace(t,"").toLowerCase())return!0}catch(n){}return!1}function It(e){this.data=e||{}}function bt(t,o,a){var n=e.Element.document;if(e.jQueryAvailable)$(t).click();else if(n.createEvent){var r=n.createEvent("MouseEvents");r.initEvent("click",o||!0,a||!0),t.dispatchEvent(r)}else n.createEventObject?t.fireEvent("onclick"):"function"==typeof t.onclick&&t.onclick()}function Ut(l){for(var t,s=3,a=4,o=l.length,r=0,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="",u=0,n=new Array(s),e=new Array(a);o>r;){for(t=0;s>t;++t)n[t]=o>r?255&l.charCodeAt(r++):0;switch(e[0]=n[0]>>2,e[1]=(3&n[0])<<4|n[1]>>4,e[2]=(15&n[1])<<2|n[2]>>6,e[3]=63&n[2],u=r-(o-1)){case 1:e[3]=64;break;case 2:e[3]=64,e[2]=64}for(t=0;a>t;++t)i+=c.charAt(e[t])}return i}function vt(n,r,t){var s=(i||a).getComputedStyle(n,null),o=parseInt(s.width);t=t||0,25>t&&(isNaN(o)||o>300)?e.Element.requestAnimationFrame(function(){vt(n,r,t+1)}):r(n)}function kt(n){var t,o,r=e.$(".tab-content",n.parentElement);n&&r&&null!==r.offsetParent&&(o=(i||a).getComputedStyle(n,null),t=parseInt(o.width),isNaN(t)?e.debug&&B("Tabs.resize","Tab width is NaN!",n,r,o):t>300?e.debug&&B("Tabs.resize","Tab width too wide!",t,n):t>50&&(r.style.marginLeft=t+11+"px"))}function Nt(t){var e=t.name,r=e.split(" ");-1==r.indexOf("fa")&&-1==r.indexOf("glyphicon")&&(-1!=e.indexOf("fa-")?e="fa "+e:-1!=e.indexOf("glyphicon-")&&(e="glyphicon "+e));var n={type:"i",className:e,attributes:{}};return t.tooltip&&(n=k(n,t.tooltip)),n}function k(r,e){if(f(r)){if(C(r,n(F)),r.setAttribute(n(U),e.innerHTML||e.text||null),r.setAttribute(n(st),e.placement||"top"),t!=typeof e.margin){var o=n("Tooltip.attributeNames.margin");t!=typeof e.margin.left&&r.setAttribute(o+"-left",e.margin.left),t!=typeof e.margin.right&&r.setAttribute(o+"-right",e.margin.right),t!=typeof e.margin.top&&r.setAttribute(o+"-top",e.margin.top),t!=typeof e.margin.bottom&&r.setAttribute(o+"-bottom",e.margin.bottom)}}else if(r.className=(r.className||"")+" "+n(F),typeof r.attributes===t&&(r.attributes={}),r.attributes[n(U)]=e.innerHTML||e.text||null,r.attributes[n(st)]=e.placement||"top",t!=typeof e.margin){var o=n("Tooltip.attributeNames.margin");t!=typeof e.margin.left&&(r.attributes[o+"-left"]=e.margin.left),t!=typeof e.margin.right&&(r.attributes[o+"-right"]=e.margin.right),t!=typeof e.margin.top&&(r.attributes[o+"-top"]=e.margin.top),t!=typeof e.margin.bottom&&(r.attributes[o+"-bottom"]=e.margin.bottom)}return r}function rn(t){var e=t.description||t.name;f(e)||"object"==typeof e||(e={type:"span",className:"noselect",innerHTML:e,attributes:{}});var n={type:"label",className:"col-md-4 control-label noselect",innerHTML:e,attributes:{}};return n}function zt(e){b.execCallback(document.currentScript.getAttribute("data-callback-index"),document.currentScript,e,document.currentScript)}function Dt(t,n,r,o,a){c.log("jModListenError",t,n,r,o);var i=e.parseStack(a.stack);return i.length>0?e.ERROR.catchError(t,n,r,o,a,i):void 0}var e=function(){return e._call.apply(e,arguments)};e.InitializeStartTime=Xt,e.InitializeEndTime=-1;var d=Array.prototype.slice,Z=t!=typeof $?!0:!1,at=-1,R="@import url(//fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,300,400,700);\n@import url(http://code.jmod.info/fonts/sansation.css);\n",Qt="@import url(//test2.myuserjs.org/API/0.0.20/jMod.css);\n",j={id:"jMod",config:{},el:r},g=e.API={addGlyphicons:function(){R="@import url(http://code.jmod.info/css/glyphicons.css);\n"+R,e.CSS=""}};try{j.el=a.document&&a.document.currentScript?a.document.currentScript:r}catch(Et){}D("displayName","jMod",null,!1),D("typeOfName","jMod",null,!1),D("ScriptElement",function(){return j.el?j:r}),D("version","0.0.20"),D("build_time","1424632033000"),D("build_type","release"),D("_debug",!0),Object.defineProperty(e,"debug",{get:function(){try{return t!=typeof e.Config.debug?e.Config.debug:e._debug}catch(n){return e._debug}},set:function(t){e.Config.debug=!0===t?!0:!1},enumerable:!1}),Object.defineProperty(e,"jQueryAvailable",{get:function(){return Z||t!=typeof $?Z=!0:t!=typeof jQuery?($=jQuery,Z=!0):t!=typeof a.jQuery?($=a.jQuery,Z=!0):!1},set:function(e){Z=e?!0:!1;try{"jQuery"==x(e)&&($=e)}catch(t){}},enumerable:!1}),D("jQuery",function(){return e.jQueryAvailable?$:r}),Object.defineProperties(e,{isSandbox:{value:function(){return"sandbox"===Object.prototype.toString.call(this).replace(/^\[object |\]$/g,"").toLowerCase()}(),enumerable:!0,writable:!1,configurable:!1},isFirefox:{get:function(){return(typeof navigator!=t?navigator:i.navigator||a.navigator).userAgent.toLowerCase().indexOf("firefox")>-1},enumerable:!1},isChrome:{get:function(){return(typeof navigator!=t?navigator:i.navigator||a.navigator).userAgent.toLowerCase().indexOf("chrome")>-1},enumerable:!1}});var T=new function(){var n,o=function(){return n===r&&(n=typeof a.performance!==t&&typeof a.performance.timing!==t?a.performance:r),n};this.__defineGetter__("performanceObject",function(){return o()}),this.__defineGetter__("available",function(){return this.performanceObject===r?!1:!0}),this.__defineGetter__("now",function(){try{return this.performanceObject.now()}catch(t){e.Warning("Performance not available!")}}),this.get=function(a){var e=0,o=a.split("."),n=this.performanceObject;if(n!==r){for(e;e<o.length;e++){if(typeof n[o[e]]===t)return;n=n[o[e]]}return n}},this.getAllTiming=function(t){t===r&&(t=[]);var o=[],n=this.performanceObject;for(var e in n.timing)isNaN(n.timing[e])||-1!=t.indexOf(e)||(o[e]=n.timing[e]);return o},this.pageLoadTime=function(){try{var e=this.performanceObject.timing;if(isNaN(e.loadEventEnd))return;return e.loadEventEnd-e.navigationStart}catch(t){}}};Object.defineProperty(e,"timeElapsed",{get:function(){return T.now-e.InitializeStartTime}});var h=e.Loading={headAvailable:!1,DOMLoaded:!1,CSSAdded:!1,performanceReady:!1,documentComplete:!1,jModReady:!1,Complete:!1};Object.defineProperty(e,"CSS",{get:function(){return R},set:function(t){R+=t,h.CSSAdded&&e.AddCSS()},enumerable:!1}),e.AddCSS=function(e){tn(R+(e||"")),R=""},+function(){function Watcher(e,r,n){if(!Watcher.browserSupportsWatch||"function"!=typeof e.watch||!Watcher.browserSupportsObserve)throw new Yt("Browser does not support watch or observe");if(e.__watcher)return e.__watcher.add(r,n),e.__watcher;var t=this;return t.target=e,t.properties={},r&&n&&(t.defaultHandler=n,t.properties[r]=n),t.enabled=!0,e.__watcher=this,Watcher.browserSupportsWatch&&"function"==typeof e.watch?r&&n&&e.watch(r,n):Watcher.browserSupportsObserve&&Object.observe(e,function(l){for(var a=0,i=[];a<l.length;a++){var r=l[a],o=r.object,e=r.name,s=r.oldValue,n=(r.type,r.__watcher||t||this);if(!n||!n.enabled||"__watcher"===e||!n.properties[e])return;try{(n.properties[e]||n.defaultHandler).call(o,e,s,o[e])}catch(c){switch(n.enabled=!1,type){case"update":o[e]=s;break;case"add":delete o[e];break;case"delete":o[e]=s}n.enabled=!0,i.push(c)}}if(i.length>0)throw i}),t}Watcher.displayName="Watcher",Watcher.browserSupportsWatch=Object.prototype.watch?!0:!1,Watcher.browserSupportsObserve=Object.observe?!0:!1,Watcher.prototype={add:function(t,e){return t&&(e||this.defaultHandler)&&(!this.defaultHandler&&e&&(this.defaultHandler=e),this.properties[t]=e||null,Watcher.browserSupportsWatch&&"function"==typeof obj.watch&&obj.watch(t,e||this.defaultHandler)),this},unwatch:function(e){if(this.enabled=!1,e)this.properties[e]&&delete this.properties[e],Watcher.browserSupportsWatch&&this.target.unwatch(e);else for(var t in this.properties)t&&this.unwatch(t);return this.enabled=!0,this}},e.Watcher=Watcher}();var Ct={SearchForKey:{value:ut,enumerable:!1},SearchForKeys:{value:$t,enumerable:!1},setKeyValue:{value:Wt,enumerable:!1},SearchForKeyI:{value:At,enumerable:!1},setKeyValueI:{value:Vt,enumerable:!1}};e.parseStack=function(n){for(var e,t=[],r=/(([^\s]*)\@file\:\/\/\/([^\s]+?(?:\/([^\/]+?\.(user\.js|js|json|php|htm|html|asp)))?):(\d+)(?:\:(\d+))?)/gi;null!=(e=r.exec(n));){var o={line:e[1],functionName:e[2],fullFileName:e[3],fileName:e[4],fileExt:e[5],lineNumber:e[6],columnNumber:e[7]};t.push(o)}return t};var f=function(e){try{return e instanceof HTMLElement}catch(t){return"object"==typeof e&&1===e.nodeType&&"object"==typeof e.style&&"object"==typeof e.ownerDocument}};e.Versions={parseVersion:function(n){var e,o=/^\s*(.*?)\s*((?:[\d]+\.)*[\d]+)\s*(.*?)\s*$/i,t={fullVersion:n.trim(),versionStr:null,prefixStr:null,suffixStr:null,version:[]};if(e=o.exec(n.trim())){t.prefixStr=e[1],t.versionStr=e[2],t.suffixStr=e[3];var r=e[2].split(".");for(var a in r)t.version.push(parseInt(r[a]))}return t},compare:function(n,r){var o=n,a=r;"string"==typeof n&&(o=this.parseVersion(n)),"string"==typeof r&&(a=this.parseVersion(r));for(var i=[].concat(o.version),s=[].concat(a.version);;){var e=i.shift(),t=s.shift();if(null==e||null==t){if(null!=e&&null==t)return 1;if(null==e&&null!=t)return-1;break}if(parseInt(e)>parseInt(t))return 1;if(parseInt(e)<parseInt(t))return-1}return 0}};var lt=e.URLBuilder=function(e){this.protocol="http:",this.hostname="",this.pathname="",this.args=[],this.setHostname=function(e){try{if("string"==typeof e){var t=document.createElement("a");/^\s*(?:https?\:)?\/\//i.test(e)||(e="http://"+e),t.href=e,this.hostname=t.hostname,this.protocol=t.protocol}}catch(n){}finally{return this}},this.setPath=function(e){return"/"!=e[0]&&(e="/"+e),this.pathname=e,this},this.addArg=function(e,t){return this.args.push({name:e,value:t}),this},this.addArgs=function(t){for(var e=0;e<t.length;e++)switch(x(t[e])){case"array":this.addArg(t[e][0],t[e][1]);break;case"map":case"object":var n=rt(t[e],["name","key"]),r=rt(t[e],["value"]);n&&r&&this.addArg(n,r)}return this},this.buildArgs=function(){for(var t=[],e=0;e<this.args.length;e++)t.push(this.args[e].name+"="+this.args[e].value);return t.join("&")},this.toString=function(){return this.protocol+"//"+this.hostname+this.pathname+"?"+this.buildArgs()},this.setHostname(e)},Yt=function(){function t(i){var n,a=0,o={},s=arguments.length;if(s>0&&("string"!=typeof i&&(i instanceof Error?o.e=i:o=i,i=s>1?arguments[1]:r,a++),"string"==typeof i&&(o.message=i,s>a+1&&(o.fileName=arguments[a+1]),s>a+2&&(o.lineNumber=arguments[a+2]),s>a+3&&(o.columnNumber=arguments[a+3]),s>a+4&&arguments[a+4]instanceof Error&&(o.e=arguments[a+4])),o.e))try{n=o.e,this.stack=n.stack}catch(c){}if(n||(n=new Error(o.message||null,o.fileName||null,o.lineNumber||null),n.constructor=t,n.__proto__=Object.create(n.__proto__,{name:{value:"jModError",enumerable:!1},toString:{value:function(){return this.name+": "+this.message}}}),delete n.toString,n.toString=function(){return this.name+": "+this.message}.bind(n),n.stack&&("undefined"!=typeof Components?n.stack=this.stack=n.stack.substring(n.stack.indexOf("\n")+1):"undefined"!=typeof chrome||"undefined"!=typeof process?(n.stack=this.stack=n.stack.replace(/\n[^\n]*/,""),Object.defineProperty(n,"stack",{value:this.stack})):this.stack=n.stack)),this.stack&&!o.fileName){var l=e.parseStack(this.stack);if(l&&l.length>0&&(this.pStack=l,o.lineNumber=parseInt(l[0].lineNumber),o.columnNumber=parseInt(l[0].columnNumber||0),o.fileName=l[0].fileName,!n.fileName||"null"==n.fileName))try{n.lineNumber=o.lineNumber,n.columnNumber=o.columnNumber,n.fileName=o.fileName,n.stack=this.stack}catch(c){try{}catch(c){}}}this.displayName=this.name="jModError",this.err=n,this.message=o.message||n.message,this.fileName=o.fileName||n.fileName,this.lineNumber=null!=o.lineNumber?o.lineNumber:n.lineNumber,this.columnNumber=null!=o.columnNumber?o.columnNumber:n.columnNumber,this.toString=function(){return this.name+": "+this.message},this.constructor=Error}return t.prototype=Object.create(Error.prototype,{name:{value:"jModError",enumerable:!0}}),t.prototype.constructor=t,t.prototype.constructor.constructor=Error,t.prototype.log=function(e,t){var e=e||"jMod Error",t=t||this.message;E(this,e,t)},t}();String.prototype.trim||function(){Object.defineProperty(String.prototype,"trim",{value:function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},enumerable:!1})}();var x=e.RealTypeOf=function(n){var e;try{(n.constructor==={}.constructor||n)&&(e=n)}catch(r){e=P(n,a,{cloneFunctions:!0,wrapReflectors:!0})}try{if(typeof e===t)return t;if("number"==typeof e&&1==isNaN(e))return"nan";if("object"==typeof e)return null===e?"null":e.constructor==={}.constructor?"map":e.constructor===(new Array).constructor?"array":e.constructor===(new Date).constructor?isNaN(e.getTime())?"invaliddate":"date":e.constructor===(new RegExp).constructor?"regex":Object.prototype.toString.call(e).replace(/^\[object |\]$/g,"").toLowerCase()}catch(r){}try{if("function"==typeof e){if(e.typeOfName&&"string"==typeof e.typeOfName)return e.typeOfName;if(e.displayName&&"string"==typeof e.displayName)return e.displayName}}catch(r){}return typeof e},Y=function(e){try{if("object"!=typeof e||e.nodeType||e===e.window)return!1;if(e.constructor&&!e.hasOwnProperty.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){var t=P(e,a,{cloneFunctions:!0,wrapReflectors:!0});if("object"!=typeof t||t.nodeType||t===t.window)return!1;if(t.constructor&&!t.hasOwnProperty.call(t.constructor.prototype,"isPrototypeOf"))return!1}return!0},X=function(e){try{if(e.constructor===(new Array).constructor)return!0}catch(n){var t=P(e,a,{cloneFunctions:!0,wrapReflectors:!0});if(t.constructor===(new Array).constructor)return!0}return!1};e.extend=function(){var a,n,i,o,l,c,t=arguments[0]||{},s=1,f=arguments.length,u=!1;for("boolean"==typeof t&&(u=t,t=arguments[s]||{},s++),"object"!=typeof t&&"function"!=typeof t&&(t={}),s===f&&(t=this,s--);f>s;s++)if(null!=(a=arguments[s]))for(n in a){i=t[n];try{(("object"==typeof a[n]||"function"==typeof a[n])&&a[n].constructor==={}.constructor||a[n]||t)&&(o=a[n])}catch(d){o=P(a[n],t,{cloneFunctions:!0,wrapReflectors:!0})}if(t!==a[n]&&t!==o)if(u&&o&&(Y(o)||(l=X(o))))l?(l=!1,c=i&&X(i)?i:[]):c=i&&Y(i)?i:{},t[n]=e.extend(u,c,o);else if(o!==r)try{t[n]=o}catch(d){t[n]=P(o,t,{cloneFunctions:!0,wrapReflectors:!0})}}return t},e.extendp=function(){var o,t,a,n,u,l,e=arguments[0]||{},i=1,c=arguments.length,s=!1;for("boolean"==typeof e&&(s=e,e=arguments[i]||{},i++),"object"!=typeof e&&"function"!=typeof e&&(e={}),i===c&&(e=this,i--);c>i;i++)if(null!=(o=arguments[i]))for(t in o){a=e[t];try{(("object"==typeof o[t]||"function"==typeof o[t])&&o[t].constructor==={}.constructor||o[t]||e)&&(n=o[t])}catch(f){n=P(o[t],e,{cloneFunctions:!0,wrapReflectors:!0})}if(e!==n)if(s&&n&&(Y(n)||(u=X(n)))){if(u){if(X(a)&&Array.prototype.push.apply(e[t],n))continue;l=a&&X(a)?a:[]}else l=a&&Y(a)?a:{};e[t]=jQuery.extendp(s,l,n)}else if(n!==r)try{e[t]=n}catch(f){e[t]=P(n,e,{cloneFunctions:!0,wrapReflectors:!0})}}return e},e.CloneProperties=function(){var o,l,d,u,a,n,i,p=arguments.length,s=arguments[0],f=!1,c=1;if("boolean"==typeof s&&p>2&&(f=s,s=arguments[c++]),s===r||null===s)return s;for(i=Object(s),c;p>c;c++)if(o=arguments[c],o!==r&&null!==o)for(d=f?Object.getOwnPropertyNames(Object(o)):Object.keys(Object(o)),u=0;u<d.length;u++)a=d[u],n=Object.getOwnPropertyDescriptor(o,a),n!==r&&("function"==typeof o[a]?i[a]=o[a].bind(i):"object"==typeof o[a]&&Y(o[a])?Object.defineProperty(i,a,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:f?e.CloneProperties(f,i[a]||{},o[a]):o[a]}):(l={enumerable:n.enumerable,configurable:n.configurable},t!=typeof n.get&&(l.get=n.get.bind(i)),t!=typeof n.set&&(l.set=n.set.bind(i)),t!=typeof n.value&&(l.writable=n.writable,l.value="function"==typeof n.value?n.value.bind(i):n.value),Object.defineProperty(i,a,l)));return i},function(){var t="major",n="name",r="version";e.Browser={getAgent:function(){return navigator.userAgent},get:function(){},getRegexMatches:function(s,t){for(var o,a=[],e=0;e<t.length;e+=2){for(var i=t[e],n=[],r=0;r<i.length;r++)(o=i[r].exec(s))&&n.push(o);n.length>0&&a.push({matches:n,map:t[e+1]})}return a},getRegexFirstMatch:function(a,t){for(var r,e=0;e<t.length;e+=2)for(var o=t[e],n=0;n<o.length;n++)if(r=o[n].exec(a))return[r,t[e+1]];return[]},getBrowser:function(){var n={};try{var r=this.getAgent(),e=this.getRegexFirstMatch(r,this.regexes.browser);if(e.length>1)for(var t=0;t<e[1].length;t++)n[e[1][t]]=e[0][t+1]}catch(o){}return n},regexes:{browser:[[/(opera\smini)\/((\d+)?[\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/((\d+)?[\w\.-]+)/i,/(opera).+version\/((\d+)?[\w\.]+)/i,/(opera)[\/\s]+((\d+)?[\w\.]+)/i],[n,r,t],[/\s(opr)\/((\d+)?[\w\.]+)/i],[[n,"Opera"],r,t],[/(trident).+rv[:\s]((\d+)?[\w\.]+).+like\sgecko/i],[[n,"IE"],r,t],[/(yabrowser)\/((\d+)?[\w\.]+)/i],[[n,"Yandex"],r,t],[/(comodo_dragon)\/((\d+)?[\w\.]+)/i],[[n,/_/g," "],r,t],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?((\d+)?[\w\.]+)/i,/(uc\s?browser|qqbrowser)[\/\s]?((\d+)?[\w\.]+)/i],[n,r,t],[/((?:android.+)crmo|crios)\/((\d+)?[\w\.]+)/i],[[n,"Chrome"],r,t],[/version\/((\d+)?[\w\.]+).+?mobile\/\w+\s(safari)/i],[r,t,[n,"Mobile Safari"]],[/version\/((\d+)?[\w\.]+).+?(mobile\s?safari|safari)/i],[r,t,n],[/(konqueror)\/((\d+)?[\w\.]+)/i,/(webkit|khtml)\/((\d+)?[\w\.]+)/i],[n,r,t],[/(navigator|netscape)\/((\d+)?[\w\.-]+)/i],[[n,"Netscape"],r,t],[/(swiftfox)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/((\d+)?[\w\.-]+)/i,/(mozilla)\/((\d+)?[\w\.]+).+rv\:.+gecko\/\d+/i],[n,r,t]]}}}();var Kt=function(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16),a:null}:null},nn=function(t){var e=/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*([\d\.]+))?\s*\)/im.exec(t);return e?{r:parseInt(e[1]),g:parseInt(e[2]),b:parseInt(e[3]),a:e[4]&&""!=e[4]?parseFloat(e[4]):null}:null},V=function(e){var t=nn(e);return t?t:Kt(e)},Pt=.5*Math.PI,Ft=(10*Math.log(2),function(e,t,n,r){return 2*n/Math.PI*Math.asin((r-e)/t)}),jt=function(t,n,r){var e=Pt/n,o=t*e;return Math.round(o*Math.cos(e*r))},n=e.Config=function(r,o){try{n.getScriptFileInfo&&!v.gotFileInfo&&v.getScriptFileInfo()}catch(a){}return typeof o===t?"string"==typeof r?e.Config.SearchForKey(r):e.Config.SearchForKeys(r):e.Config.setKeyValue(r,o)};e.extend(e.Config,{host:"http://myuserjs.org",scopeLock:!1,secure:!1,browser:e.Browser.getBrowser(),getScriptFileInfo:!0,addToGlobalScope:!0,script:{username:r,script_name:r},Update:{DOMTiming:!1,args:{},updateVeriableName:"USMetaData",getType:"data",jQuery:!1,XMLHttpRequest:!1,getStats:!1,sampleRate:100},Error:{autoReportErrors:!1,errorFilter:function(e,t,n){return!0}},API:{log:{disabled:[],verbosity_level:e._debug?5:3,GM_log:!0,Firebug:!0,WebConsole:!0,debug:!1},Storage:{prefix:"jMod_",engine:"GM_Storage"}},Language:{Current:"en"},jQueryExtensions:{CrossOrigin:!0},debug:!0}),"object"==typeof a.jMOD_CONFIGURATION&&(e.Config=e.extend(!0,e.Config,a.jMOD_CONFIGURATION)),Object.defineProperties(e.Config,Ct);var K=function(n,r){return typeof r===t?e.Config.SearchForKeyI(n):e.Config.setKeyValueI(n,r)};if(n.scanElement=function(o){if(o&&f(o)){var n,t,i,s={},r=0,u=/^(?:data-)?(.*?)$/i,a=o.attributes;for(r;r<a.length;r++)if(n=a[r].nodeName,n=u.exec(n)[1],t=a[r].value){switch(n.toLowerCase()){case"src":case"type":case"async":case"defer":case"onload":case"onerror":case"charset":case"crossorigin":continue;case"username":e.Config.script.username=t;break;case"scriptname":case"script_name":case"script-name":e.Config.script.script_name=t;break;case"jmod-config":try{t=JSON.parse(t),t&&e.extend(!0,e.Config,t)}catch(l){c.error('Error parsing "'+a[r].nodeName+'"',o,l);continue}break;default:switch(n=n.split("-").join("."),i=K(n),typeof i){case"number":K(n,parseInt(t));break;case"boolean":K(n,"true"==t.trim().toLowerCase()?!0:!1);break;case"string":K(n,t);case"object":try{t=JSON.parse(t),t&&K(n,t)}catch(l){c.error('Error parsing "'+a[r].nodeName+'"',o,l);continue}break;default:continue}}s[n]=t}return s}},j.el)if(j.config=n.scanElement(j.el),j.el.id&&""!=j.el.id.trim())j.id=j.el.id;else{if((i||a).document.getElementById(j.id)){for(var O=0;(i||a).document.getElementById(j.id+"-"+O);)O++;j.id=j.id+"-"+O}j.el.id=j.id}e.API.ParseMetaData_Types=[],e.API.ParseMetaData_Types.push(function(s,e){if("history"==s.toLowerCase()&&"object"==typeof e){for(var a=/\(([0-9\.]+)\)\s+(.*?)$/i,n={},r=0;r<e.length;r++)if(a.test(e[r])){var i=a.exec(e[r]),o=i[1],l=i[2];typeof n[o]===t&&(n[o]=[]),n[o].push(l)}return n}}),e.API.ParseMetaData_Types.push(function(a,e){if("resource"==a.toLowerCase()){"object"!=typeof e&&(e=[e]);var n,t=0,r={},o=/^\s*([\w]+)\s+(.*?)\s*$/;for(t;t<e.length;t++)o.test(e[t])&&(n=o.exec(e[t]),r[n[1]]=n[2]);return r}}),e.API.ParseMetaData=function(a){var i,s,o,n,r={},l=/@([\S]+)\s+(.*?)$/i;for("string"==typeof a&&(a=a.split(/\r?\n/i)),o=0;o<a.length;o++)l.test(a[o])&&(n=l.exec(a[o]),typeof r[n[1]]===t?r[n[1]]=n[2]:"string"!=typeof r[n[1]]?r[n[1]].push(n[2]):(i=r[n[1]],r[n[1]]=[],r[n[1]].push(i),r[n[1]].push(n[2])));for(s in r)for(o=0;o<e.API.ParseMetaData_Types.length;o++)if(typeof(i=e.API.ParseMetaData_Types[o](s,r[s]))!==t){r[s]=i;break}return r};var v=e.ScriptInfo=function(){if(0==arguments.length)return e.ScriptInfo.get();var t=typeof arguments[0];return 1!=arguments.length||"object"!==t&&"string"!=t?void 0:e.ScriptInfo.GM_info(arguments[0])};v.getURLInfo=function(t){var n=/myuserjs\.org\/script\/([^\/]+)\/([^\s]+)(?:\.(user|meta|metajs|data)\.js){1}?/i;if(n.test(t)){var e=n.exec(t);return{username:e[1],script_name:e[2],get_type:e[3]}}return!1},v.gotFileInfo=!1,v.getScriptFileInfo=function(){if(v.gotFileInfo||!n.getScriptFileInfo)return n.script.script_file_info;var o,r,a=0,i={},l=new Error,s=l.stack.toString();if(-1!=s.indexOf("user.js")&&(o=e.parseStack(s),o.length>0))for(a;a<o.length;a++)if(r=o[a],t==typeof n.jMod_File_Path&&-1!=["jmod.js","jmod.min.js","jmod.full.js","jmod.min.expanded.js","mujs.js","mujs.min.js"].indexOf(r.fileName.toLowerCase())&&(n.jMod_Full_File_Name=r.fileName,n.jMod_File_Name=r.fileName.substr(0,r.fileName.length-3),n.jMod_File_Path=r.fullFileName),""!=r.fileName&&"user.js"==r.fileExt.toLowerCase())return v.gotFileInfo=!0,i=n.script.script_file_info={userscript_full_file_name:r.fileName,userscript_file_name:r.fileName.substr(0,r.fileName.length-8),userscript_file_path:r.fullFileName,caller_lineNumber:r.lineNumber,caller_functionName:r.functionName},e.debug&&Mt("ScriptInfo.getScriptFileInfo","Get Script File Info Successful!!",i,r),i},Object.defineProperty(v,"InfoSet",{get:function(){return t!=typeof n.script.script_info}}),v.set=function(a){var d,r,f,s,i,l,u,o={};try{d=v.getScriptFileInfo(),t!=typeof d&&(o=e.extend(o,d))}catch(p){}try{if(typeof a===t&&(t!=typeof GM_info||t!=typeof GM_getMetadata))try{a={gm_info:t!=typeof GM_info?GM_info:GM_getMetadata(),has_GM_info:t!=typeof GM_info,has_GM_getMetadata:t!=typeof GM_getMetadata}}catch(p){}if("object"==typeof a?(r=a.GM_info||a.gm_info||a.ginfo,t==typeof r&&t!=typeof a.scriptSource&&(r=a),t!=typeof r&&t!=typeof r.scriptMetaStr&&(f=r.scriptMetaStr)):"string"==typeof a&&(f=a),t!=typeof f){s=e.API.ParseMetaData(f);for(i in s)t==typeof o[i]&&(o[i]=s[i])}if(t!=typeof r){if(t!=typeof r.script)for(i in r.script)typeof o[i]===t&&(o[i]=r.script[i]);else c.warn("ScriptInfo","GM_info.script does not exist",r,a);t!=typeof r.uuid?o.gmUUID=r.uuid:t!=typeof r.script.uuid&&(o.gmUUID=r.script.uuid),t!=typeof r.scriptHandler?"tampermonkey"==r.scriptHandler.toLowerCase()?(o.script_handler="Tampermonkey",o.script_handler_version=r.version,n.getScriptFileInfo=!1):"greasemonkey"==r.scriptHandler.toLowerCase()&&(o.script_handler="Greasemonkey",o.script_handler_version=r.version):a.has_GM_info?(o.script_handler="Greasemonkey",o.script_handler_version=r.version):a.has_GM_getMetadata&&(o.script_handler="Scriptish")}if(t!=typeof s&&(i=mt(s,["downloadURL","updateURL","jModupdateURL","jModUpdateURL","jModdownloadURL","jModDownloadURL"],function(n,t){return e.ScriptInfo.getURLInfo(t)}),t!=typeof i&&(u=v.getURLInfo(s[i]))?(n.script.username=u.username,n.script.script_name=u.script_name,-1!=["meta","metajs","data"].indexOf(u.get_type.toLowerCase())&&(n.script.get_type=u.get_type.toLowerCase())):((l=rt(s,["jModusername","jMod_username"]))&&(n.script.username=l),(l=rt(s,["jModscriptname","jMod_script_name"]))&&(n.script.script_name=l)),t!=typeof s.jMod))try{(l=JSON.parse(s.jMod))&&e.extend(!0,e.Config,l)}catch(p){E(p,"ScriptInfo.set","Error parsing options in MetaBlock")}}catch(p){c.error("Error ScriptInfo.set",p)}return Object.defineProperty(e.Config.script,"script_info",{value:Object.freeze(o),writable:!1,enumerable:!0,configurable:!1}),Object.freeze(o)},v.get=function(){var n=e.Config.script.script_info;return t!=typeof n?n:v.set.apply(this,arguments)};var St=!1;if(t!=typeof GM_info||t!=typeof GM_getMetadata){try{v.set()}catch(Et){}var Ot=n("script.script_info.resource");if(Ot&&Ot.jModCSS&&t!=typeof GM_getResourceText)try{var G=GM_getResourceText("jModCSS");G&&""!=G&&(R+=G,St=!0)}catch(Et){}}St||(R=Qt+R);var _t=function(n,e){function o(o,u,i,s,l,f){if("%%"==o)return"%";if(e[++t]===r)return r;var n,o=s?parseInt(s.substr(1)):r,a=l?parseInt(l.substr(1)):r;switch(f){case"s":n=e[t];break;case"c":n=e[t][0];break;case"f":n=parseFloat(e[t]).toFixed(o);break;case"p":n=parseFloat(e[t]).toPrecision(o);break;case"e":n=parseFloat(e[t]).toExponential(o);break;case"x":n=parseInt(e[t]).toString(a?a:16);break;case"d":n=parseFloat(parseInt(e[t],a?a:10).toPrecision(o)).toFixed(0)}n="object"==typeof n?JSON.stringify(n):n.toString(a);for(var d=parseInt(i),c=i&&"0"==i[0]?"0":" ";n.length<d;)n=u!==r?n+c:c+n;return n}var t=-1,a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd])/g;return n.replace(a,o)},M=e.Language=function(o){var n,e,r=M.getLanguage(M.Current,!0);if(r){if(e=ut.call(r,o),n=typeof e,t==n){if(M.Current===M.Default)return;if(r=M.getLanguage(M.Default),e=ut.call(r,o),n=typeof e,t==n)return}return 1==arguments.length||"string"!==n?e:_t.call(_t,e,d.call(arguments,1))}};M.Default="en",Object.defineProperty(M,"Current",{get:function(){try{return n.Language.Current}catch(e){return M.Default}},set:function(e){try{t!==typeof M.Names[e]&&(n.Language.Current=e)}catch(r){}}}),M.Names={},M.getLanguage=function(e,t){return M.Names[e]!==r?M[e]:t?M[M.Default]:void 0
},M.Names.en="English",M.en={},M.Names.es="Espanol",M.es={},e._call=function(){var i,o,r,a,s=arguments.length;try{n.getScriptFileInfo&&!v.gotFileInfo&&v.getScriptFileInfo()}catch(l){}try{if(s>0){if(r=arguments[0],i=typeof r,"string"==i){if(1==s){if(t!==typeof(o=n(r)))return o}else{switch(a=arguments[1],r){case"get":return n(a);case"set":return n(a,arguments[2])}if("function"==typeof a&&typeof e.Events.e[r]!==t)return e.Events.addListener.apply(e.Events,d.call(arguments));if(2==s&&t!==typeof(o=n(r))&&typeof o==typeof a)return n(r,a)}if(-1!=e.log.fnList.join("|").toLowerCase().split("|").indexOf(r.toLowerCase())&&"function"==typeof(o=At.call(e.log,r)))return o.apply(e.log,d.call(arguments,1))}else if("object"==i){if(!f(r)){if(typeof mt(r,["GM_info","gm_info","ginfo"])!==t)return v.set.apply(v,d.call(arguments));if(typeof r.scriptSource!==t&&typeof r.scriptMetaStr!==t)return v.set.apply(v,d.call(arguments))}}else if("function"==i&&1==s)return e.onReady=r,r;n("debug")&&e.Warning("Unable to process jMod() call:",d.call(arguments))}}catch(l){}},e.$=function(n,t,r){t=t||e.Element.document;try{if(!0!==r&&e.jQueryAvailable)try{return $(n,t).first()[0]}catch(o){}if("string"!=typeof n)return;return t.querySelector(n)}catch(o){e.Exception("jMod.Query","Error!",o)}},e.$$=function(n,t,o){t=t||e.Element.document;try{if(!0!==o&&e.jQueryAvailable)try{return $(n,t).toArray()}catch(a){}if("string"!=typeof n)return;var r=t.querySelectorAll(n);return r?[].map.call(r,function(e){return e}):[]}catch(a){e.Exception("jMod.Query","Error!",a)}},e.Element=function(t,o){try{var n=d.call(arguments);switch(x(t)){case"string":if("function"==typeof e.Element[command])return e.Element._call.apply(e.Element,arguments);break;case"map":case"object":return 1==n.length?p.apply(e.Element,arguments):p(n);default:e.Element.isElement(t)}}catch(r){E(r,"jMod.Element")}},e.Element._call=function(t){return"function"==typeof e.Element[t]?e.Element[t].apply(e.Element,d.call(arguments,1)):void 0},Object.defineProperty(e.Element,"document",{get:function(){try{return t!=typeof document?document:i.document||a.document}catch(e){}return null}}),Object.defineProperty(e.Element,"head",{get:function(){try{var t=e.Element.document;return t.head||t.getElementsByTagName("head")[0]}catch(n){}return null}}),e.Element.isElement=f;var S=e.Element.hasClass=function(e,t){return-1!=(" "+e.className+" ").indexOf(" "+t+" ")},en=(e.Element.hasClasses=function(t,e){var n=" "+t.className+" ",r="string"==typeof e?e.split(" "):e;return r.filter(function(e){return-1!=n.indexOf(" "+e+" ")})},e.Element.missingClasses=function(t,e){var n=" "+t.className+" ",r="string"==typeof e?e.split(" "):e;return r.filter(function(e){return-1==n.indexOf(" "+e+" ")})}),C=e.Element.addClass=function(e,t){return S(e,t)||(e.className=(e.className+" "+t).trim()),e},w=(e.Element.addClasses=function(e,t){return e.className=(e.className+" "+en(e,t).join(" ")).trim(),e},new RegExp("\\w+"),e.Element.removeClass=function(e,t){return e.className=(" "+e.className+" ").replace(new RegExp(" "+t+" ","g")," ").trim(),e}),Rt=e.Element.removeClasses=function(e,t){return e.className=(" "+e.className+" ").replace(new RegExp(" (?:"+("string"==typeof t?t.split(" "):t).join("|")+") ","g")," ").trim(),e},wt=function(e,t){return e.hasAttribute(t)},N=function(r,o,n){var t,e=r.getAttribute(o);if(!n)return e;switch(n){case"int":case"integer":return parseInt(e);case"bool":case"boolean":return t=null!=e&&""!=e?e.trim().toLowerCase():"false",-1!==t.indexOf("true")||"t"==t?!0:!1}return e},Ht=function(r,s,l){for(var t=0,c=r.ownerDocument||e.Element.document,n=c.createElement(s),i=r.attributes,o=r.childNodes,a=["scrollLeft","scrollTop"];t<i.length;t++)n.setAttributeNode(i[t]);for(t=0;t<o.length;t++)n.appendChild(l?n.removeChild(o[t]):o[t]);for(t=0;t<a.length;t++)n[a[t]]=r[a[t]];return n},I=e.Element.addEventListener=function(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r?!0:!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},yt=e.Element.removeEventListener=function(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r?!0:!1):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null};e.Element.viewportSize={getHeight:function(){return this.getSize("Height")},getWidth:function(){return this.getSize("Width")},getSize:function(t){var l,f=t.toLowerCase(),c=i||a,u=e.Element.document,d=e.Element.head,n=u.documentElement;if(c["inner"+t]===r)l=n["client"+t];else if(c["inner"+t]!=n["client"+t]){var o=u.createElement("body");o.id="vpw-test-b",o.style.cssText="overflow:scroll";var s=u.createElement("div");s.id="vpw-test-d",s.style.cssText="position:absolute;top:-1000px",s.innerHTML="<style>@media("+f+":"+n["client"+t]+"px){body#vpw-test-b div#vpw-test-d{"+f+":7px!important}}</style>",o.appendChild(s),n.insertBefore(o,d),l=7==s["offset"+t]?n["client"+t]:c["inner"+t],n.removeChild(o)}else l=c["inner"+t];return l}},It.prototype={appendChild:function(o){var n,e=this.data,i=x(e),a=x(o);if("array"==a){for(n=0;n<o.length;n++)this.appendChild(o[n]);return this}if(f(e)){if(f(o))return e.appendChild(o),this;if("ElementBuilderClass"==a)return e.appendChild(o.toElement()),this}return"ElementBuilderClass"==i?(e.appendChild(o),this):"object"==typeof e?(n=e.innerHTML===r&&e.text!==r?"text":"innerHTML","array"==x(e[n])?e[n].push(o):e[n]=typeof e[n]==t||null==e[n]?[o]:[e[n],o],this):this},toElement:function(){return f(this.data)?this.data:this.data=p(this.data)}},Object.defineProperties(It.prototype,{type:{get:function(){return f(this.data)?this.data.nodeName.toLowerCase():this.data.type.toLowerCase()},set:function(e){if(f(this.data)){var t=this.data.parentElement;G=Ht(this.data,e,!0),t.replaceChild(G,this.data),this.data=G}else this.data.type=e},configurable:!1,enumerable:!0},children:{get:function(){if(f(this.data))return this.data.children;var e=this.data.innerHTML===r&&this.data.text!==r?"text":"innerHTML";return this.data[e]||null},configurable:!1,enumerable:!0}});{var L=e.Element.appendChild=function(n,a){var s,i,o;try{if(f(n)||"object"!=typeof n||null==n.type){if(typeof a===t||null===a)return n;if(f(a))n.appendChild(a);else switch(x(a)){case t:case"null":break;case"array":for(o=0;o<a.length;o++)n=L(n,a[o]);break;case"object":case"map":(i=p(a))&&n.appendChild(i);break;default:for(i=(n.ownerDocument||e.Element.document).createElement("div"),i.innerHTML=a,s=i.childNodes,o=0;o<s.length;o++)n.appendChild(s[o])}}else o=n.innerHTML===r&&n.text!==r?"text":"innerHTML","array"==x(n[o])?n[o].push(a):n[o]=[n[o],a]}catch(l){E(l,"jMod.Element.appendChild")}finally{return n}return n},ot=["id","className","checked","defaultValue","title","async","defer","src","onerror","onload","responseCallback","value","max","min"],p=e.Element.createNewElement=function(n){var t,c,l,i,a,s,u=n.EventListeners||n.eventListeners,d=e.Element.document,o=d.createElement(n.type||"div"),f=function(n,e){if("function"==typeof e)return I(o,n,e);if(i=e.useCapture||e.Capture||e.capture||!1,a=e.callback||e["function"])if("array"==x(a))for(t in a)"function"!=typeof a[t]&&(i=a[t].useCapture||a[t].Capture||a[t].capture||i),I(o,n,a[t],i);else I(o,n,a,i)};if("string"==typeof n.style)o.setAttribute("style",n.style);else if("object"==typeof n.style)for(t in n.style)o.style[t]=n.style[t];for(t=0;t<ot.length;t++)n[ot[t]]!==r&&(o[ot[t]]=n[ot[t]]);if(n.attributes!==r)for(t in n.attributes)null!=n.attributes[t]&&o.setAttribute(t,n.attributes[t]);if(u)for(l in u)if(s=u[l],"array"==x(s))for(c=0;c<s.length;c++)f(l,s[c]);else f(l,s);return L(o,n.innerHTML||n.text||null),o},Bt=e.Element.getOffset=function(t){var n=t.getBoundingClientRect(),e=t.ownerDocument,r=e.documentElement,o=null!=e&&e===e.window?e:9===e.nodeType&&e.defaultView;return{top:parseInt(n.top+o.pageYOffset-r.clientTop),left:parseInt(n.left+o.pageXOffset-r.clientLeft),bottom:n.bottom,height:parseInt(n.height||parseInt(t.offsetHeight)-parseInt(t.clientHeight)+parseInt(t.scrollHeight)),width:parseInt(t.offsetWidth)}},Gt=e.Element.isNamespaced=function(t,n){for(var e=t;e.parentElement;)if(e=e.parentElement,S(e,n))return!0;return!1},q=e.Element.findParentWithClass=function(t,n){for(var e=t;e.parentElement;)if(e=e.parentElement,S(e,n))return e};e.Element.findParentWithAttribute=function(o,n,r){for(var e=o;e.parentElement;)if(e=e.parentElement,e.hasAttribute(n)&&(t==typeof r||e.getAttribute(n)==r))return e}}e.Element.getCompStyleObj=function(t,r){var n=t.ownerDocument||e.Element.document;return t.currentStyle?t.currentStyle:n.defaultView&&n.defaultView.getComputedStyle?n.defaultView.getComputedStyle(t,r||null):void 0},e.Element.getCompStyle=function(){for(var r,o,t,s,n,a,i=0;i<arguments.length;i++)r=arguments[i],f(r)?o=r:"string"==typeof r?t?s=r:t=r:n=r;if(n){if(n[t])return n[t]}else{if(o.currentStyle)return o.currentStyle[t];if(a=o.ownerDocument||e.Element.document,a.defaultView&&a.defaultView.getComputedStyle&&(n=a.defaultView.getComputedStyle(o,s||null)))return n[t]?n[t]:n.getPropertyValue(t)}return o?o.style[t]:null},e.Element.getClientRect=function(n){try{var r,t=e.extend({},n.getBoundingClientRect());return(null==t.height||null==t.width)&&(r=e.Element.getCompStyleObj(n),t.height=parseFloat(e.Element.getCompStyle(n,"height",r)),t.width=parseFloat(e.Element.getCompStyle(n,"width",r))),t}catch(o){}},+function(){var t=i||a,n=t.requestAnimationFrame?"requestAnimationFrame":t.mozRequestAnimationFrame?"mozRequestAnimationFrame":t.webkitRequestAnimationFrame?"webkitRequestAnimationFrame":t.oRequestAnimationFrame?"oRequestAnimationFrame":t.msRequestAnimationFrame?"msRequestAnimationFrame":null,r=t.cancelAnimationFrame?"cancelAnimationFrame":t.mozCancelAnimationFrame?"mozCancelAnimationFrame":t.webkitCancelAnimationFrame?"webkitCancelAnimationFrame":t.oCancelAnimationFrame?"oCancelAnimationFrame":t.msCancelAnimationFrame?"msCancelAnimationFrame":t.clearTimeout?"clearTimeout":null;e.Element.requestAnimationFrame=function(e){if(n)try{return t[n](e)}catch(r){}return t.setTimeout(e,17)},e.Element.cancelAnimationFrame=function(e){return r?t[r](e):void 0}}(),+function(){function t(o){var n=o.__resizeTriggers__,e=n.firstElementChild,t=n.lastElementChild,r=e.firstElementChild;t.scrollLeft=t.scrollWidth,t.scrollTop=t.scrollHeight,r.style.width=e.offsetWidth+1+"px",r.style.height=e.offsetHeight+1+"px",e.scrollLeft=e.scrollWidth,e.scrollTop=e.scrollHeight}function n(e){return e.offsetWidth!=e.__resizeLast__.width||e.offsetHeight!=e.__resizeLast__.height}function r(o){var r=this;t(this),this.__resizeRAF__&&e.Element.cancelAnimationFrame(this.__resizeRAF__),this.__resizeRAF__=e.Element.requestAnimationFrame(function(){n(r)&&(r.__resizeLast__.width=r.offsetWidth,r.__resizeLast__.height=r.offsetHeight,r.__resizeListeners__.forEach(function(e){e.call(r,o)}))})}e.Element.addResizeListener=function(n,o){n.attachEvent?n.attachEvent("onresize",o):(n.__resizeTriggers__||("static"==(i||a).getComputedStyle(n,null).position&&(n.style.position="relative"),n.__resizeLast__={},n.__resizeListeners__=[],(n.__resizeTriggers__=e.Element.document.createElement("div")).className="resize-triggers",n.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',n.appendChild(n.__resizeTriggers__),t(n),n.addEventListener("scroll",r,!0),n.__resizeTriggers__.addEventListener("animationstart",function(e){"resizeanim"==e.animationName&&t(n)})),n.__resizeListeners__.push(o))}}(),e.CSS='@-webkit-keyframes resizeanim{0%{opacity:0;}100%{opacity:0;}}@keyframes resizeanim{0%{opacity:0;}100%{opacity:0;}}.jmod-na .resize-triggers{-webkit-animation:1ms resizeanim;animation:1ms resizeanim;visibility:hidden;opacity:0;}.jmod-na .resize-triggers,.jmod-na .resize-triggers > div,.jmod-na .contract-trigger:before{content:" ";display:block;position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden;}.jmod-na .resize-triggers > div{background:#eee;overflow:auto;}.jmod-na .contract-trigger:before{width:200%;height:200%;}';var y=new function(){var e=this,n='font-family:"Sansation","Open Sans",Arial;',t="font-size:175%;font-weight:300;"+n;e.time="font-weight:bold;font-size:120%;color:red;",e.stchange="font-weight:bold;font-size:130%;color:blue;",e.iconStyle='font-size:1.75em;background-color: transparent;background-image:url("http://myuserjs.org/img/favicon/favicon.png");background-clip: border-box;background-position:left center;background-size:auto 75%;background-repeat: no-repeat;letter-spacing: 20px;white-space: pre;display: run-in;',e.logDefaultStyle="display: run-in;",e.logHeaderStyle=t,e.logTitleStyle="color:#000;font-size:125%;",e.logTextStyle="font-weight:bold;font-size:120%;color:#000;",e.infoDefaultStyle="display: run-in;",e.infoHeaderStyle=t,e.infoTitleStyle="color:#000;font-size:125%;",e.infoTextStyle="font-weight:bold;font-size:120%;color:blue;",e.warningDefaultStyle="display: run-in;",e.warningHeaderStyle=t,e.warningTitleStyle="color:#000;font-size:125%;",e.warningTextStyle="font-weight:bold;font-size:120%;color:red;",e.errorDefaultStyle="display: run-in;",e.errorHeaderStyle=t+"color:red;",e.errorTitleStyle="color:#000;font-size:125%;",e.errorLineStyle="color:blue;"};+function(){function s(e){return t!==typeof e&&t!==typeof e.timeStamp?!0:!1}function f(e){return"console"==x(e)?!0:t===typeof e||s(e)||t!==typeof e.dirxml||t===typeof e.trace?!1:!0}function b(e){return t===typeof e||s(e)||f(e)||t!==typeof e.dirxml||t!==typeof e.exception?!1:!0}function p(e){return e(i.console)?i.console:e(c)?c:e(this.console)?this.console:e(a.console)?a.console:e(a.window.console)?a.window.console:t!=typeof Console&&e(Console)?Console:e(this.Console)?this.Console:e(i.Console)?i.Console:e(a.Console)?a.Console:e(a.window.Console)?a.window.Console:r}function v(){return p(s)}function E(){return p(b)}function _(){return p(f)}function M(e){return-1==n("API.log.disabled").indexOf(e)&&n("API.log.verbosity_level")>1}var o,h={ERROR:{level:1,value:"error"},EXCEPTION:{level:1,value:"exception"},WARNING:{level:2,value:"warn"},INFO:{level:3,value:"info"},LOG:{level:4,value:"log"},DEBUG:{level:5,value:"debug"}},m=[["Error","ERROR"],["logError","ERROR"],["Exception","EXCEPTION"],["Warning","WARNING"],["Info","INFO"],["Log","LOG"],["Debug","DEBUG"]],l=["assert","clear","count","dir","dirxml","group","groupCollapsed","groupEnd","profile","profileEnd","table","time","timeEnd","timeStamp","trace"],u=["Debug","Log","Info","Warning","logError","Exception"];for(e.isFormatted=function(t,e){return-1!=["debug","log","info","warn","error","exception"].indexOf(t)&&"string"==typeof e&&/(?:\%s|\%c|\%o|\%d|\%f|\%\.\df|\%i)/.test(e)},e.log=g.log={OUTPUT_TYPES:h,fb:r,c2:r,wc:r,fnList:[].concat(u,l),updateFB:function(e){s(e)&&(n("API.log.debug")&&c.info("jMod.API.log - Firebug Object: ",e),this.fb=e)},updateC2:function(e){b(e)&&(n("API.log.debug")&&c.info("jMod.API.log - Console2 Object: ",e),this.c2=e)},updateWC:function(e){f(e)&&(n("API.log.debug")&&c.info("jMod.API.log - Web Console Object: ",e),this.wc=e)},UpdateAll:function(){this.updateFB(v()),this.updateC2(E()),this.updateWC(_())},ConsoleCommand:function(o,p){try{var e,i=0,s=["WebConsole","Firebug"],l=d.call(arguments,1),r={Firebug:this.fb,WebConsole:this.wc},u=P(l,a,{cloneFunctions:!0,wrapReflectors:!0});for(-1==["profile","profileEnd","error"].indexOf(o)&&n.API.log.WebConsole||(s=["Firebug","WebConsole"]);i<s.length;i++)if(e=s[i],null!=r[e]&&typeof r[e][o]!==t&&n.API.log[e]){try{return r[e][o].apply(r[e],l)}catch(f){}try{return r[e][o].apply(r[e],u)}catch(f){}}}catch(f){c.error(f)}return!1},outputMessage:function(e,t){e.level<=n("API.log.verbosity_level")&&this.ConsoleCommand.apply(this,[e.value].concat(d.call(arguments,1)))},fmt:y},o=0;o<m.length;o++)g.log[m[o][0]]=function(e){return function(){return this.outputMessage.apply(this,[h[e]].concat(d.call(arguments)))}.bind(g.log)}(m[o][1]);for(o=0;o<l.length;o++)g.log[l[o]]=function(e){return function(){return M(e)?this.ConsoleCommand.apply(this,[e].concat(d.call(arguments))):void 0}.bind(g.log)}(l[o]);for(o=0;o<u.length;o++)e[u[o]]=e.log[u[o]].bind(g.log);g.logFormatBuilder=function(){this.args=[];var e=function(e,o,a){var i=t===typeof e,s=typeof o;typeof o===t&&(o=typeof e);var n;switch(o){case"d":case"%d":n="%d";break;case"i":case"%i":n="%i";break;case"f":case"%f":n="%.2f";break;case"number":parseInt(e)===e&&e===+e?(n="%d",e=parseInt(e)):(n="%.2f",e=parseFloat(e));break;case"s":case"%s":"\n"==e||" \n"==e?(n=" \n",e=r,a=r,i=!1):n="%s";break;case"string":n=e,e=r,i=!1;break;case"o":case"%o":n="%o";break;case"object":default:n=s==t&&t==typeof a?"":"%o"}this.args.push({valueIsUndefined:i,value:e,fmtString:n,style:a})};this.add=function(){var t=0,n=arguments[0];if(1==arguments.length&&"array"==x(n))for(;t<n.length;t++)e.apply(this,n[t]);else e.apply(this,d.call(arguments))},this.build=function(){for(var n="",t=[],e=0;e<this.args.length;e++)n+=("undefined"!=typeof this.args[e].style?"%c":"")+this.args[e].fmtString,"undefined"!=typeof this.args[e].style&&t.push(""!=this.args[e].style?this.args[e].style:" "),("undefined"!=typeof this.args[e].value||this.args[e].valueIsUndefined)&&t.push(this.args[e].value);return[n].concat(t)},arguments.length>0&&this.add.apply(this,arguments)},e.log.UpdateAll()}();var E=function(){var i,a=3,n=arguments[0],s=arguments[1];try{i=arguments[2]}catch(c){}n&&n instanceof Error||(i=s,s=n,n=r,a=2);for(var o=y.errorDefaultStyle,l=new g.logFormatBuilder([["  ","%s",o+y.iconStyle],["jMod","string",o+y.errorHeaderStyle],[" - ","string",o],[s||" ","%s",o+y.errorTitleStyle],[" \n","string"],[i||"","%s",o+"color:red;"]]);a<arguments.length;a++)l.add([[" \n","string"],[arguments[a],"string"==typeof arguments[a]?"string":"object","color:red;"]]);typeof n!=t&&null!=n&&l.add([[" \n","string"],[n.message+" ","%s",o+"color:red;"],[n.lineNumber,"%s",o+y.errorLineStyle+"color:red;"],[" \n","string"," "],[n&&n.err?n.err:n,"%0","color:red;"]]);try{e.logError.apply(e.log,l.build())}catch(n){}},B=function(i,s){if(!(e.log.OUTPUT_TYPES.WARNING.level>n("API.log.verbosity_level"))){var o=2,r=y.warningDefaultStyle,a=new g.logFormatBuilder([["  ","%s",r+y.iconStyle],["jMod Warning","string",r+y.warningHeaderStyle]]);for(a.add(t!==typeof s?[[" - ","string",r],[i||" ","%s",r+y.warningTitleStyle],[" \n","string"],[s||"","%s",r+y.warningTextStyle]]:[[" \n","string"],[i||"","%s",r+y.warningTextStyle]]),arguments.length>2&&a.add(" \n","string"),o;o<arguments.length;o++)a.add(arguments[o]);e.Warning.apply(e.log,a.build())}},Mt=function(i,s){if(!(e.log.OUTPUT_TYPES.INFO.level>n("API.log.verbosity_level"))){var o=2,r=y.infoDefaultStyle,a=new g.logFormatBuilder([["  ","%s",r+y.iconStyle],["jMod","string",r+y.infoHeaderStyle]]);for(a.add(t!==typeof s?[[" - ","string",r],[i||" ","%s",r+y.infoTitleStyle],[" \n","string"],[s||"","%s",r+y.infoTextStyle]]:[[" \n","string"],[i||"","%s",r+y.infoTextStyle]]),arguments.length>2&&a.add(" \n","string"),o;o<arguments.length;o++)a.add(arguments[o]);e.Info.apply(e.log,a.build())}},z=function(r,o,a){if(!(e.log.OUTPUT_TYPES.INFO.level>n("API.log.verbosity_level"))){var i=(o||"")+e.timeElapsed.toFixed(2)+"ms"+(a||""),t=y.infoDefaultStyle,s=new g.logFormatBuilder([["  ","%s",t+y.iconStyle],["jMod","string",t+y.infoHeaderStyle],[" - ","string",t],[r||" ","%s",t+y.infoTitleStyle],[" ","string"],[i,"%s",t+y.time]]);e.Info.apply(e.log,s.build())}};e.log.Info("Loading jMod API v"+e.version+" "+e.build_type+(e.debug?" (debug enabled)":"")+" - "+new Date(parseInt(e.build_time)).toString()),e.debug&&(z("jMod Init Start Time"),e.log.group("jMod Start"),n.script.script_info&&Mt("ScriptInfo.set","Get Script_Info Successful!!",n.script.script_info),e.log.group("jMod Initialize"),j.el&&e.Info("CurrentRunningScript",j)),e.Events={e:{},fired:{},addEvent:function(n,r){this.e[n]={recordEvent:typeof r!==t?r:!0,listeners:[]},Object.defineProperty(e,n,new function(n){return{set:function(t){e.Events.addListener(n,t)},get:function(){return typeof e.Events.fired[n]!==t},enumerable:!1}}(n))},addListener:function(e,r,n){this.e[e].listeners.push(r),n=typeof n!==t?n:!0,n&&typeof this.fired[e]!==t&&typeof this.fired[e].args!==t&&r.apply(this.fired[e]._this,this.fired[e].args)},fire:function(e,n){if(typeof this.e[e]!==t){typeof this.fired[e]===t&&(this.fired[e]={count:0,args:r,_this:null});var o,a=null;"object"==typeof n&&typeof n._this!==t&&typeof n.args!==t?(a=n._this,o=n.args):o=d.call(arguments,1),this.e[e].recordEvent&&(this.fired[e].args=o,this.fired[e]._this=a);for(var i=[];O=this.e[e].listeners.pop();)O.apply(a,o)||i.push(O);this.e[e].listeners=i,this.fired[e].count++}}},e.Events.addEvent("onDOMReady"),e.Events.addEvent("onReady"),e.Events.addEvent("onPageReady"),e.Events.addEvent("onPerformanceReady"),e.Events.addEvent("load"),e.Events.addEvent("DOMContentLoaded"),e.Events.addEvent("onreadystatechange"),e.Events.addEvent("afterscriptexecute",!1),e.Events.addEvent("beforescriptexecute",!1);var ft=function(n){var e={};this.events=n||[],this.add=function(n,r,o){-1==this.events.indexOf(r)&&this.events.push(r),typeof e[n]===t&&(e[n]={}),typeof e[n][r]===t&&(e[n][r]=[]),e[n][r].push(o)},this.addAll=function(t,n){for(var e in this.events)"function"==typeof t[this.events[e]]&&this.add(n,this.events[e],t[this.events[e]])},this.getAll=function(t,n){return n?e[t]&&e[t][n]?e[t][n]:void 0:e[t]},this.fire=function(s,r,l,o){var n,i,a,r=e[r||"0"];n="array"==x(o)?o:[o],arguments.length>4&&(n=n.concat(d.call(arguments,4)));try{if(typeof r!==t&&typeof(a=r[s])!==t)for(i in a)if(!1===a[i].apply(l||null,n||[]))return c.log("fire canceled"),!1}catch(u){E(u,"jMod.EventsClass.fire")}}};e.Observer=function(){this.filters=[],this.addFilter=function(e,t,n){this.filters.push({callback:e,data:t,fireOnce:!0===n?!0:!1})},this.filterMutation=function(a){var t,o,i,n,r=0;for(r;r<this.filters.length;r++)if(t=this.filters[r].data,o=!1,!t.type||("string"==typeof t.type&&(t.type=[t.type]),-1!=t.type.indexOf(a.type))){if("object"==typeof t.target){if(t.target.hasClass){for("string"==typeof t.target.hasClass&&(t.target.hasClass=[t.target.hasClass]),n=0;n<t.target.hasClass.length;n++)if(!S(a.target,t.target.hasClass[n])){o=!0;break}if(o)continue}if(t.target.hasChildren){for("string"==typeof t.target.hasChildren&&(t.target.hasChildren=[t.target.hasChildren]),n=0;n<t.target.hasChildren.length;n++)if(i=e.$$(t.target.hasChildren[n],a.target),!i||0==i.length){o=!0;break}if(o)continue}}if(this.filters[r].callback(a,this),this.filters[r].fireOnce)return}},this.MutationObserver=new MutationObserver(function(t){for(var e=0;e<t.length;e++)this.filterMutation(t[e])}),this.observe=function(e,t){this.MutationObserver.observe(e,t||{childList:!0,attributes:!0,characterData:!0,subtree:!0})},this.disconnect=function(){this.MutationObserver.disconnect()}},e.FileSelector=function(r){var n=this;n.events={change:[]},r.onChange&&n.events.change.push(r.onChange),n.onChange=function(r){for(var t=0;t<n.events.change.length;t++)n.events.change[t].call(this||n||e,r,n.files(),n.value())},n.click=function(e,r){return bt(n.buttonTriggerElement,t!==typeof e?e:!0,t!==typeof r?r:!0)},n.files=function(){return n.inputElement.files},n.value=function(){return n.inputElement.value};var o={type:"input",attributes:{type:"file",multiple:r.multiple?!0:!1},style:{position:"absolute",opacity:"0","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)",filter:"alpha(opacity=0)",width:"0"},EventListeners:{change:n.onChange}};r.defaultValue&&(o.defaultValue=r.defaultValue),r.accept&&(o.attributes.accept=r.accept),n.inputElement=p(o);var a={type:"button",EventListeners:{click:function(t){c.log("Button click triggered");var e=this.previousSibling;return e.focus(),bt(e),H(t),!1}}};"object"==typeof r.button&&(r.button.type&&delete r.button.type,r.button.EventListeners&&r.button.EventListeners.click&&delete r.button.EventListeners.click,a=e.extend(!0,a,r.button)),n.buttonTriggerElement=p(a);var i=e.extend(!0,r.form||{},{type:"form",innerHTML:[n.inputElement,n.buttonTriggerElement]});n.formElement=p(i),e.FileSelector.FileSelectorForms.push(n.formElement)},e.FileSelector.FileSelectorForms=[],e.FileSelector.FileReadSupport=function(){return i.File&&i.FileReader},e.FileSelector.BlobSupport=function(){return i.File&&i.Blob},e.FileSelector.ReadFileAsText=function(t,n,a){if(!e.FileSelector.FileReadSupport)return e.debug&&c.log("Error! No Support For File Reading!"),!1;var o=new FileReader;return t?(o.onload=function(r){return n.call(this||e,r,r.target.result,t)},o.onerror=function(o){return e.debug&&c.log("Error reading file",t),(a||n)(o,r,t)},o.readAsText(t),!0):(e.debug&&c.log("Error reading file",t),(a||n)(Et,r,t),!1)},e.FileSelector.ReadFileAsURL=function(t,n,a){if(!e.FileSelector.FileReadSupport)return e.debug&&c.log("Error! No Support For File Reading!"),!1;var o=new FileReader;return t?(o.onload=function(r){return n.call(this||e,r,r.target.result,t)},o.onerror=function(o){return e.debug&&c.log("Error reading file",t),(a||n)(o,r,t)},o.readAsDataURL(t),!0):(e.debug&&c.log("Error reading file",t),(a||n)(Et,r,t),!1)},e.FileSelector.ReadFileAsJSON=function(o,t,n){return e.FileSelector.ReadFileAsText(o,function(a,i,o){if(!i||""==i)return e.debug&&c.log("Error! JSON file is empty!",o),(n||t)(a,r,o);try{return t(a,JSON.parse(i),o)}catch(s){return e.debug&&c.log("Error! Cannot parse json file!",s,o),(n||t)(a,r,o)}})};var tn=e.API.addStyle=function(n){if(n&&""!=n){if(typeof GM_addStyle!==t)return GM_addStyle(n)||!0;var r,o=e.Element.head;if(o){r=e.Element.document.createElement("style");try{r.innerHTML=n}catch(a){r.innerText=n}return r.type="text/css",o.appendChild(r)}e.debug&&B("jMod.API.addStyle","Could not add css",n)}};e.API.addStylesheet=function(n){var t,r=e.Element.head;return r?(t=e.Element.document.createElement("link"),t.setAttribute("rel","stylesheet"),t.href=n,r.appendChild(t)):void(e.debug&&B("jMod.API.addStylesheet","Could not add stylesheet",n))},e.API.importStylesheet=function(t){e.CSS="@import url("+t+");\n"},e.API.addScript=function(o,i,s,l,c,u){var r,n,a=e.Element.head;if(n="object"==typeof o?o:{js:o,src:i,id:s,type:l,async:c,defer:u},a){if(r=e.Element.document.createElement("script"),typeof n.id!==t)try{r.id=n.id}catch(f){}if(typeof n.async!==t&&(r.async=n.async),typeof n.defer!==t&&(r.defer=n.defer),typeof n.onload!==t&&(r.onload=n.onload),typeof n.onerror!==t&&(r.onerror=n.onerror),r.type=n.type||"text/javascript",typeof n.js!=t&&null!=n.js&&""!=n.js)try{r.innerHTML=n.js}catch(f){r.innerText=n.js}if(typeof n.src!=t&&null!=n.src&&""!=n.src)try{r.src=n.src}catch(f){}try{return a.appendChild(r)}catch(f){}}return null},e.API.contentEval=function(t){"function"==typeof t&&(t="("+t+")();");var o=e.Element.document,r=e.Element.head,n=o.createElement("script");n.setAttribute("type","application/javascript"),n.textContent=t,r.appendChild(n),r.removeChild(n)},+function(){function o(t){0===t.indexOf('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return t=decodeURIComponent(t.replace(/\+/g," ")),e.API.Cookie.defaults.JSON?JSON.parse(t):t}catch(n){}}function n(n,e){var t=o(n);return"function"==typeof e?e(t):t}e.API.Cookie=function(s,c,o){var i,d,p,a,g,u,f=e.Element.document,m=s?r:{},h=e.API.Cookie.defaults;if(!f)return void B("jMod.API.Cookie","No document available");if(arguments.length>1&&"function"!=typeof c){switch(o=e.extend({},h,o),e.RealTypeOf(o.expires)){case"number":u=o.expires,i=o.expires=new Date,i.setTime(+i+864e5*u);break;case"string":try{o.expires=Date.parse(o.expires)}catch(y){return void E(y,"jMod.API.Cookie","Invalid Exp Date")}break;case"invaliddate":return void E(y,"jMod.API.Cookie","Invalid Exp Date");case"date":break;default:o.expires=h.expires}if(h.JSON)try{a=encodeURIComponent(JSON.stringify(c))}catch(y){a=r}return t==typeof a&&(a=encodeURIComponent(String(c))),f.cookie=[encodeURIComponent(s),"=",a,o.expires?"; expires="+o.expires.toUTCString():"",o.path?"; path="+o.path:"",o.domain?"; domain="+o.domain:"",o.secure?"; secure":""].join("")}for(g=f.cookie?f.cookie.split("; "):[],i=0,l=g.length;i<l;i++){if(d=g[i].split("="),p=decodeURIComponent(d.shift()),a=d.join("="),s&&s===p){m=n(a,c);break}if(!s){var u=n(a)||a;u&&(m[p]=u)}}return m},e.API.Cookie.defaults={expires:Date.parse("Jan 1, 2020"),JSON:!0},e.API.Cookie.remove=function(t,n){return e.API.Cookie===r?!1:(e.API.Cookie(t,"",e.extend({},n||{},{expires:-1})),!e.API.Cookie(t))}}(),e.API.GM_Storage={available:function(){return typeof GM_getValue!==t&&typeof GM_setValue!==t&&typeof GM_deleteValue!==t},getValue:function(t,e){return this.available()?GM_getValue(n("API.Storage.prefix")+t,e):e},setValue:function(e,t){return this.available()?GM_setValue(n("API.Storage.prefix")+e,t):void 0},setJSON:function(n,e){var t;try{t=JSON.stringify(e)}catch(r){E(r,"GM_Storage.setJSON","Cannot stringify value!")}try{return this.setValue(n,t||e)}catch(r){}},getJSON:function(n,t){var e=this.getValue(n,t);try{if("string"==typeof e)return JSON.parse(e)}catch(r){E(r,"GM_Storage.setJSON","Error parsing value!")}return e||t},deleteValue:function(e){return this.available()?GM_deleteValue(n("API.Storage.prefix")+e):void 0}},e.API.localStorage={available:function(){try{var e=this.stor;if(t!==typeof e&&null!=e&&e.getItem&&e.setItem)return!0}catch(n){}return!1},getValue:function(r,e){if(!this.available())return e;try{var t=this.stor.getItem(n("API.Storage.prefix")+r);return null!==t?t:e}catch(o){}return e},setValue:function(e,t){if(this.available())try{return this.stor.setItem(n("API.Storage.prefix")+e,t)}catch(r){}},setJSON:function(n,e){if(this.available()){var t;try{t=JSON.stringify(e)}catch(r){E(r,"localStorage.setJSON","Cannot stringify value!")}try{return this.setValue(n,t||e)}catch(r){}}},getJSON:function(n,t){if(!this.available())return t;var e;try{e=this.getValue(n,t)}catch(r){}try{if("string"==typeof e)return JSON.parse(e)}catch(r){E(r,"localStorage.setJSON","Error parsing value!")}return e||t},deleteValue:function(e){if(this.available())try{return this.stor.removeItem(n("API.Storage.prefix")+e)}catch(t){}}},Object.defineProperty(e.API.localStorage,"stor",{get:function(){try{return i.localStorage&&null!=i.localStorage?i.localStorage:t!==typeof localStorage&&null!=localStorage?localStorage:a.localStorage&&null!=a.localStorage?a.localStorage:r}catch(e){B("jMod.API.localStorage","localStorage unavailable!",e.message)}},enumerable:!1}),e.API.sessionStorage={available:function(){try{var e=this.stor;if(t!==typeof e&&null!=e&&e.getItem&&e.setItem)return!0}catch(n){}return!1},getValue:function(r,e){if(!this.available())return e;try{var t=this.stor.getItem(n("API.Storage.prefix")+r);return null!==t?t:e}catch(o){}return e},setValue:function(e,t){if(this.available())try{return this.stor.setItem(n("API.Storage.prefix")+e,t)}catch(r){}},setJSON:function(n,e){if(this.available()){var t;try{t=JSON.stringify(e)}catch(r){E(r,"sessionStorage.setJSON","Cannot stringify value!")}try{return this.setValue(n,t||e)}catch(r){}}},getJSON:function(n,t){if(!this.available())return t;var e;try{e=this.getValue(n,t)}catch(r){}try{if("string"==typeof e)return JSON.parse(e)}catch(r){E(r,"sessionStorage.setJSON","Error parsing value!")}return e||t},deleteValue:function(e){if(this.available())try{return this.stor.removeItem(n("API.Storage.prefix")+e)}catch(t){}}},Object.defineProperty(e.API.sessionStorage,"stor",{get:function(){try{return i.localStorage&&null!=i.localStorage?i.localStorage:t!==typeof localStorage&&null!=localStorage?localStorage:a.localStorage&&null!=a.localStorage?a.localStorage:r}catch(e){B("jMod.API.sessionStorage","sessionStorage unavailable!",e.message)}},enumerable:!1}),+function(){var t=function(){var e=[],t=n("API.Storage.engine"),r="GM_Storage",o="localStorage",a="sessionStorage";try{try{g[t]&&g[t].available()&&(e=[t])}catch(i){}-1==e.indexOf(r)&&g[r].available()&&e.push(r),-1==e.indexOf(o)&&g[o].available()&&e.push(o),-1==e.indexOf(a)&&g[a].available()&&e.push(a)}catch(i){}return e};e.getValue=function(o,r){for(var e=0,n=t();e<n.length;e++)try{return g[n[e]].getValue.apply(g[n[e]],arguments)}catch(a){}return r},e.setValue=function(r){for(var e=0,n=t();e<n.length;e++)try{return g[n[e]].setValue.apply(g[n[e]],arguments)
}catch(o){}},e.getJSON=function(o,r){for(var e=0,n=t();e<n.length;e++)try{return g[n[e]].getJSON.apply(g[n[e]],arguments)}catch(a){}return r},e.setJSON=function(r){for(var e=0,n=t();e<n.length;e++)try{return g[n[e]].setJSON.apply(g[n[e]],arguments)}catch(o){}},e.deleteValue=function(n){var e=0;for(storageEngines=t();e<storageEngines.length;e++)try{return g[storageEngines[e]].deleteValue.apply(g[storageEngines[e]],arguments)}catch(r){}}}(),e.API.getRemoteImageAsURL=function(o,e,n){if(t!=typeof GM_xmlhttpRequest){var a=/Content-Type:\s*([^\s]+)/i;return"function"==typeof e&&t===typeof n&&(n=e,e=r),GM_xmlhttpRequest({method:"GET",url:o,overrideMimeType:"text/plain; charset=x-user-defined",onload:function(o){if(t==typeof e||null==e||""==e)try{var r=a.exec(o.responseHeaders);r&&r.length>1&&(e=r[1].trim())}catch(i){}n("data:"+(e&&""!=e?e:"image/png")+";base64,"+Ut(o.responseText))}})}},e.API.getResourceText=function(r,n,a){if(t!==typeof GM_getResourceText)try{var o=GM_getResourceText(r);return n&&n(o),o}catch(i){}return a?e.API.getResourceTextLive(r,n):void 0},e.API.getResourceURL=function(r,n,a){if(t!==typeof GM_getResourceURL)try{var o=GM_getResourceURL(r);return n&&n(o),o}catch(i){}return a?e.API.getResourceURLLive(r,n):void 0},e.API.getResourceTextLive=function(r,o){if(t!=typeof GM_xmlhttpRequest){var e=n("script.script_info.resource");return e&&t!==typeof e[r]?GM_xmlhttpRequest({method:"GET",url:e[r],onload:function(e){o(e.responseText)}}):void 0}},e.API.getResourceURLLive=function(o,a){var r=n("script.script_info.resource");return r&&t!==typeof r[o]?e.API.getRemoteImageAsURL(r[o],a):void 0},e.API.addResourceCSS=function(r){if(!e.API.getResourceText(r,function(t){"string"==typeof t&&""!=t&&(e.CSS=t)},!1)){var o=n("script.script_info.resource");o&&t!==typeof o[r]&&e.API.addStylesheet(o[r])}},e.API.addResourceScript=function(r){if(!e.API.getResourceText(r,function(t){"string"==typeof t&&""!=t&&e.API.addScript({js:t})},!1)){var o=n("script.script_info.resource");o&&t!==typeof o[r]&&e.API.addScript({src:o[r],async:!0,defer:!0})}},e.API.Date=function(t,n){switch(t){case"parseUTC":case"parseUTCDate":return e.API.Date.parseUTCDate.apply(e.API.Date,d.call(arguments,1))}},Object.defineProperties(e.API.Date,{now:{get:function(){return Date.now()}}}),e.API.Date.parseUTCDate=function(t){if("string"==typeof t){var e=/^(\d{4})[\-\/](\d{2})[\-\/](\d{2})(?:T|\s)(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)Z?$/i.exec(t);if(e)return new Date(Date.UTC(+e[1],+e[2]-1,+e[3],+e[4],+e[5],+e[6]))}else if("date"==x(t))return new Date(t);return null},e.API.Date.getScriptTimeDiff=function(n){var r;if("string"==typeof n?r=e.API.Date.parseUTCDate(n):"object"==typeof n&&typeof n.scriptUploadTimestamp!==t&&(r=e.API.Date.parseUTCDate(n.scriptUploadTimestamp)),!r)return null;var o=Date.now(),a=Math.abs(o-r),i=a/1e3/60,s=i/60,l=s/24;return{date:r,now:o,milliseconds:a,minutes:i,hours:s,days:l}},e.jQueryExtensions={},+function(){function n(t,n){return a.globaljQueryCrossOriginSupportFn||(e.jQueryExtensions._globaljQueryCrossOriginSupportFn=gt(e.jQueryExtensions.CrossOriginSupportTransportFn(t,n),a,{defineAs:"globaljQueryCrossOriginSupportFn",allowCallbacks:!0,allowCrossOriginArguments:!0}))}e.jQueryExtensions.CrossOriginSupportTransportFn=function(n,r){return function(r,o,c){var i=!0;try{i=e.Config("jQueryExtensions.CrossOrigin")}catch(u){}if(t!=typeof GM_xmlhttpRequest&&i){var s=(n||$||e).extend,a=s(!0,{},r,o),l={context:"context",overrideMimeType:"overrideMimeType",timeout:"timeout",username:"user",password:"password",onreadystatechange:"onreadystatechange",ontimeout:"ontimeout",onprogress:"onprogress",binary:"binary"};return{send:function(c,i){var e=(o.dataType||"").toLowerCase(),n={method:r.type||"GET",url:r.url,data:s({},r.data||{},o.data||{}),headers:c,onload:function(t){var n={text:t.responseText},r="";try{r=/Content-Type:\s*([^\s]+)/i.exec(t.responseHeaders)[1]}catch(o){}if("html"===e||/text\/html/i.test(r))n.html=t.responseText;else if("json"===e||"text"!==e&&/\/json/i.test(r))try{n.json=$.parseJSON(t.responseText)}catch(o){}else if("xml"==e||"text"!==e&&/\/xml/i.test(r))if(t.responseXML)n.xml=t.responseXML;else try{n.xml=(new DOMParser).parseFromString(t.responseText,"text/xml")}catch(o){}i(200,"success",n,t.responseHeaders)},onerror:function(e){i(404,"error",{text:e.responseText},e.responseHeaders)}};for(key in l)t!=typeof a[key]&&(n[l[key]]=a[key]);!1===a.async&&(n.synchronous=!0),GM_xmlhttpRequest(n)},abort:function(){}}}}},e.jQueryExtensions.addCrossOriginSupport=function(n,r){t!=typeof GM_xmlhttpRequest&&(n||(n=e.jQuery))&&!0!==n.jModCrossOriginSupport&&(n.ajaxTransport(r||"* text html xml json",e.jQueryExtensions.CrossOriginSupportTransportFn(n,r)),n.extend({jModCrossOriginSupport:!0}))},e.jQueryExtensions.exportCrossOriginSupport=function(e,r){t!=typeof GM_xmlhttpRequest&&e&&!0!==e.jModCrossOriginSupport&&(e.ajaxTransport(r||"* text html xml json",n(e,r)),e.extend({jModCrossOriginSupport:!0}))}}()+function(){var n=e.jQueryExtensions.Selectors=function(r,o){if(r){var e;if(1!=arguments.length)for(e=1;e<arguments.length;e++)t!=typeof n.ext[arguments[e]]&&n.ext[arguments[e]](r);else for(e in n.ext)n[e](r)}};n.ext={},n.ext.inView=function(e){e&&!e.expr[":"].inView&&e.extend(e.expr[":"],{inView:function(t){win=i||a,doc=document||win.document;var n=doc.documentElement.scrollTop||doc.body.scrollTop,r=e(t).offset().top,o=win.innerHeight&&win.innerHeight<e(win).height()?win.innerHeight:e(win).height();return r>n&&e(t).height()+r<n+o}})}}()+function(){function n(e){if(!e||e.length<3)return[e||""];var t=o.exec(e);return t?[t[1].trim(),t[2].trim()]:[e]}var o=/^\s*((?:(?:\:\w+\([^\)]+\))|[^\s\<\>\~\+\|]|[\<\>\~\+\|\^\$\*](?=\=.+\]))+)\s*(.*?)$/;e.jQueryExtensions.extendTokenizer=function(r){function o(e){return e.join("|").replace(/\./g,"\\.").replace(/\+/g,"\\+").replace(/\</g,"\\<").replace(/\>/g,"\\>").replace(/\)/g,"\\)").replace(/\(/g,"\\(")}if((r||(r=e.jQuery))&&t==typeof r.jModTokenizer){r._oldFindFn=r.find,r.find=function(g,c,e,l){if(c=c||document||a.document,e=e||[],r.jModTokenizer&&r.find.jModTokens.regexTest.test(g)){var i,d,t,p,m,s,o,f,u,h;for(s=g.split(","),t=0;t<s.length;t++)if(r.find.jModTokens.regexTest.test(s[t])&&(m=r.find.jModTokens.regex.exec(s[t])[1])&&(p=r.find.jModTokens.tokens[m])){if(f=s[t].split(m,2),o=r._oldFindFn(f[0],c),o&&o.length>0)for(i=0;i<o.length;i++)if(p.find)if(u=n(f[1]),1==u.length||""==u[1])p.find(f[1],o[i],e,l);else for(h=p.find(u[0],o[i]),d=0;d<h.length;d++)r.find(u[1],h[d],e,l);else r.find(f[1],o[i],e,l)}else r._oldFindFn(s[t],c,e,l);return e}return r._oldFindFn(g,c,e,l)};for(O in r._oldFindFn)r.find[O]=r._oldFindFn[O];var i=",.";return r.find.jModTokens={tokens:{},tokenOrder:[],sortOrder:function(e,t){return e.length>t.length?-1:e.length<t.length?1:0},_regex:null,_regexTest:null,add:function(t,n){if(-1==i.indexOf(t)){var e=r.find.jModTokens;e._regex=null,e._regexTest=null,e.tokens[t]=n,e.tokenOrder.push(t),e.tokenOrder.sort(this.sortOrder)}},remove:function(t){var e=r.find.jModTokens;e.tokens[t]&&(delete e.tokens[t],e._regex=null,e._regexTest=null,e.tokenOrder.splice(e.tokenOrder.indexOf(t),1),e.tokenOrder.sort(this.sortOrder))},removeAll:function(){var e=r.find.jModTokens;e.tokens[token]={},e.tokenOrder=[],e._regex=null,e._regexTest=null}},Object.defineProperty(r.find.jModTokens,"regex",{get:function(){if(r.find.jModTokens._regex)return r.find.jModTokens._regex;var e=o(r.find.jModTokens.tokenOrder);return r.find.jModTokens._regex=new RegExp("("+e+")"),r.find.jModTokens._regex}}),Object.defineProperty(r.find.jModTokens,"regexTest",{get:function(){if(r.find.jModTokens._regexTest)return r.find.jModTokens._regexTest;var e=o(r.find.jModTokens.tokenOrder);return r.find.jModTokens._regexTest=new RegExp("(?:^|[^\\.])("+e+")(?:[\\s\\.\\#\\w\\*\\:]|$)"),r.find.jModTokens._regexTest}}),r.extend({jModTokenizer:!0}),r}},e.jQueryExtensions.addSiblingTokens=function(n){(n||(n=e.jQuery))&&t!=typeof n.find.jModTokens&&(n.find.jModTokens.add("++",{find:function(o,a,e,i){e=e||[];var t=0,r=n(a).siblings(o);if(r)for(;t<r.length;t++)-1==e.indexOf(r[t])&&e.push(r[t]);return e}}),n.find.jModTokens.add("+>",{find:function(o,a,e,i){e=e||[];var t=0,r=n(a).nextAll(o);if(r)for(;t<r.length;t++)-1==e.indexOf(r[t])&&e.push(r[t]);return e}}),n.find.jModTokens.add("+<",{find:function(o,a,e,i){e=e||[];var t=0,r=n(a).prevAll(o);if(r)for(;t<r.length;t++)-1==e.indexOf(r[t])&&e.push(r[t]);return e}}))},e.jQueryExtensions.removeTokenizer=function(n){return(n||(n=e.jQuery))&&t!=typeof n.jModTokenizer?(delete n.jModTokenizer,n.find=n._oldFindFn,n._oldFindFn=r,delete n._oldFindFn,n):void 0}}()+function(){function m(e){return e+"px"}function s(e,t){return function(n){e.draggableListeners[t].push(n)}}function j(e){return{top:parseInt(e.offsetTop),left:parseInt(e.offsetLeft)}}function M(e){e.draggableListeners={start:[],drag:[],stop:[]},e.whenDragStarts=s(e,"start"),e.whenDragging=s(e,"drag"),e.whenDragStops=s(e,"stop")}function E(e,a){t=a;var r=q(t,"enscroll-track");r&&C(r,"dragging");var n=j(t);t.style.top=m(n.top),t.lastXPosition=e.clientX,t.lastYPosition=e.clientY;var i=o("start",{x:n.left,y:n.top,el:t,mouseEvent:e});i&&b()}function o(o,a){for(var n=!0,r=t.draggableListeners[o],e=r.length-1;e>=0;e--)!1===r[e](a)&&(n=!1);return n}function b(){var t=e.Element.document;I(t,"selectstart",g),I(t,"mousemove",l),I(t,"mouseup",d)}function d(a){var n=e.Element.document;yt(n,"selectstart",g),yt(n,"mousemove",l),yt(n,"mouseup",d);var i=parseInt(t.style.left,10),s=parseInt(t.style.top,10),r=q(t,"enscroll-track");r&&w(r,"dragging"),o("stop",{x:i,y:s,el:t,mouseEvent:a})}function g(e){return e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.returnValue=!1,H(e),!1}function l(e){e.preventDefault&&e.preventDefault(),e.returnValue=!1;var a=t.style,g=parseInt(a.left,10),p=parseInt(a.top,10),d=g+(e.clientX-t.lastXPosition),n=p+(e.clientY-t.lastYPosition),s=q(t,"jModScrollBar");if(s){{var u=s.parentElement,f=i.getComputedStyle(u),r=parseFloat(f.height),c=(parseFloat(f.width),i.getComputedStyle(t)),l=parseFloat(c.height);parseFloat(c.width),parseFloat(u.scrollHeight)-r}parseInt(n)+l>r?n=r-l:parseInt(n)<0&&(n=0)}a.top=m(n),t.lastXPosition=e.clientX,t.lastYPosition=e.clientY;try{document.selection.empty()}catch(h){}try{i.getSelection().removeAllRanges()}catch(h){}o("drag",{x:d,y:n,el:t,mouseEvent:e})}function y(e){e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function r(e){var t=e.dataset,s=t._duration||parseInt(300/16.66666,10);if(!0===e.dataset._scrollingY||"true"===e.dataset._scrollingY){var o=parseInt(t._endY)-parseInt(t._startY);if(0===o)e.dataset._scrollingY=!1;else{var a=e.scrollTop,l=T(parseInt(t._startY),o,s,a);o>0?a>=parseInt(t._endY)||a<parseInt(t._startY)?e.dataset._scrollingY=!1:(h(e,Math.max(1,u(o,s,l))),"function"==typeof n?n(function(){r(e)}):i[n](function(){r(e)})):a<=parseInt(t._endY)||a>parseInt(t._startY)?e.dataset._scrollingY=!1:(h(e,Math.min(-1,u(o,s,l))),"function"==typeof n?n(function(){r(e)}):i[n](function(){r(e)}))}}}function v(e,t){var o=parseInt(e.scrollTop),s=i.getComputedStyle(e),c=parseFloat(s.height),l=(parseFloat(s.width),parseFloat(e.scrollHeight)-c);e.dataset._scrollingY&&"false"!=e.dataset._scrollingY||(e.dataset._scrollingY=!0,e.dataset._startY=o,e.dataset._endY=e.dataset._startY,"function"==typeof n?n(function(){r(e)}):i[n](function(){r(e)}));var a=parseInt(e.dataset._endY)-parseInt(e.dataset._startY);return a>0&&0>t||0>a&&t>0?(e.dataset._startY=o,e.dataset._endY=e.dataset._startY):e.dataset._endY=t>0?Math.min(o+t+parseInt(2*a/3),l):Math.max(0,o+t+parseInt(2*a/3)),0>t&&o>0||t>0&&l>o}e.Scrollbar=function(t,n){e.Scrollbar.addScrollBar(t,n)},e.Scrollbar.addScrollBar=function(t,u){if(f(t)){var a={type:"div",className:"jModScrollBar",style:{position:"absolute",margin:"0px",padding:"0px",display:"block",top:"0px"},innerHTML:{type:"div",className:"enscroll-track track3",style:{position:"relative"},innerHTML:{type:"div",className:"handle3",style:{position:"absolute"},innerHTML:[{type:"div",className:"top"},{type:"div",className:"bottom"}],attributes:{href:""}}}},r=p(a);e.Element.addResizeListener(t,function(){c.log("Element Resized"),e.Scrollbar.resizeScrollBar(this)}),L(t,r),e.Scrollbar.resizeScrollBar(t);var o=function(t){e.Scrollbar.handlers.target_onScroll.call(this,t)};"onwheel"in t||"WheelEvent"in i&&navigator.userAgent.toLowerCase().indexOf("msie")>=0?I(t,"wheel",o,!1):I(t,"mousewheel",o,!1);var s=e.$(".enscroll-track",r),n=e.$(".handle3",r),l=function(e){c.log("mousedown",this,e),E(e,this)};M(n),n.whenDragging(function(e){c.log("whenDragging args",e,this);{var t=q(e.el,"jModScrollBar");t.parentElement}}),I(n,"mousedown",l,!1),I(n,"touchstart",function(e){c.log("touchstart",e)},!1),t.onscroll=function(t){S(s,"dragging")||e.Scrollbar.resizeScrollBar(this)}}};var t;e.Scrollbar.resizeScrollBar=function(t){var r=e.$(".jModScrollBar");if(r){var d=e.$(".enscroll-track",r),s=e.$(".handle3",r),l=(i||a).getComputedStyle(t,null),o=parseFloat(l.height),p=parseFloat(l.width),c=parseFloat(t.scrollHeight),u=(parseFloat(t.scrollWidth),parseFloat(t.scrollTop)),f=(parseFloat(t.scrollLeft),0),n=0;r.style.left=parseInt(p-10)+"px",d.style.height=parseInt(o)+"px",f=o/c*o,n=o/c*u,0>n&&(n=0),n+=u,s.style.height=f+"px",s.style.top=n+"px"}};var n=i.requestAnimationFrame?"requestAnimationFrame":i.mozRequestAnimationFrame?"mozRequestAnimationFrame":i.webkitRequestAnimationFrame?"webkitRequestAnimationFrame":i.oRequestAnimationFrame?"oRequestAnimationFrame":i.msRequestAnimationFrame?"msRequestAnimationFrame":function(e){setTimeout(e,17)},_=.5*Math.PI,u=(10*Math.log(2),function(t,n,r){var e=_/n,o=t*e;return Math.round(o*Math.cos(e*r))}),T=function(e,t,n,r){return 2*n/Math.PI*Math.asin((r-e)/t)},h=function(e,t){e.scrollTop=parseInt(e.scrollTop)+parseInt(t)};e.Scrollbar.handlers={target_onScroll:function(e){var n,t=10,r="deltaX"in e?-e.deltaX:"wheelDeltaX"in e?e.wheelDeltaX:0,o="deltaY"in e?-e.deltaY:"wheelDeltaY"in e?e.wheelDeltaY:"wheelDelta"in e?e.wheelDelta:0;Math.abs(r)>Math.abs(o)?n=(r>0?-t:t)<<2:(n=(o>0?-1*t:t)<<2,v(this,n)&&y(e))},target_onResize:function(){},track_onMouseDown:function(){},track_onMouseUp:function(){},track_handle_onMouseDown:function(t){var e=q(this,"enscroll-track");e&&C(e,"dragging")},track_handle_onMouseUp:function(t){var e=q(this,"enscroll-track");e&&w(e,"dragging")}}}(),e.CSS=".jmod-na .track3{width:10px;background:rgba(0,0,0,0);margin-right:0px;-webkit-transition:background 250ms linear;transition:background 250ms linear;}.jmod-na .track3:hover,.jmod-na .track3.dragging{background:#d9d9d9;background:rgba(0,0,0,0.15);}.jmod-na .handle3{width:7px;right:0;background:#999;background:rgba(0,0,0,0.4);-webkit-transition:width 250ms;transition:width 250ms;cursor:pointer;}.jmod-na .track3:hover .handle3,.jmod-na .track3.dragging .handle3{width:10px;}",e.Config.Tooltip=e.extend({enabled:!1,containerId:"jModTooltipContainer",attributeNames:{id:"data-tooltip-id",tooltip:"data-tooltip",placement:"data-tooltip-placement",margin:"data-tooltip-margin"},classNames:{tooltipTarget:"jmod-tooltip-target",tooltip:"tooltip"}},e.Config.Tooltip||{});var Q,pt="Tooltip.containerId",W="Tooltip.attributeNames.id",U="Tooltip.attributeNames.tooltip",st="Tooltip.attributeNames.placement",F="Tooltip.classNames.tooltipTarget",ct="Tooltip.classNames.tooltip",u=e.Tooltip=function(t,n){f(t)&&e.Tooltip.AddTooltipsToElement.apply(e.Tooltip,arguments)};Object.defineProperties(u,{Initialized:{value:!1,writable:!0},Count:{value:0,writable:!0},TooltipContainer:{get:function(){return u.Initialized||u.init(),Q||(Q=document.getElementById(n(pt))),Q},set:function(e){Q=e}},get:{value:function(e){var r,o,a,t=n(W);if(f(e))return S(e,n(ct))?document.querySelector("."+n(F)+" ["+t+'="'+e.id+'"]'):(S(e,n(F))&&e.hasAttribute(t)?r=e.getAttribute(t):this.TooltipContainer&&null!==(a=this.TooltipContainer.querySelector("."+n(F)+" ["+t+"]"))&&(r=a.getAttribute(t)),document.getElementById(r));if("string"==typeof e){if(null!==(o=document.getElementById(e)))return o}else if("number"==typeof e&&this.TooltipContainer&&this.TooltipContainer.childElementCount>e)return tooltipContainer.children[e];return null}.bind(u)}});var nt=200;u.MoveTooltip=function(e,t,r){"top"in r?t.style.top=r.top:"bottom"in r&&(t.style.bottom=r.bottom),"left"in r?t.style.left=r.left:"right"in r&&(t.style.right=r.right);var o=n("Tooltip.attributeNames.margin");e.hasAttribute(o+"-top")&&(t.style.marginTop=e.getAttribute(o+"-top")),e.hasAttribute(o+"-left")&&(t.style.marginLeft=e.getAttribute(o+"-left")),e.hasAttribute(o+"-bottom")&&(t.style.marginBottom=e.getAttribute(o+"-bottom")),e.hasAttribute(o+"-right")&&(t.style.marginRight=e.getAttribute(o+"-right"))},u.MoveTooltipToTarget=function(i,a,l){var t,r,o;if(S(i,n(ct)))t=i;else{if(!i.hasAttribute(n(W)))return;t=document.getElementById(i.getAttribute(n(W)))}var s=a.getAttribute(n(st))||"top",e=Bt(a);switch(s){case"left-top":r=parseInt(e.top),o=e.left-parseInt(t.offsetWidth),u.MoveTooltip(a,t,{top:r+"px",left:o+"px"});break;case"left-bottom":r=e.top+e.height-parseInt(t.offsetHeight),o=e.left-parseInt(t.offsetWidth),u.MoveTooltip(a,t,{top:r+"px",left:o+"px"});break;case"left":r=e.top+parseInt(e.height/2)-parseInt(parseInt(t.offsetHeight)/2),o=e.left-parseInt(t.offsetWidth),u.MoveTooltip(a,t,{top:r+"px",left:o+"px"});break;case"right-top":r=parseInt(e.top),o=e.left+e.width,u.MoveTooltip(a,t,{top:r+"px",left:o+"px"});break;case"right-bottom":r=e.top+e.height-parseInt(t.offsetHeight),o=e.left+e.width,u.MoveTooltip(a,t,{top:r+"px",left:o+"px"});break;case"right":r=e.top+parseInt(e.height/2)-parseInt(t.offsetHeight/2),o=e.left+e.width,u.MoveTooltip(a,t,{top:r+"px",left:o+"px"});break;case"bottom-left":r=e.top+e.height,o=e.left,u.MoveTooltip(a,t,{top:r+"px",left:o+"px"});break;case"bottom-right":r=e.top+e.height,o=e.left+e.width-parseInt(t.offsetWidth),u.MoveTooltip(a,t,{top:r+"px",left:o+"px"});break;case"bottom":r=e.top+e.height,o=e.left+parseInt(e.width/2)-parseInt(parseInt(t.offsetWidth)/2),u.MoveTooltip(a,t,{top:r+"px",left:o+"px"});break;case"top-left":r=e.top-parseInt(t.offsetHeight),o=e.left,u.MoveTooltip(a,t,{top:r+"px",left:o+"px"});break;case"top-right":r=e.top-parseInt(t.offsetHeight),o=e.left+e.width-parseInt(t.offsetWidth),u.MoveTooltip(a,t,{top:r+"px",left:o+"px"});break;case"top":default:r=e.top-parseInt(t.offsetHeight),o=e.left+parseInt(e.width/2)-parseInt(parseInt(t.offsetWidth)/2),u.MoveTooltip(a,t,{top:r+"px",left:o+"px"})}},u.HideAllExcept=function(i){for(var t,o=[],a=e.$$(".jmod-na ."+n(ct)+".in"),r=0;r<a.length;r++)t=a[r],"block"==t.style.display&&t!==i&&(w(t,"in"),o.push(t));setTimeout(function(t){for(var e=0;e<t.length;e++)S(t[e],"in")||(t[e].style.display="none")},nt,o)},u.handler={mouseenter:function(s){var r=this.getAttribute(n(W)),o=this.getAttribute(n(U)),e=this.getAttribute(n(st))||"top",a=u.TooltipContainer;switch(e){case"top-left":case"top-right":e="top "+e;break;case"bottom-left":case"bottom-right":e="bottom "+e;break;case"left-top":case"left-bottom":e="left "+e;break;case"right-top":case"right-bottom":e="right "+e}var t=document.getElementById(r);t||(t=p({type:"div",id:r,className:n(ct)+" "+e+" fade slow",style:{display:"none"},innerHTML:['<div class="tooltip-arrow"></div>','<div class="tooltip-inner">'+o+"</div>"]}),t.addEventListener("mouseenter",function(t){var e=i.getComputedStyle(this,null).getPropertyValue("opacity");e>.2&&(C(this,"in"),u.HideAllExcept(this))}),t.addEventListener("mouseleave",function(e){i.getComputedStyle(this,null).getPropertyValue("opacity");w(this,"in"),setTimeout(function(e){S(e,"in")||(e.style.display="none")},nt,this)}),t.addEventListener("click",function(e){w(this,"in"),setTimeout(function(e){S(e,"in")||(e.style.display="none")},nt,this)}),a.appendChild(t)),u.HideAllExcept(t),t.style.display="block",setTimeout(function(t,e){C(e,"in"),u.MoveTooltipToTarget(e,t)},1,this,t)},mouseleave:function(t){var e=u.get(this);e&&(w(e,"in"),setTimeout(function(e){S(e,"in")||(e.style.display="none")},nt,e))},scroll:function(i){var t,a,r;t=Gt(this,"jmod-na")?e.$$("."+n(F)+"["+n(U)+"]",this):e.$$(".jmod-na ."+n(F)+"["+n(U)+"]",this);for(var o=0;o<t.length;o++)a=t[o].getAttribute(n(W)),r=document.getElementById(a),r&&"block"==r.style.display&&u.MoveTooltipToTarget(r,t[o])}},u.getTooltipsFromElement=function(a){for(var o=[],r=e.$$("."+n(F)+"["+n(U)+"]",a),t=0;t<r.length;t++)r[t].getAttribute(n(U))&&o.push(r[t]);return o},u.AddTooltipsToElement=function(o){for(var r=u.getTooltipsFromElement(o),e=0;e<r.length;e++){r[e].setAttribute(n(W),"jmod-tooltip-"+u.Count++),r[e].addEventListener("mouseenter",u.handler.mouseenter),r[e].addEventListener("mouseleave",u.handler.mouseleave);for(var t=r[e];t.parentElement;)t=t.parentElement,t.hasAttribute("data-jmod-scroll-event")||(t.setAttribute("data-jmod-scroll-event",!0),t.addEventListener("scroll",u.handler.scroll))}o.addEventListener("scroll",u.handler.scroll)},u.init=function(){u.Initialized=!0;var e=document.getElementById(n(pt));null==e&&(e=document.createElement("div"),e.id=n(pt),e.className="jModTooltipContainer jmod-na jmod-fa",document.body.appendChild(e),Q=e)},e.CSS=".jmod-na .fade.slow {transition: opacity "+(nt/1e3).toFixed(2).toString()+"s linear 0s;}",e.Config.Notifications={enabled:!0};var _=e.Notification=function(t,r){if(!n("Notifications.enabled"))return!1;if(e.Notification.Initialized||e.Notification.init(),"string"==typeof t)switch(t.toLowerCase()){case"get":case"getelement":return e.Notification.getElement.apply(e.Notification,d.call(arguments,1));case"getid":case"getelementid":return e.Notification.getElementId.apply(e.Notification,d.call(arguments,1));case"updatenotification":return e.Notification.UpdateNotification.apply(e.Notification,d.call(arguments,1))}else"object"==typeof t&&t.type&&_.Types.create(t.type.toLowerCase(),t)};_.Types={types:{},add:function(e){this.types[e.name]=e},callMethod:function(e,n){return t!==typeof this.types[e]&&"function"==typeof this.types[e][n]?this.types[e][n].apply(this.types[e],d.call(arguments,2)):void 0},create:function(e,t){this.callMethod(e,"create",t)},init:function(){for(var e in this.types)this.callMethod(e,"init")}},+function(n){var r="jModSmallNotificationsWrapper";n.LargeCount=0,Object.defineProperty(n,"CurrentLargeCount",{get:function(){var t=document.getElementById(r);return e.$$("div[data-jmod-large-notification]",t).length}}),e.Notification.Types.add({name:"large",getWrapper:function(){return document.getElementById(r)},generateElement:function(e){var a={type:"div",className:"jModLargeNotification animated fadeIn fast",style:{},attributes:{"data-jmod-notification":n.count,"data-jmod-notification-type":"large","data-jmod-large-notification":n.LargeCount}};if(e.background){var r;"string"==typeof e.background?(r=V(e.background))&&t!=typeof e["background-opacity"]&&(r.a=parseFloat(e["background-opacity"])):"object"==typeof e.background&&t!=typeof e.background.color&&(r=V(e.background.color))&&t!=typeof e.background.opacity&&(r.a=parseFloat(e.background.opacity)),r&&(a.style.backgroundColor="rgba("+r.r+", "+r.g+", "+r.b+", "+(isNaN(parseFloat(r.a))?"0.8":parseFloat(r.a))+")")}var o={type:"div",className:"",innerHTML:[{type:"i",id:"jModbtnClose"+n.LargeCount,className:"btnClose fa fa-times",EventListeners:{click:function(e){if(!S(this,"fadeOut")){n.close(e.target);try{this.removeEventListener("click",arguments.callee)}catch(e){}}}}}],style:{}};return typeof e.title!==t&&o.innerHTML.push({type:"span",innerHTML:e.title}),o.innerHTML.push({type:"div",innerHTML:e.body}),typeof e.icon!==t&&o.innerHTML.push({type:"div",className:"jmod-na largeIcon",style:{backgroundColor:"transparent"},innerHTML:{type:"i",className:"fa "+e.icon+" "+(e.iconAnimation||"swing")+" animated",style:{color:"#fff"}}}),a.innerHTML=o,p(a)},create:function(t){var n=this.getWrapper(),r=this.generateElement(t);n.appendChild(r),e.Notification.Events.addAll(t,e.Notification.count),e.Notification.count++,e.Notification.LargeCount++},close:function(e,t){n.Events.fire("onBeforeClose",t,null,e),w(e,"fadeIn"),C(e,"fadeOut"),setTimeout(function(e,t){e.style.display="none",n.Events.fire("onAfterClose",t,null,e),e.parentElement.removeChild(e)},1e3,e,t)},init:function(){var t=n("getElement","notificationsWrapper"),e=this.getWrapper();null==e&&(e=document.createElement("div"),e.id=r,e.className="jModNotifications",t.appendChild(e))}})}(e.Notification),+function(n){var r="jModSmallNotificationsWrapper";n.SmallCount=0,Object.defineProperty(n,"CurrentSmallCount",{get:function(){var t=document.getElementById(r);return e.$$("div[data-jmod-small-notification]",t).length}}),e.Notification.Types.add({name:"small",getWrapper:function(){return document.getElementById(r)},generateElement:function(r){var u=25,m=n.CurrentSmallCount;if(m>0){for(var g=25*m,h=n("getElement","notificationsSmallWrapper"),d=e.$$("div[data-jmod-small-notification]",h),c=0;c<d.length;c++)g+=parseInt(d[c].offsetHeight);u+=g}var a,s={type:"div",className:"jModSmallNotification animated fadeIn",style:{top:u+"px"},innerHTML:[],attributes:{"data-jmod-notification":n.count,"data-jmod-notification-type":"small","data-jmod-small-notification":n.SmallCount},EventListeners:{click:function(r){for(var n=0,t=r.target;!t.hasAttribute("data-jmod-small-notification")&&null!=t&&20>n;)t=t.parentElement,n++;if(null!=t&&!S(t,"fadeOut")){{parseInt(t.getAttribute("data-jmod-notification")),parseInt(t.getAttribute("data-jmod-small-notification"))}e.Notification.close(t);try{this.removeEventListener("click",arguments.callee)}catch(r){}}}}},o=V("rgba(50, 118, 177, 0.8)");r.background&&("object"==typeof r.background?(t!=typeof r.background.color&&(a=V(r.background.color))&&(null==a.a&&(a.a=o.a),o=a),t!=typeof r.background.opacity&&(o.a=r.background.opacity)):(a=V(r.background))&&(null==a.a&&(a.a=o.a),o=a)),o&&(s.style.backgroundColor="rgba("+o.r+", "+o.g+", "+o.b+", "+o.a+")");var i={type:"div",className:"NotificationContent",innerHTML:[],style:{}};if(typeof r.footer!=t){var l=document.createElement("div");l.className="largeIcon",f(r.icon)?l.appendChild(r.icon):l.innerHTML='<i class="fa '+r.icon+" "+(r.iconAnimation||"bounce")+' animated"> </i>',s.innerHTML.push(l)}return r.title&&i.innerHTML.push({type:"span",innerHTML:r.title}),r.body&&i.innerHTML.push({type:"p",innerHTML:r.body}),r.footer&&i.innerHTML.push({type:"p",style:{textAlign:"right"},innerHTML:r.footer}),r.icon&&!r.footer&&i.innerHTML.push({type:"div",className:"smallIcon",style:{backgroundColor:"transparent"},innerHTML:{type:"i",className:"fa "+r.icon+" "+(r.iconAnimation||"swing")+" animated",style:{color:"#fff"}}}),s.innerHTML.push(i),p(s)},create:function(t){var n=this.getWrapper(),r=this.generateElement(t);n.appendChild(r),e.Notification.Events.addAll(t,e.Notification.count),e.Notification.count++,e.Notification.SmallCount++},close:function(e,o){n.Events.fire("onBeforeClose",o,null,e);var r=parseInt(e.style.top),t=e;for(w(e,"fadeIn"),C(e,"fast"),C(e,"fadeOut"),e.style.zIndex="9998";null!=t.nextElementSibling&&t.nextElementSibling.hasAttribute("data-jmod-small-notification");)t=t.nextElementSibling,C(t,"transitionUp"),setTimeout(function(e,t){e.style.top=t+"px"},0,t,r),r=r+parseInt(t.offsetHeight)+25;setTimeout(function(e,t){e.style.display="none",n.Events.fire("onAfterClose",t,null,e),e.parentElement.removeChild(e)},1e3,e,o)},init:function(){var t=n("getElement","notificationsWrapper"),e=this.getWrapper();null==e&&(e=document.createElement("div"),e.id=r,e.className="jModSmallNotifications",t.appendChild(e))}})}(e.Notification),+function(n){var r="jModFillNotificationsWrapper";n.FillCount=0,Object.defineProperty(n,"CurrentFillCount",{get:function(){var t=document.getElementById(r);return e.$$("div[data-jmod-fill-notification]",t).length}}),e.Notification.Types.add({name:"fill",getWrapper:function(){return document.getElementById(r)},generateElement:function(r){var a={type:"div",className:"jModFillNotification",style:{backgroundColor:"rgba(0, 0, 0, 0.8);"},innerHTML:[{type:"div",className:"NotificationContent",style:{},innerHTML:[{type:"span",className:"NotificationTitle",innerHTML:r.title},{type:"p",className:"NotificationText",innerHTML:r.body}]}]};if(r.background){var o;"string"==typeof r.background?(o=V(r.background))&&t!=typeof r["background-opacity"]&&(o.a=parseFloat(r["background-opacity"])):"object"==typeof r.background&&t!=typeof r.background.color&&(o=V(r.background.color))&&t!=typeof r.background.opacity&&(o.a=parseFloat(r.background.opacity)),o&&(a.style.backgroundColor="rgba("+o.r+", "+o.g+", "+o.b+", "+(o.a||0===parseFloat(o.a)?parseFloat(o.a):"0.8")+")")}var i={type:"div",className:"NotificationFooter",style:{},innerHTML:[{type:"button",className:"btn btn-default btn-sm",innerHTML:"Close",EventListeners:{click:function(t){if(this===t.target){e.Notification.close(t.target);try{this.removeEventListener("click",arguments.callee)}catch(t){}}}}}]};a.innerHTML[0].innerHTML.push(i);var s={type:"div",className:"jModFillNotificationContainer animated fadeIn fast",innerHTML:[a],attributes:{"data-jmod-notification":n.count,"data-jmod-notification-type":"fill","data-jmod-fill-notification":n.FillCount},EventListeners:{click:function(t){if(this===t.target&&!S(this,"fadeOut")){e.Notification.close(this),H(t);try{this.removeEventListener("click",arguments.callee)}catch(t){}return!1}}}};return p(s)},create:function(t){var n=this.getWrapper(),r=this.generateElement(t);n.appendChild(r),e.Notification.Events.addAll(t,e.Notification.count),e.Notification.count++,e.Notification.FillCount++},close:function(e,t){n.Events.fire("onBeforeClose",t,null,e),w(e,"fadeIn"),C(e,"fadeOut"),setTimeout(function(e,t){e.style.display="none",n.Events.fire("onAfterClose",t,null,e),e.parentElement.removeChild(e)},800,e,t)},init:function(){var t=n("getElement","notificationsWrapper"),e=this.getWrapper();null==e&&(e=document.createElement("div"),e.id=r,e.className="jModFillNotifications",e.style.position="absolute",t.appendChild(e))}})}(e.Notification),_.UpdateNotification=function(s){var r=e.extend(!0,{version:"N/A",script_name:null,time:"N/A",icon:"fa-download",iconAnimation:"",title:"%SCRIPTNAME% %VERSION% Available!",body:'<i class="fa fa-clock-o"></i> <i>Updated %TIME%...</i>',install:{href:null,onClick:null,target:null,text:"Install"},visit:{href:null,onClick:null,target:"_blank",text:"Visit Page"}},s);null==r.script_name&&(r.script_name=n("script.script_name"));var l=r.title.replace("%SCRIPTNAME%",r.script_name).replace("%VERSION%",r.version).replace("%TIME%",r.time),c=r.body.replace("%SCRIPTNAME%",r.script_name).replace("%VERSION%",r.version).replace("%TIME%",r.time);r.install.href&&null!=r.install.href&&""!=r.install.href||(r.install.href=n(["script.script_info.jModdownloadURL","script.script_info.downloadURL"]),typeof r.install.href===t&&(r.install.href="javascript:void(0);"));var o=document.createElement("a");o.setAttribute("href",r.install.href),null!=r.install.target&&o.setAttribute("target",r.install.target),o.className="btn btn-success btn-sm",o.innerHTML=r.install.text,"function"==typeof r.install.onClick&&o.addEventListener("click",r.install.onClick),r.visit.href&&null!=r.visit.href&&""!=r.visit.href||(r.visit.href=typeof n("script.script_info.homepage")!==t?n("script.script_info.homepage"):"http://myuserjs.org/script/"+n("script.username")+"/"+n("script.script_name"));var a=document.createElement("a");a.setAttribute("href",r.visit.href),null!=r.visit.target&&a.setAttribute("target",r.visit.target),a.className="btn btn-warning btn-sm",a.innerHTML=r.visit.text,"function"==typeof r.visit.onClick&&a.addEventListener("click",r.visit.onClick);var i=document.createElement("a");i.setAttribute("href","javascript:void(0);"),i.className="btn btn-danger btn-sm",i.innerHTML="Close";var u=[o,a,i];_({title:l,body:c,footer:u,icon:r.icon,iconAnimation:r.iconAnimation,type:"small"})},_.getElementId=function(e){switch(e.toLowerCase()){case"wrapper":case"notificationswrapper":return"jModNotificationsWrapper";
case"smallwrapper":case"notificationssmallwrapper":return"jModSmallNotificationsWrapper";case"largewrapper":case"notificationslargewrapper":return"jModLargeNotificationsWrapper";case"fillwrapper":case"notificationsfillwrapper":return"jModFillNotificationsWrapper";default:return null}},_.getElement=function(e){var t=_.getElementId(e);return document.getElementById(null!=t?t:e)},_.remove=function(t,r){if(null!=t){if(t.hasAttribute("data-jmod-small-notification")){var e=t,n=parseInt(t.style.top||0);for(0>=n&&(n=20);null!=e.nextElementSibling&&e.nextElementSibling.hasAttribute("data-jmod-small-notification");)e=e.nextElementSibling,e.className="jModSmallNotification SmallBox transitionUp",e.style.top=n+"px",n=n+parseInt(e.offsetHeight)+25}t.parentElement.removeChild(t)}},_.Events=new ft(["onBeforeClose","onAfterClose"]),_.close=function(t){var n,o,a,i=_("getElement","notificationsWrapper"),r="data-jmod-notification";if("number"==typeof t)o=t,n=e.$("div["+r+'="'+t+'"]',i);else{if(!f(t))return;if(t.hasAttribute(r))n=t;else if(!(n=e.$("div["+r+"]",t))&&!(n=e.Element.findParentWithAttribute(t,r)))return;o=parseInt(n.getAttribute(r))}(a=n.getAttribute("data-jmod-notification-type"))&&_.Types.callMethod(a,"close",n,o)},_.count=0,_.Initialized=!1,_.init=function(){if(!n("Notifications.enabled"))return!1;_.Initialized=!0;var e=(document.getElementsByTagName("head")[0],document.getElementsByTagName("body")[0],_("getElement","notificationsWrapper"));null==e&&(e=document.createElement("div"),e.id=_("getElementId","notificationsWrapper"),e.className="jModNotificationsFullWrapper jmod-na jmod-fa",document.body.appendChild(e)),_.Types.init()},e.CSS="",e.Config.Tabs=e.extend({enabled:!0,att:{li:"data-jmod-tab",ul:"data-jmod-tab-nav-g",ct:"data-jmod-tab-cont-g",pane:"data-jmod-tab-content"},cn:{nav:"nav-tabs",ct:"tab-content"}},e.Config.Tabs||{});var m=e.Tabs=function(e){};m.Initialized=!1,m.GroupCount=0;var A=m.att={},dt=m.cn={};Object.defineProperties(m.att,{li:{get:function(){return n("Tabs.att.li")}},ul:{get:function(){return n("Tabs.att.ul")}},ct:{get:function(){return n("Tabs.att.ct")}},pane:{get:function(){return n("Tabs.att.pane")}}}),Object.defineProperties(m.cn,{nav:{get:function(){return n("Tabs.cn.nav")}},ct:{get:function(){return n("Tabs.cn.ct")}}}),m.Events=new ft(["onBeforeShow","onAfterShow"]),m.handler={click:function(n){var e=n.target,l=e.parentElement;if(this.contains(e)&&"A"==e.nodeName){var r=this.parentElement.querySelector("."+dt.ct),o=N(e,"href");if(o){var a=r.querySelector(".tab-pane.active"),i=this.querySelector("li.active"),t=r.querySelector(o);if(t){var s=N(this,A.ul);!1!==m.Events.fire("onBeforeShow",parseInt(s),this,[e,t])&&(i&&w(i,"active"),a&&w(a,"active"),C(l,"active"),C(t,"active"),m.Events.fire("onAfterShow",parseInt(s),this,[e,t]))}}H(n)}}},m.load=function(t){var r,n,s;if(f(t))n=t;else{if("object"!=typeof t||!t.target)return;n=t.target,n.onAfterResize=function(t){return function(){var n=this;S(n,"nav-tabs")||(n=e.$(".nav-tabs",n),n||(n=e.$(".nav-tabs",t))),n&&vt(n,kt)}}(n),s=t.EventListeners}if(r=S(n,"tabbable")?[n]:e.$$("div.tabbable",n))for(var o=0;o<r.length;o++){var a=r[o].querySelector(".nav."+dt.nav),i=r[o].querySelector("."+dt.ct);a&&i&&(a.setAttribute(A.ul,m.GroupCount),i.setAttribute(A.ct,m.GroupCount),"object"==typeof t&&m.Events.addAll(t,m.GroupCount),a.addEventListener("click",m.handler.click),m.GroupCount++)}},m.makeNavElement=function(e){var t={type:"li",id:e.id,className:(e.isActive||e.active?"active ":"")+(e.className||e["class"]||""),innerHTML:{type:"a",innerHTML:e.name||e.innerHTML||e.text,attributes:{href:"#"+(e.contentId||e.targetId),"data-toggle":"tab"}},attributes:e.attributes||{}};return t.attributes[A.li]=e.index||-1,t},m.makeContentElement=function(e){var t={type:"div",id:e.id,className:"container tab-pane "+(e.isActive||e.active?"active ":"")+(e.className||e["class"]||""),innerHTML:e.innerHTML||e.text||"",attributes:e.attributes||{}};return t.attributes[A.pane]=e.index||-1,t},m.show=function(t,n){var o,a,r;if("number"==typeof t&&(t=document.querySelector("ul["+A.ul+'="'+t+'"]')),f(t)){if(wt(t,A.li))r=t;else if("number"==typeof n)r=e.$$("li["+A.li+"]",t)[n];else if("string"==typeof n){for(a=e.$$("li["+A.li+"]",t),o=0;o<a.length;o++)if(a[o].innerHTML==n){r=a[o];break}}else f(n)&&wt(n,A.li)&&(r=n);if(r&&f(r))return bt(r.querySelector('a[data-toggle="tab"]'))}},m.resize=function(t){e.Element.requestAnimationFrame(function(){vt(t,kt)})},e.Config.Modal=e.extend({enabled:!0,cn:{container:"jModModalContainer"},id:{container:"jModModalContainer"}},e.Config.Modal||{});var it,qt="Modal.cn.container",Tt="Modal.id.container",s=e.Modal=function(r,l){if(!n("Modal.enabled"))return!1;e.Modal.Initialized||e.Modal.init();try{if("string"==typeof r)switch(r.toLowerCase()){case"show":case"showmodal":return e.Modal.show.apply(e.Modal,d.call(arguments,1));case"hide":case"hidemodal":return e.Modal.hide.apply(e.Modal,d.call(arguments,1))}else if("object"==typeof r){var o=e.Modal.createModal(r),a=parseInt(N(o,"data-jmod-modal")),c=p({type:"div",id:"jModModal-"+a+"-backdrop",className:"modal-backdrop fade",style:"display: none;",attributes:{role:"dialog",tabindex:"-1","data-jmod-modal-backdrop":a},EventListeners:{click:{capture:!1,callback:function(e){return e.target===this?(this.style.display="none",w(document.body,"jmod-modal-open"),H(e),!1):void 0}}}}),i=s.Container;return i&&(i.appendChild(c),i.appendChild(o)),e.Modal.Modals[a]={index:a,element:o,lockScreen:r.lockScreen||!0,data:r},typeof r.features!==t&&e.Modal.addJSFeatures(o,r.features),!0===l&&e.Modal.show(o),o}}catch(u){E(u,"jMod.Modal")}};Object.defineProperties(s,{fn:{value:s.__proto__},ModalCount:{value:0,writable:!0},CurrentModal:{value:-1,writable:!0},Modals:{value:{},writable:!0},Initialized:{value:!1,writable:!0},TooltipCount:{value:0,writable:!0},Container:{get:function(){return it?it:it=document.getElementById(n(Tt))},set:function(e){it=e}}});const xt=150;s.getModal=function(n){var r=e.$('div[data-jmod-modal="'+n+'"]');return r?r:typeof s.Modals[n]!==t?s.Modals[n].element:null},s.addJSFeatures=function(t,n){n.enableTabs&&e.Tabs.load({target:t,onBeforeShow:function(){c.log("Tabs onBeforeShow: ",arguments)}}),n.enableTooltips&&u(t)},s.getVisibleModals=function(){for(var t=0,r=[],n=e.$$("div.modal.in[data-jmod-modal]",s.Container);t<n.length;t++)r.push([n[t],n[t].getAttribute("data-jmod-modal")]);return r},s.getModal2=function(){var r,o,n,a=0,i=arguments.length;if(i>0){for(;i>a;a++){if(r=arguments[a],f(r))return r;("string"==typeof r||"number"==typeof r)&&(n=parseInt(n))}if(null!=n){if((o=e.$('div[data-jmod-modal="'+n+'"]',s.Container))&&f(o))return o;if(typeof s.Modals[n]!=t)return s.Modals[n].element}}return null};var et="data-jmod-modal-resizing";s.resize=function(){var i,d,r,o,c,l,a,m,g,n,u,h=arguments.length;for(r=0;h>r;r++)o=arguments[r],"number"==typeof o||"string"==typeof o?i=parseInt(o):f(o)?n=o:Jt(o)&&(d=o);if(t!=typeof n||t!=typeof i){if(n||(n=s.getModal2(n,i)),n&&f(n)){if(N(n,et,"boolean")){if(null==n.__resizeLast__)return;e.Element.cancelAnimationFrame(n.__resizeLast__),n.__resizeLast__=null}n.setAttribute(et,"true"),c=parseInt(e.Element.viewportSize.getHeight()),l=e.$(".modal-dialog",n),u=e.Element.getClientRect(l),parseInt(u.bottom)<=c&&!n.hasVerticalScrollBar()&&C(n,"no-vertical-scroll");try{if(!1===s.Events.fire("onBeforeResize",i,n,d))return void n.setAttribute(et,"false")}catch(y){return void E(y,"jMod.Modal.resize",'Error firing event "onBeforeResize"')}null==i&&(i=N(n,"data-jmod-modal","integer")),n.__resizeLast__=e.Element.requestAnimationFrame(function(){if(n.__resizeLast__=null,n.__resizeLastStartY__=0,n.__resizeLastEndY__=0,n.__resizeLastCurrentY__=null,n.__resizeLastCount__=0,"none"!=n.style.display){null!=n.__restoreVerticalScroll__&&(clearTimeout(n.__restoreVerticalScroll__),n.__restoreVerticalScroll__=null),c=parseInt(e.Element.viewportSize.getHeight()),a=e.$(".modal-body",l),m=e.$(".modal-footer",l),g=e.$(".modal-header",l);var t;_bodyCurrentHeight=parseInt(e.Element.getCompStyle(a,"height")),_bodyCurrentMaxHeight=parseInt(e.Element.getCompStyle(a,"maxHeight")),_bodyMinHeight=parseInt(e.Element.getCompStyle(a,"minHeight")),computedDialog=e.Element.getCompStyleObj(l),marginTop=parseInt(computedDialog.getPropertyValue("margin-top")),marginBottom=parseInt(computedDialog.getPropertyValue("margin-bottom")),maxHeight=c-parseInt(g.offsetHeight)-parseInt(m.offsetHeight)-marginTop-marginBottom-15,_bodyMinHeight>maxHeight&&(maxHeight=_bodyMinHeight),_bodyCurrentMaxHeight!=maxHeight&&(n.__resizeLastCurrentY__=_bodyCurrentMaxHeight,n.__resizeLastStartY__=_bodyCurrentMaxHeight,n.__resizeLastEndY__=parseInt(maxHeight),t=function(){var c=n.__resizeLast__;if(n.__resizeLastCount__++,n.__resizeLastCount__>50)return void(a.style.maxHeight=n.__resizeLastEndY__+"px");var s=null==n.__resizeLastCurrentY__||isNaN(parseInt(n.__resizeLastCurrentY__))?parseInt(e.Element.getCompStyle(a,"maxHeight")):n.__resizeLastCurrentY__,l=parseInt(300/16.66666,10)/4,o=n.__resizeLastEndY__-s,r=Ft(parseInt(n.__resizeLastStartY__),o,l,s);if(isNaN(r)?r=0:0>r&&(r*=-1),0!=o){var i;if(i=o>0?Math.max(1,jt(o,l,r)):Math.min(-1,jt(o,l,r)),0==i||isNaN(i))return void(a.style.maxHeight=n.__resizeLastEndY__+"px");if(n.__resizeLastCurrentY__=s+i,a.style.maxHeight=n.__resizeLastCurrentY__+"px",null==n.__resizeLast__||n.__resizeLast__==c)return void(n.__resizeLast__=n.__resizeLastCurrentY__!=n.__resizeLastEndY__&&null!=n.__resizeLastCurrentY__?e.Element.requestAnimationFrame(t):null)}},n.__resizeLast__=e.Element.requestAnimationFrame(t)),u=e.Element.getClientRect(l),parseInt(u.bottom)>c&&parseInt(u.height)<_bodyMinHeight+parseInt(g.offsetHeight)+parseInt(m.offsetHeight)+15?w(n,"no-vertical-scroll"):n.__restoreVerticalScroll__=setTimeout(function(e,t){e.__restoreVerticalScroll__=null,N(e,t,"boolean")||w(e,"no-vertical-scroll")},100,n,et)}try{s.Events.fire("onAfterResize",i,n,d)}catch(r){E(r,"jMod.Modal.resize",'Error firing event "onAfterResize"')}n.setAttribute(et,"false")})}}else{var p=s.getVisibleModals();for(r=0;r<p.length;r++)s.resize(p[r][0],p[r][1],d)}},s.show=function(n,r,o){try{if("number"==typeof n&&"number"!=typeof r&&(typeof o===t&&typeof r!==t&&(o=r),r=n),(typeof n===t||null==n)&&typeof r===t)return;if(typeof n!==t&&null!=n&&"number"!=typeof n||"number"!=typeof r?typeof n!==t&&null!=n&&typeof r===t&&(r=N(n,"data-jmod-modal")):n=e.$('div[data-jmod-modal="'+r+'"]'),-1!=s.CurrentModal&&s.CurrentModal!=r&&s.hide(),n){{var a=e.$('div[data-jmod-modal-backdrop="'+r+'"]');s.Events.fire("onBeforeShow",r,n,[o||null])}s.CurrentModal=r,C(e.Element.document.body,"jmod-modal-open"),a.style.display="block",n.style.display="block",setTimeout(function(t,n){C(n,"in"),C(t,"in"),e.Element.requestAnimationFrame(function(){s.resize(t)})},1,n,a),setTimeout(function(e,t,n){s.Events.fire("onAfterShow",t,e,[n||null])},xt,n,r,o||null)}}catch(o){E(o,"jMod.Modal.show")}},s.hide=function(r,n,o){try{if(typeof r===t&&typeof n===t&&-1!=s.CurrentModal&&(n=s.CurrentModal,r=s.getModal(s.CurrentModal)),"number"==typeof r&&"number"!=typeof n&&(typeof o===t&&typeof n!==t&&(o=n),n=r),typeof r===t&&typeof n===t)return;if(f(r)||"number"!=typeof n?typeof r!==t&&typeof n===t&&(n=N(r,"data-jmod-modal")):r=s.getModal(n),r){{var a=e.$('div[data-jmod-modal-backdrop="'+n+'"]');s.Events.fire("onBeforeHide",n,r,[o||null])}s.CurrentModal=-1,w(e.Element.document.body,"jmod-modal-open"),Rt(r,["in","no-vertical-scroll"]),w(a,"in"),setTimeout(function(e,t,n,r){e.style.display="none",r.style.display="none",s.Events.fire("onAfterHide",t,e,[n||null])},xt,r,n,o||null,a)}}catch(o){E(o,"jMod.Modal.hide")}};var tt=["onBeforeShow","onAfterShow","onBeforeHide","onAfterHide","onBeforeResize","onAfterResize"];s.Events=new ft(tt),s.createModal=function(n){var i=s.ModalCount++;s.Events.addAll(n,i);for(var r=p({type:"div",id:n.id||"jModModal-"+i,className:"modal fade "+(n.className||n["class"]||""),style:"display: none;",attributes:{role:"dialog",tabindex:"-1","data-jmod-modal":i},EventListeners:{click:{capture:!1,callback:function(e){if(e.target===this){var t=e.target,n=parseInt(N(t,"data-jmod-modal"));return s.hide(t,n,e),H(e),!1}}}}}),o=0;o<tt.length;o++)Object.defineProperty(r,tt[o],{get:function(e,t,n){return function(){s.Events.getAll(n,e)}.bind(t)}.call(r,tt[o],r,i),set:function(e,t,n){return function(t){s.Events.add(n,e,t)}.bind(t)}.call(r,tt[o],r,i),enumerable:!0,configurable:!1});r.hasVerticalScrollBar=function(){var t=e.Element.getCompStyle(this,"overflowY");return null===this.offsetParent||"hidden"==t||"visible"==t?!1:"scroll"==t||this.scrollHeight>e.Element.viewportSize.getHeight()}.bind(r);var f=p({type:"div",className:"modal-dialog"});if(typeof n.style!==t)for(var g in n.style)f.style[g]=n.style[g];r.appendChild(f);var l=p({type:"div",className:"modal-content"});f.appendChild(l);var u=p({type:"div",className:"modal-header"});l.appendChild(u);var d=p({type:"div",className:"modal-body"});l.appendChild(d);var c=p({type:"div",className:"modal-footer"});l.appendChild(c),L(u,n.title);var m=p({type:"div",className:"yt-close-btn-wrapper",innerHTML:'<img src="//s.ytimg.com/yts/img/pixel-vfl3z5WfW.gif" class="yt-close-btn">',EventListeners:{click:{capture:!1,callback:function(e){var t=e.target.parentElement.parentElement.parentElement.parentElement.parentElement,n=parseInt(N(t,"data-jmod-modal"));return s.hide(t,n,e)}}}});if(u.appendChild(m),L(d,n.body),L(c,n.footer),typeof n.buttons!==t)for(var o in n.buttons)try{var h=e.extend(!0,{type:"button",text:"button"},n.buttons[o]),a=p(h);a&&(S(a,"btn")||C(a,"brn"),/btn\-(default|primary|success|info|warning|danger)/i.test(a.className)||C(a,"btn-default"),c.appendChild(a))}catch(y){E(y,"jMod.Modal.createModal","footer buttons")}var b=p({type:"button",className:"btn btn-default",innerHTML:"Close",attributes:{type:"button"},EventListeners:{click:{capture:!1,callback:function(e){if(e.target===this){var t=e.target.parentElement.parentElement.parentElement.parentElement,n=parseInt(N(t,"data-jmod-modal"));return s.hide(t,n,e),H(e),!1}}}}});return c.appendChild(b),r},s.init=function(){s.Initialized=!0;var t=s.Container;null==t&&(t=e.Element.document.createElement("div"),t.id=n(Tt),t.className="jmod-na jmod-fa jmod-gi "+n(qt),e.Element.document.body.appendChild(t)),(i||a).addEventListener("resize",function(t){e.Modal.resize(t)})},e.CSS=".jmod-na .nav.nav-tabs{border-width:0px;border-right-width:1px !important;border-style:solid !important;-webkit-border-image:-webkit-gradient(linear,0 0,0 100%,from(rgba(221,221,221,1)),color-stop(65%,rgba(221,221,221,1)),to(rgba(0,0,0,0))) 1 100%;-webkit-border-image:-webkit-linear-gradient(rgba(221,221,221,1) 65%,rgba(221,221,221,1),rgba(0,0,0,0)) 1 100%;-moz-border-image:-moz-linear-gradient(rgba(221,221,221,1) 65%,rgba(221,221,221,1),rgba(0,0,0,0)) 1 100%;-o-border-image:-o-linear-gradient(rgba(221,221,221,1) 65%,rgba(221,221,221,1),rgba(0,0,0,0)) 1 100%;border-image:linear-gradient(to bottom,rgba(221,221,221,1) 65%,rgba(221,221,221,1),rgba(0,0,0,0)) 1 100%;}.jmod-na .no-vertical-scroll[data-jmod-modal]{overflow-y:hidden;}",e.Config.Settings=e.extend({enabled:!0,cn:{modal:"jModSettingsModal"},id:{modal:"jModSettingsModal"}},e.Config.Settings||{});var Zt="Settings.cn.modal",o=e.Settings=function(t,a){if(!n("Settings.enabled"))return!1;if(e.Settings.Initialized||e.Settings.init(),"string"==typeof t)switch(t.toLowerCase()){case"":}else"object"==typeof t&&(o._data=t,e.Settings.__storedData=r,e.Settings.settingsModalElement=e.Settings.MakeSettingsModal(t),o.PrefTypes.onChange(),e.Settings.onResize())};o.Initialized=!1,o.getDefault=function(n){var t=0,e=o._data;if(e&&(e=e.settings))for(t;t<e.length;t++)if(e[t].name==n)return e[t]["default"]},o.get=function(e,a){var n=o._storedData;return t===typeof e?n:n&&n[e]!==r?n[e]:a?r:o.getDefault(e)},o.set=function(t,n){var e=o._storedData||{};e[t]=n,o._storedData=e},o.clear=function(){o._storedData={}},Object.defineProperties(o,{_data:{value:{},writable:!0,enumerable:!1},__storedData:{value:r,enumerable:!1,writable:!0,configurable:!0},_storedData:{get:function(){if(typeof o.__storedData!==t)return o.__storedData;try{var r=e.getValue("Settings_"+n("script.script_name"));if(r)return JSON.parse(r)}catch(a){}},set:function(t){o.__storedData=t;try{e.setValue("Settings_"+n("script.script_name"),JSON.stringify(t))}catch(r){}},enumerable:!1},_settingsModalElement:{value:null,writable:!0,enumerable:!1,configurable:!0},settingsModalElement:{get:function(){return t!==typeof o._settingsModalElement&&null!=o._settingsModalElement?o._settingsModalElement:o._settingsModalElement=e.$(".jModSettings")},set:function(e){o._settingsModalElement=e},enumerable:!0}}),o.PrefTypes={_types:{},_call:function(n,e,o){return typeof this._types[e]!==t&&"function"==typeof this._types[e][n]?this._types[e][n].apply(this._types[e],d.call(arguments,2)):r},add:function(e,t){this._types[e]=t},make:function(e,t){return this._call("make",e,t)},getValue:function(t){var n=e.$('#jModSettingsModal [name="'+t.name+'"]');return n?this._call("getValue",t.type,n,t):r},getValueByName:function(n){var t,e=0;try{t=o._data.settings}catch(r){return}for(e;e<t.length;e++)if(t[e].name==n)return this.getValue(t[e])},getDataByName:function(n){var t,e=0;try{t=o._data.settings}catch(r){return}for(e;e<t.length;e++)if(t[e].name==n)return t[e]},setValue:function(t,o){var n=e.$('#jModSettingsModal [name="'+t.name+'"]');return n?this._call("setValue",t.type,n,t,o):r},enable:function(a){var t,i,s,n=0;if("object"==typeof a)t=a;else if("string"==typeof a){try{i=o._data.settings}catch(l){return}for(n;n<i.length;n++)if(i[n].name==a){t=i[n];break}}return t?(s=e.$('#jModSettingsModal [name="'+t.name+'"]'),s?this._call("enable",t.type,s,t):r):void 0},disable:function(a){var t,i,s,n=0;if("object"==typeof a)t=a;else if("string"==typeof a){try{i=o._data.settings}catch(l){return}for(n;n<i.length;n++)if(i[n].name==a){t=i[n];break}}return t?(s=e.$('#jModSettingsModal [name="'+t.name+'"]'),s?this._call("disable",t.type,s,t):r):void 0},onChange:function(f,m){var r,a,c,i,s,g,p,l=!0,u=!1,n=0;try{r=o._data.settings}catch(h){return}for(n;n<r.length;n++)if(l=!0,r[n].depend&&("function"==typeof r[n].depend||t==typeof f||t!==typeof r[n].depend[f])){if("function"==typeof r[n].depend)p=e.$('#jModSettingsModal [name="'+r[n].name+'"]'),l=r[n].depend(p,r[n]);else for(c in r[n].depend){a=r[n].depend[c],g=typeof a;var d=o.PrefTypes.getDataByName(c);try{u=1==o.PrefTypes._types[d.type].multiValue}catch(h){u=!1}switch(f==c?i=m:t==typeof(i=this.getValueByName(c))&&(i=o.get(c)),u&&(i=i.split(",")),g){case"function":l=a(e.$('#jModSettingsModal [name="'+r[n].name+'"]'),r[n],i,d);break;case"object":if("array"==x(a))if(u){for(s=0;s<a.length;s++)if(-1==i.indexOf(a[s])){l=!1;break}}else for(l=!1,s=0;s<a.length;s++)if(a[s]==i){l=!0;break}break;case"string":if(u){for(a=a.split(","),s=0;s<a.length;s++)if(-1==i.indexOf(a[s])){l=!1;break}}else i!=a&&(l=!1);break;case"number":u?i.length<a&&(l=!1):parseInt(i)!=parseInt(a)&&(l=!1)}if(!l)break}l?o.PrefTypes.enable(r[n]):o.PrefTypes.disable(r[n])}}},o.getElementId=function(e){switch(e.toLowerCase()){case"settings":case"settingselement":case"settingmodalselement":return"jModSettingsModal"}return null},o.getElement=function(e){var t=o.getElementId(e);return document.getElementById(null!=t?t:e)},o.PrefTypes.add("select",{make:function(e){var s=(e.description||e.name,e["default"]||null),l=o.get(e.name),a=l||s,i=[];for(var n in e.options)i.push({type:"option",innerHTML:e.options[n],attributes:{value:n,selected:a&&a==n?!0:null}});var r={type:"div",className:"pref-container",innerHTML:{type:"select",className:"form-control pref",innerHTML:i,style:e.style,attributes:{name:e.name,"data-jmod-settings-pref":e.name,"data-jmod-settings-pref-default":e["default"]||null,"data-jmod-settings-pref-type":"select"},EventListeners:{change:function(e){o.PrefTypes.onChange(e.target.getAttribute("name"),e.target.value)}}}};return t==typeof e.tooltip||t==typeof e.tooltip.innerHTML&&t==typeof e.tooltip.text||(r.innerHTML=k(r.innerHTML,e.tooltip)),r},getValue:function(e,t){return e.options[e.selectedIndex].value},setValue:function(t,r,n){for(var e=0;e<t.options.length;e++)if(t.options[e].value==n)return t.selectedIndex=e,!0;return!1},enable:function(e,t){e.hasAttribute("disabled")&&e.removeAttribute("disabled")},disable:function(e,t){e.setAttribute("disabled","disabled")}}),o.PrefTypes.add("checkbox",{multiValue:!0,make:function(e){var l=(e.description||e.name,e["default"]||""),a=o.get(e.name),r=a||""===a?a:l;"object"!=typeof r&&(r=r.split(","));var s=[];for(var n in e.options){var i={type:"label",className:"checkbox-inline",innerHTML:[{type:"input",className:"checkbox",attributes:{name:e.name+"-o",type:"checkbox",value:n},checked:-1!=r.indexOf(n)?!0:!1,EventListeners:{CheckboxStateChange:function(t){var e=t.target.parentElement.parentElement.getAttribute("name"),n=o.PrefTypes.getValueByName(e);o.PrefTypes.onChange(e,n)}}},{type:"span",innerHTML:e.options[n].label,attributes:{}}],attributes:{}};t==typeof e.options[n].tooltip||t==typeof e.options[n].tooltip.innerHTML&&t==typeof e.options[n].tooltip.text||(i.innerHTML[1]=k(i.innerHTML[1],e.options[n].tooltip)),s.push(i)}var c={type:"div",className:"form-group pref-container",innerHTML:s,attributes:{name:e.name}};return c},getValue:function(o,a){for(var n=[],r=e.$$("input:checked",o),t=0;t<r.length;t++)n.push(r[t].value);return n.join(",")},setValue:function(t,o,n){for(var r=n.split(","),e=0;e<t.options.length;e++)t.options[e].checked=-1!=r.indexOf(N(t.options[e],"name"))?!0:!1;return!0},enable:function(r,o){for(var n=e.$$("input",r),t=0;t<n.length;t++)n[t].hasAttribute("disabled")&&n[t].removeAttribute("disabled")},disable:function(r,o){for(var n=e.$$("input",r),t=0;t<n.length;t++)n[t].setAttribute("disabled","disabled")}}),o.PrefTypes.add("radio",{make:function(e){var i=(e.description||e.name,e["default"]||""),s=o.get(e.name),l=s||i,a=[];for(var n in e.options){var r={type:"label",className:"radio radio-inline",innerHTML:[{type:"input",className:"radiobox",attributes:{type:"radio",value:n,name:e.name+"-o"},checked:-1!=l.indexOf(n)?!0:!1,EventListeners:{RadioStateChange:function(t){var e=t.target.parentElement.parentElement.getAttribute("name"),n=o.PrefTypes.getValueByName(e);o.PrefTypes.onChange(e,n)}}},{type:"span",innerHTML:e.options[n].label,attributes:{}}],attributes:{}};t==typeof e.options[n].tooltip||t==typeof e.options[n].tooltip.innerHTML&&t==typeof e.options[n].tooltip.text||(r.innerHTML[1]=k(r.innerHTML[1],e.options[n].tooltip)),a.push(r)}var c={type:"div",className:"form-group pref-container",innerHTML:a,attributes:{name:e.name}};return c},getValue:function(t,n){return e.$("input:checked",t).value},setValue:function(t,r,n){for(var e=0;e<t.options.length;e++)t.options[e].checked=N(t.options[e],"name")==n?!0:!1;return!0},enable:function(r,o){for(var n=e.$$("input",r),t=0;t<n.length;t++)n[t].hasAttribute("disabled")&&n[t].removeAttribute("disabled")},disable:function(r,o){for(var n=e.$$("input",r),t=0;t<n.length;t++)n[t].setAttribute("disabled","disabled")}}),o.PrefTypes.add("toggle",{multiValue:!0,make:function(e){var s=(e.description||e.name,e["default"]||""),r=o.get(e.name),l=r||""===r.trim()?r:s,i=[];for(var n in e.options){var a={type:"label",className:"toggle "+(e.options[n].className||""),innerHTML:[{type:"input",className:"radiobox",attributes:{type:"checkbox",value:n,name:e.name+"-o"},checked:-1!=l.indexOf(n)?!0:!1,EventListeners:{RadioStateChange:function(t){var e=t.target.parentElement.parentElement.getAttribute("name"),n=o.PrefTypes.getValueByName(e);o.PrefTypes.onChange(e,n)}}},{type:"i",className:"",attributes:{"data-jmod-swchon-text":e.options[n].on||"ON","data-jmod-swchoff-text":e.options[n].off||"OFF"}},e.options[n].label],attributes:{}};t==typeof e.options[n].tooltip||t==typeof e.options[n].tooltip.innerHTML&&t==typeof e.options[n].tooltip.text||(a.innerHTML[1]=k(a.innerHTML[1],e.options[n].tooltip)),i.push(a)}var c={type:"div",className:"form-group pref-container",innerHTML:i,attributes:{name:e.name}};return c},getValue:function(o,a){for(var n=[],r=e.$$("input:checked",o),t=0;t<r.length;t++)n.push(r[t].value);return n.join(",")},setValue:function(t,o,n){for(var r=n.split(","),e=0;e<t.options.length;e++)t.options[e].checked=-1!=r.indexOf(N(t.options[e],"name"))?!0:!1;return!0},enable:function(r,o){for(var n=e.$$("input",r),t=0;t<n.length;t++)n[t].hasAttribute("disabled")&&n[t].removeAttribute("disabled")},disable:function(r,o){for(var n=e.$$("input",r),t=0;t<n.length;t++)n[t].setAttribute("disabled","disabled")}}),o.PrefTypes.add("input",{make:function(e){var a=(e.description||e.name,e["default"]||""),r=o.get(e.name),n={type:"div",className:"pref-container",innerHTML:[{type:"input",className:"form-control pref",innerHTML:"",style:e.style,attributes:{value:r||""===r?r:a,name:e.name,type:"text","data-jmod-settings-pref":e.name,"data-jmod-settings-pref-default":e["default"]||null},EventListeners:{input:function(e){o.PrefTypes.onChange(e.target.getAttribute("name"),e.target.value)}}}]};if(t==typeof e.tooltip||t==typeof e.tooltip.innerHTML&&t==typeof e.tooltip.text||(n.innerHTML[0]=k(n.innerHTML[0],e.tooltip)),t!=typeof e.icon){n.className+=" input-icon-right";var i=Nt(e.icon);n.innerHTML.unshift(i)}return n},getValue:function(e,t){return e.value},setValue:function(e,n,t){return e.value=t,!0},enable:function(e,t){e.hasAttribute("disabled")&&e.removeAttribute("disabled")},disable:function(e,t){e.setAttribute("disabled","disabled")}}),o.PrefTypes.add("textarea",{make:function(e){var i=(e.description||e.name,e["default"]||""),r=o.get(e.name),n={type:"div",className:"pref-container",innerHTML:[{type:"textarea",className:"form-control pref",innerHTML:r||""===r?r:i,style:e.style,attributes:{name:e.name,type:"text","data-jmod-settings-pref":e.name,"data-jmod-settings-pref-default":e["default"]||null},EventListeners:{input:function(e){o.PrefTypes.onChange(e.target.getAttribute("name"),e.target.value)}}}]};if(t==typeof e.tooltip||t==typeof e.tooltip.innerHTML&&t==typeof e.tooltip.text||(n.innerHTML[0]=k(n.innerHTML[0],e.tooltip)),t!=typeof e.icon){var a=Nt(e.icon);a.className+=" icon-append",n.innerHTML.unshift(a)}return n},getValue:function(e,t){return e.value},setValue:function(e,n,t){return e.value=t,!0},enable:function(e,t){e.hasAttribute("disabled")&&e.removeAttribute("disabled")},disable:function(e,t){e.setAttribute("disabled","disabled")}}),o.PrefTypes.add("range",{make:function(e){var r=(e.description||e.name,e["default"]||""),a=o.get(e.name),n={type:"div",className:"pref-container",innerHTML:[{type:"input",className:"form-control pref",innerHTML:"",style:e.style,min:parseInt(e.min||"0"),max:parseInt(e.max||"100"),step:parseInt(e.step||"1"),value:parseInt(a||r),attributes:{name:e.name,type:"range","data-jmod-settings-pref":e.name,"data-jmod-settings-pref-default":e["default"]||null},EventListeners:{change:function(e){var t=e.target.nextSibling;t.value=this.value},input:function(e){var t=e.target.nextSibling;t.value=this.value}}},{type:"input",className:"form-control pref disabled range-value",innerHTMLL:"",attributes:{value:a||r,disabled:"disabled"},EventListeners:{keypress:function(e){c.log("keypress",e)}}}]};return t==typeof e.tooltip||t==typeof e.tooltip.innerHTML&&t==typeof e.tooltip.text||(n.innerHTML[0]=k(n.innerHTML[0],e.tooltip)),n},getValue:function(e,t){return e.value},setValue:function(e,n,t){return e.value=t,!0},enable:function(e,t){e.hasAttribute("disabled")&&e.removeAttribute("disabled")},disable:function(e,t){e.setAttribute("disabled","disabled")}});var J=function(t,n,r){t.innerHTML=r||"",t.style.backgroundImage="url("+n+")",t.setAttribute("data-src",n);var e=new Image;e.onload=function(){var n=parseInt(e.naturalHeight)+"px",r=parseInt(e.naturalWidth)+"px";isNaN(e.naturalHeight)||isNaN(e.naturalWidth)||(parseInt(n)>300?(n="300px",r="100%",t.style.backgroundSize="contain"):t.style.backgroundSize="100% 100%",t.style.height=n,t.style.width=r),e.parentElement.removeChild(e)},e.style.position="absolute",e.style.opacity="0",(i||a).document.body.appendChild(e),e.src=n};o.PrefTypes.add("imagefile",{make:function(n){var l=n["default"]||"",c=o.get(n.name),s=c||l,r="string"==typeof s&&""!=s?!0:!1,a=new e.FileSelector({multiple:!1,accept:"image/*",button:{style:n.style,className:"btn btn-success",innerHTML:['<i class="fa '+(n.buttonIcon||"fa-file-image-o")+'" style="margin-right:10px;"></i>',n.buttonText||"Select an Image"],attributes:{type:"button"}},form:{className:"imagefile-form pref",attributes:{name:n.name,"data-jmod-settings-pref":n.name,"data-jmod-settings-pref-default":n["default"]||null}},onChange:function(n,t,r){e.FileSelector.ReadFileAsURL(t[0],function(n,e,r){var t=a.formElement.parentElement.lastChild;J(t,e,""),o.PrefTypes.onChange(a.formElement.getAttribute("name"),e)},function(t,n,r){var e=a.formElement.parentElement.lastChild;J(e,"","No Preview"),o.PrefTypes.onChange(a.formElement.getAttribute("name"),"")})}}),i={type:"div",className:"pref-container",innerHTML:[a.formElement,p({type:"div",className:"image-preview-container",style:{},attributes:{},innerHTML:r?"":"No Preview"})]};return h.DOMLoaded?J(i.innerHTML[1],r?s:"",r?"":"No Preview"):setTimeout(J,150,i.innerHTML[1],r?s:"",r?"":"No Preview"),t==typeof n.tooltip||t==typeof n.tooltip.innerHTML&&t==typeof n.tooltip.text||(i.innerHTML[0]=k(i.innerHTML[0],n.tooltip)),i},getValue:function(e,n){try{var t=e.parentElement.lastChild;return t.getAttribute("data-src")}catch(r){return""}},setValue:function(t,r,e){var n=t.parentElement.lastChild;return J(n,e,e&&""!=e?"":"No Preview"),!0},enable:function(e,t){e.hasAttribute("disabled")&&e.removeAttribute("disabled")},disable:function(e,t){e.setAttribute("disabled","disabled")}}),o.MakePref=function(e){var n;if(f(e)||"element"==e.type)return n={type:"div",className:"row form-group section-row",innerHTML:{type:"div",className:"col-md-12",innerHTML:f(e)?e:e.innerHTML||e.options||e["default"]}},p(n);var a=o.PrefTypes.make(e.type,e);if(a){var i=rn(e);switch(e.type){case"radio":case"checkbox":case"toggle":t==typeof e.tooltip||t==typeof e.tooltip.innerHTML&&t==typeof e.tooltip.text||(n=k(i.innerHTML,e.tooltip))}return n={type:"div",className:"row form-group section-row",innerHTML:[i,{type:"div",className:"col-md-8",innerHTML:a}]},p(n)}return r},o.MakeSettingsModal=function(i){var a,M,v,l={},h=!1,_=p({type:"div",className:"jMod-settings tabbable tabs-left"}),C=p({type:"ul",className:"nav nav-tabs"}),j=p({type:"div",className:"tab-content"});for(var s in i.settings){var a=i.settings[s].tab||"Other",g=i.settings[s].section||"General";typeof l[a]===t&&(l[a]={name:a,color:null,sections:{}}),typeof l[a].sections[g]===t&&(l[a].sections[g]=[]),l[a].sections[g].push(i.settings[s])}if(i.tabs)for(var s in i.tabs)a=i.tabs[s].name,a&&typeof l[a]!==t&&(i.tabs[s].displayName&&(l[a].displayName=i.tabs[s].displayName),i.tabs[s].content&&(i.tabs[s].content.header&&(l[a].contentHeader=i.tabs[s].content.header),i.tabs[s].content.footer&&(l[a].contentFooter=i.tabs[s].content.footer)));var d=i.tabOrder||[],b={},u=0;for(a in l){h=i.activeTab!==r&&a===i.activeTab||i.activeTab===r&&0==u?!0:!1,M=m.makeNavElement({innerHTML:l[a].displayName||a,id:"jMod-settings-tab-"+u,isActive:h,contentId:"jMod-settings-tab-"+u+"-content",index:u});var y=[];l[a].contentHeader&&y.push(l[a].contentHeader);for(var g in l[a].sections){y.push('<div class="row section-title-row"><div class="col-md-12"><h3 class="section-title">'+g+"</h3></div></div>");for(var T in l[a].sections[g])y.push(o.MakePref(l[a].sections[g][T]))}l[a].contentFooter&&y.push(l[a].contentFooter),v=m.makeContentElement({name:a,id:"jMod-settings-tab-"+u+"-content",isActive:h,innerHTML:y,index:u}),b[a]=[M,v],-1==d.indexOf(a)&&d.push(a),u++}if(i.tabs)for(var s in i.tabs)a=i.tabs[s].name,a&&l[a]===r&&(h=i.activeTab!==r&&a===i.activeTab||i.activeTab===r&&0==u?!0:!1,M=m.makeNavElement({innerHTML:a,id:"jMod-settings-tab-"+u,isActive:h,contentId:"jMod-settings-tab-"+u+"-content",index:u}),v=m.makeContentElement({name:a,id:"jMod-settings-tab-"+u+"-content",isActive:h,innerHTML:i.tabs[s].innerHTML||i.tabs[s].text,index:u}),b[a]=[M,v],-1==d.indexOf(a)&&d.push(a),u++);
for(var s=0;s<d.length;s++)b[d[s]]!==r&&(L(C,b[d[s]][0]),L(j,b[d[s]][1]));L(_,C),L(_,j);var E=i.title||"Settings";f(E)||(E='<h2 class="title">'+E+"</h2>");var S={title:E,id:o.getElementId("settingModalsElement"),className:n(Zt),body:_,footer:[{type:"span",className:"powered-by",innerHTML:{type:"a",innerHTML:[{type:"img",src:"http://myuserjs.org/img/favicon/favicon.png",attributes:{height:"16px"}},"Powered by jMod"],attributes:{href:"http://doc.myuserjs.org"}}},{type:"a",innerHTML:"Clear Settings",className:"btn-clear-settings",attributes:{href:"#"},EventListeners:{click:{capture:!1,callback:function(e){var t=confirm("Are you sure?");return t&&o.clear(),H(e),!1}}}}],buttons:[{text:"Save",className:"btn btn-success",EventListeners:{click:function(){c.log("save button click"),o.save()}}}],onAfterShow:function(){o.onResize()},style:{width:"1000px"},features:{enableTabs:!0,enableTooltips:!0}};return typeof i.onBeforeHide!==t&&(S.onBeforeHide=i.onBeforeHide),typeof i.onAfterHide!==t&&(S.onAfterHide=i.onAfterHide),e.Modal(S)},o.onResize=function(){var t=e.Settings.settingsModalElement,l=e.$(".modal-dialog",t),n=e.$(".modal-body",t),o=e.$(".modal-footer",t),s=e.$(".modal-header",t),p=e.Element.viewportSize.getHeight(),r=(i||a).getComputedStyle(l,null),u=parseInt(r.getPropertyValue("margin-top")),f=parseInt(r.getPropertyValue("margin-bottom")),d=parseInt(p)-parseInt(s.offsetHeight)-parseInt(o.offsetHeight)-u-f-15;n.style.maxHeight=d+"px";var c=e.$(".nav-tabs",n);e.Tabs.resize(c)},o.show=function(){e.Modal.show(o.settingsModalElement||0),setTimeout(function(){o.onResize()},1)},o.hide=function(){e.Modal.hide(o.settingsModalElement)},o.save=function(){c.log("Saving");for(var e=o._data,r={},t=0;t<e.settings.length;t++){var n=e.settings[t];if(!f(e)&&"element"!=n.type){var a=o.PrefTypes.getValue(n);r[n.name]=a}}o._storedData=r},o.init=function(){o.Initialized=!0},e.CSS=".jmod-na .modal-body{min-height:200px;max-height:500px;overflow-y:auto;}",e.getDOMTiming=function(){var r,t={};try{if(T.available){r=T.getAllTiming();var s=T.get("timing.navigationStart");for(var n in r)t[n]=r[n]-s,(t[n]<=0||isNaN(t[n]))&&delete t[n];var o=(T.get("timing.loadEventEnd")||T.get("timing.loadEventStart"))-T.get("timing.navigationStart");o>0&&(t.pageLoadTime=o);var a=T.get("timing.responseEnd")-T.get("timing.fetchStart");a>=0&&(t.NetworkLatency=a);var i=T.now;i>0&&(t.statReportTime=i),e.InitializeEndTime>0&&(t.jModInitializeEnd=e.InitializeEndTime),e.InitializeStartTime>=0&&(t.jModInitializeStart=e.InitializeStartTime,e.InitializeEndTime>0&&e.InitializeEndTime-e.InitializeStartTime>0&&(t.jModInitializeTime=e.InitializeEndTime-e.InitializeStartTime),at>0&&at-e.InitializeStartTime>0&&(t.jModReadyTime=at-e.InitializeStartTime))}}catch(l){return E(l,"jMod.getDOMTiming"),{}}return t};var b=e.SendMessage=function(n){switch(e.jQueryAvailable||"jquery"!=n.method.toLowerCase()?typeof GM_xmlhttpRequest===t&&"xmlhttprequest"==n.method.toLowerCase()&&(n.method=e.jQueryAvailable?"jQuery":"JSONP"):n.method=typeof GM_xmlhttpRequest!==t?"XMLHTTPRequest":"JSONP",n.url=e.SendMessage.processURL(n),(n.method||"XMLHTTPRequest").toLowerCase()){case"jquery":return e.debug&&c.log("jMod.SendMessage - jquery",n),e.SendMessage.jQuery(n);case"xmlhttprequest":return e.debug&&c.log("jMod.SendMessage - xmlhttprequest",n),e.SendMessage.XMLHTTPRequest(n);case"jsonp":default:e.debug&&c.log("jMod.SendMessage - JSONP",n),e.SendMessage.JSONP(n)}},ht="jModSendMessageResponseFn";b.processURL=function(e){var t="string"==typeof e.callback?e.callback:ht;switch("object"!=typeof e.url&&-1==e.url.indexOf("?")&&(e.url+="?"),e.method.toLowerCase()){case"jsonp":e.url instanceof lt?(e.url.addArg("callback",t),e.url.addArg("jsonp",t)):e.url+="&callback="+t+"&jsonp="+t;break;case"xmlhttprequest":e.url instanceof lt?e.url.addArg("json","1"):e.url+="&json=1";break;case"jquery":e.responseType&&"json"==e.responseType&&(e.url instanceof lt?e.url.addArg("json","1"):e.url+="&json=1")}return e.url},b.jQuery=function(e){var t=("string"==typeof e.callback?e.callback:ht,b.addCallbacks(e));try{$.getJSON(e.url.toString(),{async:!0,format:"json"}).done(function(e,n,r){b.execCallback(t,null,e,n,r)}).fail(function(e,n,r){b.execErrorCallback(t,null,e,n,r)})}catch(n){return!1}return!0},b.XMLHTTPRequest=function(e){try{if(typeof GM_xmlhttpRequest!==t){var n=b.addCallbacks(e);return GM_xmlhttpRequest({method:"GET",url:e.url.toString(),headers:{Accept:"application/javascript"},onload:function(e,t){return function(n){if("json"!=t.toLowerCase())return b.execCallback(e,null,n.responseText,n);var r;try{r=JSON.parse(n.responseText)}catch(o){}finally{return b.execCallback(e,null,r,n)}}}(n,e.responseType||"json"),onerror:function(e){return function(t){return c.log("Error! XMLHttpRequest",t),b.execErrorCallback(e,null,t.responseText,t)}}(n)}),!0}}catch(r){c.log("Error! getXMLHttpRequest",r)}finally{return!1}},b.JSONP=function(e){var t=b.addCallbacks(e),n=p({type:"script",async:!0,defer:!0,attributes:{"data-callback-index":t}});try{var r=document.head||document.getElementsByTagName("head")[0];r.appendChild(n),n.src=e.url.toString()}catch(o){return b.execErrorCallback(t,null,o)}return!0},b._callbacks=[],b.addCallbacks=function(e){return b._callbacks.push({complete:e.callback,error:e.onerror})-1},b.execCallback=function(r,n){try{var e=b._callbacks[r].complete;if(typeof e===t)return!1;if("function"==typeof e)return e.apply(n||null,d.call(arguments,2));if("string"==typeof e&&"function"==typeof a[e])return a[e].apply(n||null,d.call(arguments,2))}catch(o){return c.log("Error SendMessage.execCallback!",o),!1}},b.execErrorCallback=function(r,n){try{var e=b._callbacks[r].onerror;if(typeof e===t)return!1;if("function"==typeof e)return e.apply(n||null,d.call(arguments,2));if("string"==typeof e&&"function"==typeof a[e])return a[e].apply(n||null,d.call(arguments,2))}catch(o){return c.log("Error SendMessage.execErrorCallback!",o),!1}},b._globalResponseCallback=gt(zt,a,{defineAs:ht,allowCallbacks:!0,allowCrossOriginArguments:!0}),e.Update=new function(){var o=function(){var t=[!0].concat(d.call(arguments),{script_info:n("script.script_info"),script_file_info:n("script.script_file_info")||r});return e.extend.apply(e,t)};this.getURL=function(d){opts=o({},e.Config.Update,d);var r=new lt(n("host")||"http://myuserjs.org"),s=(opts.username||n("script.username")).trim();if(typeof s===t||""==s)throw"No Username Provided";var l=(opts.script_name||n("script.script_name")).trim();if(typeof l===t||""==l)throw"No Script Name Provided";var a=opts.getType||n("Update.getType");"meta"!=a&&"metajs"!=a&&"data"!=a&&"none"!=a&&(a="data");var c=opts.args;if(opts.DOMTiming){var u=e.getDOMTiming();for(var i in u)u.hasOwnProperty(i)&&(c[i]=u[i])}var f=[];for(var i in c)f.push(i+"="+c[i]);r.addArg("args",escape(f.join(","))),r.addArg("api_version",e.version),r.addArg("updateVeriableName",opts.updateVeriableName),typeof opts.noDownload!==t&&1==opts.noDownload?r.addArg("nodownload","1"):n("Update.sampleRate")<100&&Math.floor(100*Math.random()+1)>n("Update.sampleRate")&&r.addArg("nodownload","1"),n("Update.getStats")&&r.addArg("getstats","1"),typeof opts.script_info!==t&&(typeof opts.script_info.version!==t&&r.addArg("scriptversion",escape(opts.script_info.version)),typeof opts.script_info.script_handler!==t&&(r.addArg("scripthandler",escape(opts.script_info.script_handler)),typeof opts.script_info.script_handler_version!==t&&r.addArg("scripthandlerversion",escape(opts.script_info.script_handler_version)))),r.addArg("cachebuster",Math.round((new Date).getTime()/1e3));n("host")||"myuserjs.org";return r.setPath("/script/"+s+"/"+l+"."+a+".js"),r},this.sendRequest=function(f){try{var i=o({},e.Config.Update,f);typeof a[i.updateVeriableName]!==t&&(a[i.updateVeriableName]=r,delete a[i.updateVeriableName]);var u=e.Update.getURL(i);n("debug")&&e.Log("URL: ",u.toString());var l="JSONP";return i.jQuery?l="jQuery":i.XMLHttpRequest&&(l="XMLHTTPRequest"),e.SendMessage({url:u.toString(),method:l,responseType:"json",callback:function(e,t){return function(n){return a[t]=n,e.apply(this,arguments)}}(i.callback,i.updateVeriableName),onerror:i.onerror})}catch(s){return c.log("Error! getUpdateData: ",s.name,s.fileName,s.lineNumber+":"+s.columnNumber),c.error(s),i.callback&&i.onerror(s),r}},this.getUpdateData=function(e){return this.sendRequest(e)}},Object.defineProperty(e.Update,"MetaData",{get:function(e){return typeof a[e||n("Update.updateVeriableName")]!==t?a[e||n("Update.updateVeriableName")]:typeof i[e||n("Update.updateVeriableName")]!==t?i[e||n("Update.updateVeriableName")]:r}}),+function(){function n(){var n,e={},o=t!=typeof arguments[0]?arguments[0]:r,a=arguments.length;if(a>0&&("string"==typeof o?(e.message=o,a>1&&(e.fileName=arguments[1]),a>2&&(e.lineNumber=arguments[2]),a>3&&(e.columnNumber=arguments[3]),a>4&&arguments[4]instanceof Error&&(e.e=arguments[4])):o instanceof Error?e.e=o:e=o,e.e))try{n=e.e,this.stack=n.stack}catch(i){}n||(n=new Error,n.stack&&(this.stack="undefined"!=typeof Components?n.stack.substring(n.stack.indexOf("\n")+1):"undefined"!=typeof chrome||"undefined"!=typeof process?n.stack.replace(/\n[^\n]*/,""):n.stack)),this.message=t!==typeof e.message?e.message:n.message,this.fileName=t!==typeof e.fileName?e.fileName:n.fileName,this.lineNumber=t!==typeof e.lineNumber?e.lineNumber:n.lineNumber,this.columnNumber=t!==typeof e.columnNumber?e.columnNumber:n.columnNumber,this.toString=function(){return this.name+": "+this.message}}n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,e.UserError=n}(),e.ERROR=new function(){this.ERROR_CODES={ERROR_RESULT:{FATAL:1048576},ERROR_NAME:{EVALERROR:65536,INTERNALERROR:131072,RANGEERROR:196608,REFERENCEERROR:262144,SYNTAXERROR:327680,TYPEERROR:393216,URIERROR:458752}},Object.defineProperties(this.ERROR_CODES,Ct),Object.defineProperty(this.ERROR_CODES,"get",{value:function(t,n){return"undefined"==typeof n?e.ERROR.ERROR_CODES.SearchForKey(t):e.ERROR.ERROR_CODES.setKeyValue(t,n)},enumerable:!1}),this.getCode=function(t){var e=this.ERROR_CODES.get(t);return"undefined"!=typeof e?Number(e.toString(2)):r};this.send=function(n){try{var t=e.extend(!0,{},e.Config.Update,n);return"undefined"==typeof t.args&&(t.args={}),"undefined"==typeof t.args.scriptError&&(t.args.scriptError="1"),"undefined"==typeof t.args.scriptErrorCode&&(t.args.scriptErrorCode="-1"),t.getType="none",t.noDownload=!0,e.UPDATE.sendRequest(t)}catch(o){return c.log("Error! Error.send: ",o),r}},this.catchError=function(l,u,o,a,r,i){try{if(c.log("stackInfo",i),"undefined"!=typeof r&&"undefined"!=typeof r.stack){var s=d.call(arguments,0);if(n("Error.autoReportErrors")){var t=n("Error.errorFilter").apply(this,s);if(t){var e={getType:"none",args:{}};switch(e.args.scriptErrorLineNumber=o,e.args.scriptErrorColNumber=a,typeof t){case"object":e.args=merge(e.args,t);break;case"number":case"string":e.args.scriptError=t;break;case"boolean":e.args.scriptError="1"}}}}}catch(f){}return!1},this.processError=function(t){var n="";try{n=t.stack.toString()}catch(t){}var r={message:t.message,name:t.name,fileName:t.fileName,lineNumber:t.lineNumber,columnNumber:t.columnNumber,stack:n};return e.ERROR.catchError(t.message,t.fileName,t.lineNumber,t.columnNumber,r,e.parseStack(n))}},gt(Dt,a,{defineAs:"jModListenError",allowCallbacks:!0,allowCrossOriginArguments:!0});var on=function(){function t(l,o,a,c,t){var e="undefined"!=typeof document?document.defaultView:null!=this.top?this:null,n=null!=this.console?this.console:e.console;n.log("tErrHandle",l,o,a,t);try{var i={},s="";if(t){try{s=String(t.stack)}catch(u){n.log("Error eObj.stack.toString",u)}i={message:t.message,name:t.name,fileName:t.fileName,lineNumber:t.lineNumber,columnNumber:t.columnNumber,stack:s,url:o}}else i={message:l,name:null,fileName:null,lineNumber:a,columnNumber:c,stack:s,url:o};var f;f="undefined"!=typeof jModListenError?jModListenError:e.jModListenError?e.jModListenError:document.defaultView.jModListenError,f(l,o,a,c,i)}catch(u){n.log("error calling jModListenError",u,e)}for(var r=e._jModErrorHandlerStack.length-1;r>=0;r--)try{if(!0===e._jModErrorHandlerStack[r].apply(this,arguments))return!0}catch(u){n.log("Error processing error handler",e._jModErrorHandlerStack[r])}try{if(e._origErrorHandler)return e._origErrorHandler.apply(this,arguments)}catch(u){}return!1}{var e="undefined"!=typeof this.document?this.document.defaultView:"undefined"!=typeof document?document.defaultView:null!=this.top?this:null;null!=e.console?e.console:this.console}if(!e._jModErrorHandlerStack){e._origErrorHandler=e.onerror,e._jModErrorHandlerStack=[],e.onerror=t;try{e.__defineSetter__("onerror",function(t){e._jModErrorHandlerStack.push(t)})}catch(n){}}};return t==typeof e.Config.script.script_info&&t!=typeof GM_info&&v.set(),+function(){function o(o){return h.headAvailable||e.Element.head&&n.headAvailable(),h.DOMLoaded||-1!=["interactive","complete"].indexOf(r.readyState.toLowerCase())&&n.DOMLoaded(),h.DOMLoaded&&(h.documentComplete||"complete"!=r.readyState||n.documentComplete(),h.performanceReady||(s=T.pageLoadTime(),(!isNaN(s)&&s>0||!T.available)&&n.performanceReady()),h.performanceReady&&h.documentComplete)?(h.Complete=!0,clearInterval(a),void(e.debug&&z("jMod Finish Init"+(t!=typeof i.mozPaintCount?" (Mozilla Paint Count: "+i.mozPaintCount+")":"")))):p++>d?(h.Complete=!0,clearInterval(a),h.DOMLoaded||n.DOMLoaded(),h.documentComplete||n.documentComplete(),h.performanceReady||n.performanceReady(),void(e.debug&&z("jMod Finish Init (timeout)"+(t!=typeof i.mozPaintCount?" (Mozilla Paint Count: "+i.mozPaintCount+")":"")))):void(e.debug&&e.log.count("Try Init"))}function a(){h.Complete?clearInterval(a):o("checkTimer")}function u(t){h.Complete||o("DOMContentLoaded"),r.removeEventListener("DOMContentLoaded",u,!1),e.Events.fire.apply(e.Events,["DOMContentLoaded",{_this:this,args:arguments}]),e.debug&&e.Debug("DOMContentLoaded",t)}function l(t){i.removeEventListener("load",l,!1),e.Events.fire.apply(e.Events,["load",{_this:this,args:arguments}]),e.debug&&e.Debug("onLoadEvent",t)}function f(t){e.Events.fire.apply(e.Events,["beforescriptexecute",{_this:this,args:arguments}])}function g(t){e.Events.fire.apply(e.Events,["afterscriptexecute",{_this:this,args:arguments}])}const d=200;var s,p=0,r=e.Element.document,n={addCSS:function(){h.CSSAdded||(h.CSSAdded=!0,e.AddCSS())},headAvailable:function(){h.headAvailable=!0,n.addCSS(),e.debug&&e.API.contentEval(on)},DOMLoaded:function(){h.DOMLoaded=!0,e.debug&&z("DOM Loaded",null," - Begin Init"),h.headAvailable||n.headAvailable(),e.Events.fire("onDOMReady"),e.Notification.init(),e.Modal.init(),e.Settings.init(),h.jModReady=!0,e.debug&&z("jModReady"+(t!=typeof i.mozPaintCount?" (Mozilla Paint Count: "+i.mozPaintCount+")":"")),e.Events.fire("onReady"),T.available&&(at=T.now)},documentComplete:function(){h.documentComplete=!0,e.debug&&(z("onPageReady"+(t!=typeof i.mozPaintCount?" (Mozilla Paint Count: "+i.mozPaintCount+")":"")),c.groupEnd("jMod Start")),e.Events.fire("onPageReady")},performanceReady:function(){h.performanceReady=!0,e.debug&&z("onPerformanceReady"),e.Events.fire("onPerformanceReady")}};r.addEventListener("DOMContentLoaded",u,!1),r.onreadystatechange=function(t){h.Complete||o("onreadystatechange"),e.Events.fire.apply(e.Events,["onreadystatechange",{_this:this,args:arguments}]),e.debug&&e.Debug("onreadystatechange %c%s%c %o",e.log.fmt.stchange,r.readyState," ",t)},i.addEventListener("load",l,!1),i.addEventListener("beforescriptexecute",f,!1),i.addEventListener("afterscriptexecute",g,!1),o(),setInterval(a,25)}(),T.available&&setTimeout(function(){e.InitializeEndTime=T.now},0),e.debug&&(z("jMod Initialize Time Elapsed"),c.log("unsafeWindow",a),c.log("window",i),c.log("global",Object.prototype.toString.call(this).replace(/^\[object |\]$/g,"").toLowerCase(),this)),e});
//# sourceMappingURL=http://test2.myuserjs.org/API/jMod/current/jMod.min.js.map