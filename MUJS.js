"undefined"===typeof unsafeWindow&&(unsafeWindow=window);"undefined"===typeof unsafeWindow.MUJS&&(unsafeWindow.MUJS={});
(function(b){function h(a,c,b){this[a].prototype[c]||Object.defineProperty(this[a].prototype,c,b);unsafeWindow[a].prototype[c]||Object.defineProperty(unsafeWindow[a].prototype,c,b)}h("Object","SearchForKey",{value:function(a){a=a.split(".");for(var c=this,b=0;b<a.length;b++){if("undefined"===typeof c[a[b]])return;c=c[a[b]]}return c},enumerable:!1});h("Object","setKeyValue",{value:function(a,c,b){a=a.split(".");for(var e=this,d=0;d<a.length-1;d++){if("undefined"===typeof e[a[d]])if(b)e[a[d]]={};else return;
e=e[a[d]]}e[a[a.length-1]]=c},enumerable:!1});b.Config={host:"http://myuserjs.org",script:{username:void 0,script_name:void 0},get_type:"data.js",DOMTiming:!1,args:{},error:{}};b.getOption=function(a){return b.Config.SearchForKey(a)};b.get=b.getOption;b.setOption=function(a,c,g){return b.Config.setKeyValue(a,c)};b.set=b.setOption;b.UPDATE={};b.UPDATE.getDOMTiming=function(){var a={};if("undefined"!==typeof window.performance&&"undefined"!==typeof window.performance.timing){var b=window.performance.timing,
g=b.loadEventEnd-b.navigationStart;0<g&&(a.pageLoadTime=g);b=b.domComplete-b.navigationStart;0<b&&(a.DOMLoadTime=b)}return a};b.UPDATE.addScriptTag=function(a){if(heads=document.getElementsByTagName("head")){var b=document.createElement("script");if("undefined"!=typeof a.js&&""!=a.js)try{b.innerHTML=a.js}catch(g){b.innerText=a.js}if("undefined"!=typeof a.src&&""!=a.src)try{b.src=a.src}catch(e){}if("undefined"!==typeof a.id)try{b.id=a.id}catch(d){}"undefined"!==typeof a.async&&(b.async=!0);b.type=
"text/javascript";try{heads[0].appendChild(b)}catch(f){}return b}return null};b.UPDATE.get=b.getOption;b.UPDATE.set=b.setOption;if("undefined"!==typeof unsafeWindow.MUJS_UPDATE_CONFIGURATION)for(var k in unsafeWindow.MUJS_UPDATE_CONFIGURATION)b.UPDATE.set(k,unsafeWindow.MUJS_UPDATE_CONFIGURATION[k],!0);b.UPDATE.getUpdateURL=function(a){"undefined"!==typeof unsafeWindow.UpdateData&&(unsafeWindow.UpdateData=void 0,delete unsafeWindow.UpdateData);var c=b.getOption("script.username");"undefined"!==typeof a.username&&
(c=a.username);if("undefined"===typeof c)return a.callback(void 0,"Error! No Username Provided");var g=b.getOption("script.script_name");"undefined"!==typeof a.script_name&&(g=a.script_name);if("undefined"===typeof g)return a.callback(void 0,"Error! No Username Provided");var e=b.getOption("get_type");"undefined"!==typeof a.get_type&&(e=a.get_type);var d=b.getOption("args");if("undefined"!==typeof a.args)for(var f in a.args)d[f]=a.args[f];if("undefined"===typeof a.noDOM&&b.getOption("DOMTiming"))for(f in a=
b.UPDATE.getDOMTiming(),a)d[f]=a[f];a="";for(f in d)a+=(0<a.length?"&":"")+f+"="+d[f];d="http://myuserjs.org";"undefined"!==b.getOption("host")&&(d=b.getOption("host"));return d+"/script/"+c+"/"+g+"."+e+"?"+a};b.UPDATE.getUpdateData=function(a){var c=b.UPDATE.getUpdateURL(a),c=b.UPDATE.addScriptTag({src:c});b.UPDATE.waitForUpdateData(a.callback);return c};b.UPDATE.waitForUpdateData=function(a,c){"undefined"===typeof c&&(c=0);return 100<c?a(void 0,"Error! TimedOut"):"undefined"!==typeof unsafeWindow.UpdateData?
a(unsafeWindow.UpdateData,"Success!"):setTimeout(b.UPDATE.waitForUpdateData,50,a,c+1)};b.ERROR={};b.ERROR.send=function(a){"undefined"===typeof a.args&&(a.args={});if("undefined"!==typeof performance){var c=performance.now();"undefined"===typeof a.args.scriptErrorTime&&(a.args.scriptErrorTime=parseInt(c))}a.args.scriptError="undefined"===typeof a.args.scriptError?"1":a.args.scriptError;"undefined"===typeof a.callback&&(a.callback=function(){});a.args.nodownload="1";a.noDOM=!0;b.UPDATE.getUpdateData(a)}})(unsafeWindow.MUJS);
