// ==UserScript==
// @name             MUJS
// @namespace        http://myuserjs.org/
// @author           jgjake2
// @homepage         http://myuserjs.org/
// @include          *
// @version          0.0.14
// @grant            unsafeWindow
// @grant            GM_info
// @grant            GM_log
// @grant            GM_addStyle
// @grant            GM_getMetadata
// @grant            GM_installScript
// @grant            GM_xmlhttpRequest
// @grant            GM_getResourceURL
// @grant            GM_getResourceText
// @grant            GM_registerMenuCommand
// @unwrap
// @run-at           document-start
// ==/UserScript==
"undefined"===typeof unsafeWindow&&(unsafeWindow=window);MUJS=function(b){return MUJS._call.apply(MUJS,arguments)};Object.defineProperties(MUJS,{version:{configurable:!1,get:function(){return"0.0.14"}},build_time:{configurable:!1,get:function(){return"1419182592000"}},build_type:{configurable:!1,get:function(){return"beta"}},debug:{configurable:!1,get:function(){return!0}},API:{value:function(b){return MUJS.API.EvalCommand.apply(MUJS.API,Array.prototype.slice.call(arguments,0))}},fn:{value:MUJS.__proto__}});
MUJS.API.fn=MUJS.API.__proto__;"undefined"!==typeof console&&"undefined"!==typeof console.time&&(console.time("MUJS API Loading"),console.time("MUJS API Finish Init"));
(function(b,Q){function B(a,b,d){var c="function"===typeof d?!0:!1,f=b;"object"!==typeof b&&(f=Array.prototype.slice.call(arguments,1),c=!1);for(var g=0;g<f.length;g++)if("undefined"!==typeof a[f[g]]&&(!c||c&&d(f[g],a[f[g]])))return f[g]}function C(a,b,d){var c=B.apply(this,arguments);if("undefined"!==typeof c)return a[c]}function J(a,b,d){if("undefined"!==typeof exportFunction)exportFunction(a,b,d);else{var c;"undefined"===typeof d&&(d={});"undefined"!==typeof d.defineAs?c=d.defineAs:"function"===
typeof a&&""!=a.name&&(c=a.name);b[c||""]=a}}function p(a){try{return a instanceof HTMLElement}catch(b){return"object"===typeof a&&1===a.nodeType&&"object"===typeof a.style&&"object"===typeof a.ownerDocument}}function K(a){a=a.split(".");for(var b=this,d=0;d<a.length;d++){if("undefined"===typeof b[a[d]])return;b=b[a[d]]}return b}function x(a){if(null==a||"object"!=typeof a)return a;var b;try{b=a.constructor()}catch(d){switch(z(a)){case "number":b=(new Number).constructor();break;case "array":b=[].constructor();
break;case "map":b={}.constructor();break;default:b=a}}for(var c in a)a.hasOwnProperty(c)&&(b[c]=x(a[c]));return b}function L(a,b){if(null==b||-1!=["string","number","date","regex","undefined"].indexOf(z(b)))return x(b);var d=x(a),c;for(c in b)"undefined"===typeof d[c]||"function"===typeof d[c]||null==b[c]||"object"!=typeof b[c]?d[c]=x(b[c]):null==d[c]||"array"==z(d[c])||"object"!=typeof d[c]?d[c]=x(b[c]):d[c]=L(d[c],b[c]);return d}function q(){var a=Array.prototype.slice.call(arguments);if(0!=a.length){if(1==
a.length)return a[0];for(var b=a[0],d=1;d<a.length;d++)b=L(b,a[d]);return b}}function m(a){return"undefined"===typeof a?!1:"undefined"!==typeof a.timeStamp?!0:!1}function u(a){return"undefined"===typeof a?!1:m(a)||"undefined"===typeof a.dirxml?!1:!0}function D(a){return"undefined"!==typeof a&&"undefined"===typeof a.dirxml?!0:!1}function M(){if(m(console))return console;if(m(this.console))return this.console;if(m(window.console))return window.console;if(m(unsafeWindow.console))return unsafeWindow.console;
if(m(unsafeWindow.window.console))return unsafeWindow.window.console;if(m(window.console))return window.console}function N(){if(u(console))return console;if(u(this.console))return this.console;if(u(unsafeWindow.console))return unsafeWindow.console;if(u(unsafeWindow.window.console))return unsafeWindow.window.console;if(u(window.console))return window.console}function O(){if(D(unsafeWindow.window.console))return unsafeWindow.window.console;if(D(window.console))return window.console}function R(a){var e=
document.createElement("div");e.setAttribute("data-mujs-notification",b.Notification.count);e.setAttribute("data-mujs-large-notification",b.Notification.LargeCount);e.className="MUJSLargeNotification bigBox animated fadeIn";"undefined"!==typeof a.background&&(e.style.background=a.background);e.style.backgroundColor="undefined"!==typeof a["background-color"]?a["background-color"]:"rgb(50, 118, 177)";var d=document.createElement("div");d.className="";var c=document.createElement("i");c.setAttribute("class",
"botClose fa fa-times");c.setAttribute("id","MUJSbtnClose"+b.Notification.LargeCount);c.addEventListener("click",function(a){var c=a.target.parentElement.parentElement,e=parseInt(c.getAttribute("data-mujs-notification")),d=parseInt(c.getAttribute("data-mujs-large-notification"));b.Notification.close(c,"large",e,d,a)});d.appendChild(c);c=document.createElement("span");c.className="";"undefined"!==typeof a.title&&(p(a.title)?c.appendChild(a.title):c.innerHTML=a.title);d.appendChild(c);c=document.createElement("p");
c.className="";"undefined"!==typeof a.body&&(p(a.body)?c.appendChild(a.body):c.innerHTML=a.body);d.appendChild(c);"undefined"!==typeof a.icon&&(c=document.createElement("div"),c.setAttribute("class","mujs-na bigboxicon"),p(a.icon)?c.appendChild(a.icon):c.innerHTML='<i class="fa '+a.icon+" "+(a.iconAnimation||"swing")+' animated"> </i>',d.appendChild(c));e.appendChild(d);return e}function S(a){var e=document.createElement("div");e.setAttribute("data-mujs-notification",b.Notification.count);e.setAttribute("data-mujs-small-notification",
b.Notification.SmallCount);e.className="MUJSSmallNotification SmallBox animated fadeIn";"undefined"!==typeof a.background&&(e.style.background=a.background);e.style.backgroundColor="undefined"!==typeof a["background-color"]?a["background-color"]:"rgb(41, 97, 145)";var d=b.Notification.CurrentSmallCount;if(0<d){for(var d=25*d,c=b.Notification("getElement","notificationsSmallWrapper").querySelectorAll("div[data-mujs-small-notification]"),f=0;f<c.length;f++)d+=parseInt(c[f].offsetHeight);e.style.top=
d+20+"px"}e.addEventListener("click",function(a){for(var c=0,e=a.target;!e.hasAttribute("data-mujs-small-notification")&&null!=e&&10>c;)e=e.parentElement,c++;if(null!=e){var c=parseInt(e.getAttribute("data-mujs-notification")),d=parseInt(e.getAttribute("data-mujs-small-notification"));b.Notification.close(e,"small",c,d,a)}},!1);d=document.createElement("div");"undefined"===typeof a.footer?d.className="textoFull":(d.className="textoFoto",c=document.createElement("div"),c.className="foto",p(a.icon)?
c.appendChild(a.icon):c.innerHTML='<i class="fa '+a.icon+" "+(a.iconAnimation||"bounce")+' animated"> </i>',e.appendChild(c));c=document.createElement("span");c.className="";"undefined"!==typeof a.title&&(p(a.title)?c.appendChild(a.title):c.innerHTML=a.title);d.appendChild(c);c=document.createElement("p");c.className="";"undefined"!==typeof a.body&&(p(a.body)?c.appendChild(a.body):c.innerHTML=a.body);d.appendChild(c);"undefined"!==typeof a.footer&&(c=document.createElement("p"),c.className="text-align-right",
p(a.footer)?c=a.footer:c.innerHTML=a.footer,d.appendChild(c));e.appendChild(d);"undefined"===typeof a.footer&&"undefined"!==typeof a.icon&&(d=document.createElement("div"),d.setAttribute("class","miniIcono"),p(a.icon)?d.appendChild(a.icon):d.innerHTML='<i class="miniPic fa '+a.icon+' bounce animated"> </i>',e.appendChild(d));return e}function P(a,e,d,c,f){console.log("MUJSListenError",a,e,d,c);var g=b.parseStack(f.stack);if(0<g.length)return b.ERROR.catchError(a,e,d,c,f,g)}function E(a){b.log.count("Try Init");
k.DOMLoaded||-1==["interactive","complete"].indexOf(document.readyState.toLowerCase())||(k.DOMLoaded=!0,b.Debug("DOM Loaded - Begin Init"));if(k.DOMLoaded){k.onErrorFunctionAdded||(k.onErrorFunctionAdded=!0,b.API.contentEval(T),setTimeout(function(){b.events.fire("onReady")},1));k.RequirementsAdded||(k.RequirementsAdded=!0,b.Requirements.insertAll());k.CSSAdded||(k.CSSAdded=!0,b.API.addStyle(y),y="");k.notificationsInitialized||(k.notificationsInitialized=!0,b.Notification.init());if(!k.documentComplete)if("complete"===
document.readyState&&"undefined"!==typeof unsafeWindow.performance&&"undefined"!==typeof unsafeWindow.performance.timing){if(0<(unsafeWindow.performance.timing.loadEventEnd||unsafeWindow.performance.timing.loadEventStart)-unsafeWindow.performance.timing.navigationStart||300<=A)k.documentComplete=!0,b.events.fire("onPageReady")}else 300<=A&&(k.documentComplete=!0,b.events.fire("onPageReady"));k.documentComplete&&k.onErrorFunctionAdded&&k.notificationsInitialized&&(k.Complete=!0,clearInterval(F),b.Debug("Init Complete - "+
A+" trys"),console.timeEnd("MUJS API Finish Init"))}A++}function F(){k.Complete?clearInterval(F):E()}var v=-1,w=-1;"undefined"!==typeof unsafeWindow.performance&&"undefined"!==typeof unsafeWindow.performance.timing&&(v=unsafeWindow.performance.now());b.fn.parseStack=function(a){for(var b=[],d=/([^\s]*)\@file\:\/\/\/([^\s]+?(?:\/([^\/]+?\.(user\.js|js|json|php)))?):(\d+)(?:\:(\d+))?/gi,c;null!=(c=d.exec(a));)b.push({functionName:c[1],fullFileName:c[2],fileName:c[3],fileExt:c[4],lineNumber:c[5],columnNumber:c[6]});
return b};var k={DOMLoaded:!1,RequirementsAdded:!1,CSSAdded:!1,documentComplete:!1,onErrorFunctionAdded:!1,notificationsInitialized:!1,Complete:!1,scriptExecCount:0,manualCallCount:0};b.fn._call=function(){var a=Array.prototype.slice.call(arguments,0);try{if(b.gotScriptFileInfo||b.getScriptFileInfo(),0<a.length)if("string"===typeof a[0])switch(a[0]){case "get":return b.config.apply(b,Array.prototype.slice.call(arguments,1));case "set":return b.config(a[1],a[2])}else if("object"===typeof a[0]&&"undefined"!==
typeof B(a[0],["GM_info","gm_info","ginfo"]))return b.setScriptInfo.apply(b,a)}catch(e){}};var y="";Object.defineProperty(b,"CSS",{get:function(){return y},set:function(a){k.CSSAdded?b.API.addStyle(a):y+=a},enumerable:!1});b.fn.Requirements={_requirements:{head:[],body:[],GM_style:[]},add:function(a){switch(a.type){case "style":case "css":return this.addGM(a);default:return this.addElement(a)}},addElement:function(a){var b=a.target||"head",d=document.createElement(a.type);if("undefined"!==typeof a.attributes)for(var c in a.attributes)d.setAttribute(c,
a.attributes[c]);if(k.RequirementsAdded)this.insertElement(d,b);else switch(b){case "head":return k.RequirementsAdded?this.insertElement(d,"head"):this._requirements.head.push(d);case "body":return k.RequirementsAdded?this.insertElement(d,"body"):this._requirements.body.push(d)}},addGM:function(a){switch(a.type){case "style":case "css":return k.RequirementsAdded?this.insertGM(a.value,"style"):this._requirements.GM_style.push(a.value)}},insertElement:function(a,b){switch(b||"head"){case "body":return document.getElementsByTagName("body")[0].appendChild(a);
default:return document.getElementsByTagName("head")[0].appendChild(a)}},insertGM:function(a,e){switch(e){case "style":case "css":b.API.addStyle(a)}},insertAll:function(){for(var a=document.getElementsByTagName("head")[0],e=document.getElementsByTagName("body")[0],d=null;null!=(d=this._requirements.head.shift());)a.appendChild(d);for(;null!=(d=this._requirements.body.shift());)e.appendChild(d);for(;null!=(d=this._requirements.GM_style.shift());)b.API.addStyle(d)}};var U=function(a){var b={protocol:"http:",
hostname:"",pathname:"",args:[],setHostname:function(a){var b=document.createElement("a");/^\s*(?:https?\:)?\/\//i.test(a)||(a="http://"+a);b.href=a;this.hostname=b.hostname;this.protocol=b.protocol},setPath:function(a){"/"!=a[0]&&(a="/"+a);this.pathname=a},addArg:function(a,b){this.args.push([a,b])},addArgs:function(a){for(var b=0;b<a.length;b++)this.addArg(a[b])},buildArgs:function(){for(var a=[],b=0;b<this.args.length;b++)a.push(this.args[b].join("="));return a.join("&")},toString:function(){return this.protocol+
"//"+this.hostname+this.pathname+"?"+this.buildArgs()}};"undefined"!==typeof a&&b.setHostname(a);return b};b.fn.Versions={parseVersion:function(a){var b={fullVersion:a.trim(),versionStr:null,prefixStr:null,suffixStr:null,version:[]};if(a=/^\s*(.*?)\s*((?:[\d]+\.)*[\d]+)\s*(.*?)\s*$/i.exec(a.trim())){b.prefixStr=a[1];b.versionStr=a[2];b.suffixStr=a[3];a=a[2].split(".");for(var d in a)b.version.push(parseInt(a[d]))}return b},compare:function(a,b){var d=a,c=b;"string"===typeof a&&(d=this.parseVersion(a));
"string"===typeof b&&(c=this.parseVersion(b));d=[].concat(d.version);for(c=[].concat(c.version);;){var f=d.shift(),g=c.shift();if(null!=f&&null!=g){if(parseInt(f)>parseInt(g))return 1;if(parseInt(f)<parseInt(g))return-1}else{if(null!=f&&null==g)return 1;if(null==f&&null!=g)return-1;break}}return 0}};var G=this.mCloneInto=function(a,b,d){return"undefined"!==typeof cloneInto?cloneInto(a,b,d):a},z=this.RealTypeOf=b.fn.RealTypeOf=function(a){var b;try{b=a}catch(d){b=G(a,unsafeWindow,{cloneFunctions:!0,
wrapReflectors:!0})}try{return"undefined"===typeof b?"undefined":"number"===typeof b&&1==isNaN(b)?"nan":"object"===typeof b?null===b?"null":b.constructor==={}.constructor?"map":b.constructor===[].constructor?"array":b.constructor===(new Date).constructor?isNaN(b.getTime())?"invaliddate":"date":b.constructor===RegExp().constructor?"regex":Object.prototype.toString.call(b).replace(/^\[object |\]$/g,"").toLowerCase():typeof b}catch(c){return typeof b}},H={SearchForKey:{value:K,enumerable:!1},SearchForKeys:{value:function(a){var b=
a;"string"===typeof a&&(b=Array.prototype.slice.call(arguments));for(var d=0;d<b.length;d++){var c=K.apply(this,[b[d]]);if("undefined"!==typeof c)return c}},enumerable:!1},setKeyValue:{value:function(a,b,d){a=a.split(".");for(var c=this,f=0;f<a.length-1;f++){if("undefined"===typeof c[a[f]])if(d)c[a[f]]={};else return;c=c[a[f]]}c[a[a.length-1]]=b},enumerable:!1}},n=new function(){var a=void 0;this.__defineGetter__("available",function(){return"undefined"===typeof this.performancePtr?!1:!0});this.__defineGetter__("now",
function(){return this.performancePtr.now()});this.__defineGetter__("performancePtr",function(){"undefined"===typeof a&&(a="undefined"!==typeof unsafeWindow.performance&&"undefined"!==typeof unsafeWindow.performance.timing?unsafeWindow.performance:void 0);return a});this.get=function(a){if("undefined"!==typeof this.performancePtr){a=a.split(".");for(var b=this.performancePtr,c=0;c<a.length;c++){if("undefined"===typeof b[a[c]])return;b=b[a[c]]}return b}};this.getAllTiming=function(a){"undefined"===
typeof a&&(a=[]);var b=[],c=this.performancePtr,f;for(f in c.timing)isNaN(c.timing[f])||-1!=a.indexOf(f)||(b[f]=parseInt(c.timing[f]));return b}};b.fn.Browser={getAgent:function(){return navigator.userAgent},get:function(){},getRegexMatches:function(a,b){for(var d,c=[],f=0;f<b.length;f+=2){for(var g=b[f],h=[],l=0;l<g.length;l++)(d=g[l].exec(a))&&h.push(d);0<h.length&&c.push({matches:h,map:b[f+1]})}return c},getRegexFirstMatch:function(a,b){for(var d,c=0;c<b.length;c+=2)for(var f=b[c],g=0;g<f.length;g++)if(d=
f[g].exec(a))return[d,b[c+1]];return[]},getBrowser:function(){var a={};try{var b=this.getAgent(),d=this.getRegexFirstMatch(b,this.regexes.browser);if(1<d.length)for(b=0;b<d[1].length;b++)a[d[1][b]]=d[0][b+1]}catch(c){}return a},regexes:{browser:[[/(opera\smini)\/((\d+)?[\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/((\d+)?[\w\.-]+)/i,/(opera).+version\/((\d+)?[\w\.]+)/i,/(opera)[\/\s]+((\d+)?[\w\.]+)/i],["name","version","major"],[/\s(opr)\/((\d+)?[\w\.]+)/i],[["name","Opera"],"version","major"],[/(kindle)\/((\d+)?[\w\.]+)/i,
/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?((\d+)?[\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?((\d+)?[\w\.]*)/i,/(?:ms|\()(ie)\s((\d+)?[\w\.]+)/i,/(rekonq)((?:\/)[\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron)\/((\d+)?[\w\.-]+)/i],["name","version","major"],[/(trident).+rv[:\s]((\d+)?[\w\.]+).+like\sgecko/i],[["name","IE"],"version","major"],[/(yabrowser)\/((\d+)?[\w\.]+)/i],[["name","Yandex"],"version","major"],[/(comodo_dragon)\/((\d+)?[\w\.]+)/i],
[["name",/_/g," "],"version","major"],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?((\d+)?[\w\.]+)/i,/(uc\s?browser|qqbrowser)[\/\s]?((\d+)?[\w\.]+)/i],["name","version","major"],[/(dolfin)\/((\d+)?[\w\.]+)/i],[["name","Dolphin"],"version","major"],[/((?:android.+)crmo|crios)\/((\d+)?[\w\.]+)/i],[["name","Chrome"],"version","major"],[/version\/((\d+)?[\w\.]+).+?mobile\/\w+\s(safari)/i],["version","major",["name","Mobile Safari"]],[/version\/((\d+)?[\w\.]+).+?(mobile\s?safari|safari)/i],["version",
"major","name"],[/(konqueror)\/((\d+)?[\w\.]+)/i,/(webkit|khtml)\/((\d+)?[\w\.]+)/i],["name","version","major"],[/(navigator|netscape)\/((\d+)?[\w\.-]+)/i],[["name","Netscape"],"version","major"],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?((\d+)?[\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/((\d+)?[\w\.-]+)/i,/(mozilla)\/((\d+)?[\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf)[\/\s]?((\d+)?[\w\.]+)/i,
/(links)\s\(((\d+)?[\w\.]+)/i,/(gobrowser)\/?((\d+)?[\w\.]+)*/i,/(ice\s?browser)\/v?((\d+)?[\w\._]+)/i,/(mosaic)[\/\s]((\d+)?[\w\.]+)/i],["name","version","major"]],engine:[[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],["name","version"],[/rv\:([\w\.]+).*(gecko)/i],["version","name"]]}};b.Config={host:"http://myuserjs.org",scopeLock:!1,secure:!1,browser:b.Browser.getBrowser(),script:{username:void 0,
script_name:void 0},Update:{DOMTiming:!1,args:{},updateVeriableName:"USMetaData",getType:"data",jQuery:!1,XMLHttpRequest:!1,getStats:!1,sampleRate:100},Error:{autoReportErrors:!1,errorFilter:function(a,b,d){return!0}},API:{log:{disabled_functions:[],hidden_classes:[],verbosity_level:b.debug?5:2,GM_log:!0},localStorage:{storage_prefix:"MUJS_"}},debug:!1};try{-1==["firefox","waterfox"].indexOf(b.Config.browser.name.toLowerCase())&&(b.Config.API.log.GM_log=!1)}catch(V){}Object.defineProperties(b.Config,
H);"undefined"!==typeof unsafeWindow.MUJS_CONFIGURATION&&(b.Config=q(b.Config,unsafeWindow.MUJS_CONFIGURATION));"undefined"!==typeof unsafeWindow.MUJS_UPDATE_CONFIGURATION&&(b.Config.Update=q(b.Config.Update,unsafeWindow.MUJS_UPDATE_CONFIGURATION));Object.defineProperties(b.Config,H);Object.defineProperty(b,"config",{value:function(a,e){return"undefined"===typeof e?b.Config.SearchForKeys(a):b.Config.setKeyValue(a,e)},enumerable:!1});var r={ERROR:{level:1,value:"error"},EXCEPTION:{level:1,value:"exception"},
WARNING:{level:2,value:"warn"},INFO:{level:3,value:"info"},LOG:{level:4,value:"log"},DEBUG:{level:5,value:"debug"}},I=["Debug","Log","Info","Warning"];b.API.fn.MUJS_Log=new function(a,e,d){a=m(a)?a:void 0;e=m(e)?e:void 0;d=m(d)?d:void 0;return{Firebug_ptr:a,Console2_ptr:e,WebConsole_ptr:d,OUTPUT_TYPES:r,updateFirebugPtr:function(a){"undefined"===typeof this.Firebug_ptr&&m(a)&&(this.Firebug_ptr=a)},updateConsole2Ptr:function(a){"undefined"===typeof this.Console2_ptr&&u(a)&&(this.Console2_ptr=a)},updateWebConsolePtr:function(a){"undefined"===
typeof this.WebConsole_ptr&&D(a)&&(this.WebConsole_ptr=a)},ConsoleCommand:function(a,d){try{var e=Array.prototype.slice.call(arguments,1),h=G(e,unsafeWindow,{cloneFunctions:!0,wrapReflectors:!0});"undefined"!==typeof this.Firebug_ptr&&"undefined"!==typeof this.Firebug_ptr[a]&&this.Firebug_ptr[a].apply(this.Firebug_ptr,h);"undefined"!==typeof this.Console2_ptr&&"undefined"!==typeof this.Console2_ptr[a]&&this.Console2_ptr[a].apply(this.Console2_ptr,h);"undefined"!==typeof this.WebConsole_ptr&&"undefined"!==
typeof this.WebConsole_ptr[a]?this.WebConsole_ptr[a].apply(this.WebConsole_ptr,h):"undefined"!==typeof GM_log&&b("get","API.log.GM_log")&&-1!="debug log info warning error exception".split(" ").indexOf(a.toLowerCase())&&(0==e.length?GM_log(""):1==e.length?GM_log(e[0]):GM_log(e.join(",")))}catch(l){console.log("ConsoleCommand Error! getUpdateData: ",l.name,l.fileName,l.lineNumber+":"+l.columnNumber),console.log(l),console.trace(l)}},outputMessage:function(a,d){a.level<=b.config("API.log.verbosity_level")&&
this.ConsoleCommand.apply(this,[a.value].concat(Array.prototype.slice.call(arguments,1)))},Error:function(a,b){this.outputMessage.apply(this,[r.ERROR,"C.CE Error ("+a+") - "+b.name+" - "+b.message+" in file <"+b.fileName+"> on line "+b.lineNumber,b])},Exception:function(a){this.outputMessage.apply(this,[r.EXCEPTION].concat(Array.prototype.slice.call(arguments,0)))},logError:this.Error,Warning:function(a){this.outputMessage.apply(this,[r.WARNING].concat(Array.prototype.slice.call(arguments,0)))},Info:function(a){this.outputMessage.apply(this,
[r.INFO].concat(Array.prototype.slice.call(arguments,0)))},Log:function(a){this.outputMessage.apply(this,[r.LOG].concat(Array.prototype.slice.call(arguments,0)))},Debug:function(a){this.outputMessage.apply(this,[r.DEBUG].concat(Array.prototype.slice.call(arguments,0)))},table:function(a){this.ConsoleCommand("table",Array.prototype.slice.call(arguments,0))},count:function(a){-1==b.config("API.log.disabled_functions").indexOf("count")&&this.ConsoleCommand("count",a)},startGroup:function(a){-1==b.config("API.log.disabled_functions").indexOf("startGroup")&&
-1==b.config("API.log.disabled_functions").indexOf("groupEnd")&&-1==b.config("API.log.disabled_functions").indexOf("groupCollapsed")&&this.ConsoleCommand("group",a)},endGroup:function(){-1==b.config("API.log.disabled_functions").indexOf("startGroup")&&-1==b.config("API.log.disabled_functions").indexOf("groupEnd")&&-1==b.config("API.log.disabled_functions").indexOf("groupCollapsed")&&this.ConsoleCommand("groupEnd")},groupCollapsed:function(a){-1==b.config("API.log.disabled_functions").indexOf("startGroup")&&
-1==b.config("API.log.disabled_functions").indexOf("groupEnd")&&-1==b.config("API.log.disabled_functions").indexOf("groupCollapsed")&&this.ConsoleCommand("groupCollapsed",a)},time:function(a){-1==b.config("API.log.disabled_functions").indexOf("time")&&-1==b.config("API.log.disabled_functions").indexOf("timeEnd")&&this.ConsoleCommand("time",a)},timeEnd:function(a){-1==b.config("API.log.disabled_functions").indexOf("time")&&-1==b.config("API.log.disabled_functions").indexOf("timeEnd")&&this.ConsoleCommand("timeEnd",
a)},timeStamp:function(a){-1==b.config("API.log.disabled_functions").indexOf("timeStamp")&&this.ConsoleCommand("timeStamp",a)},assert:function(a,d){-1==b.config("API.log.disabled_functions").indexOf("assert")&&this.ConsoleCommand.apply(this,["assert"].concat(Array.prototype.slice.call(arguments,0)))},trace:function(){-1==b.config("API.log.disabled_functions").indexOf("trace")&&this.ConsoleCommand("trace")},clear:function(){-1==b.config("API.log.disabled_functions").indexOf("clear")&&this.ConsoleCommand("clear")},
profile:function(a){-1==b.config("API.log.disabled_functions").indexOf("profile")&&-1==b.config("API.log.disabled_functions").indexOf("profileEnd")&&this.ConsoleCommand.apply(this,["profile"].concat(Array.prototype.slice.call(arguments,0)))},profileEnd:function(){-1==b.config("API.log.disabled_functions").indexOf("profile")&&-1==b.config("API.log.disabled_functions").indexOf("profileEnd")&&this.ConsoleCommand.apply(this,["profileEnd"].concat(Array.prototype.slice.call(arguments,0)))}}}(M(),N(),O());
b.fn.log=b.API.MUJS_Log;b.fn.log.UpdateAllPtrs=function(){b.API.MUJS_Log.updateFirebugPtr(M());b.API.MUJS_Log.updateConsole2Ptr(N());b.API.MUJS_Log.updateWebConsolePtr(O())};for(var t=0;t<I.length;t++)b.fn[I[t]]=b.API.MUJS_Log[I[t]].bind(b.API.MUJS_Log);b.log.startGroup("MUJS API Initialize");b.log.Info("Loading MUJS API v"+b.version+" "+b.build_type+(b.debug?" (debug enabled)":"")+" - "+(new Date(parseInt(b.build_time))).toString());b.API.EvalCommand=function(a,e,d){var c=Array.prototype.slice.call(arguments,
1);switch(a.toLowerCase()){case "log":case "gm_log":return b.API.MUJS_Log.Log.apply(b.API.MUJS_Log,c);case "debug":return b.API.MUJS_Log.Debug.apply(b.API.MUJS_Log,c);case "info":return b.API.MUJS_Log.Info.apply(b.API.MUJS_Log,c);case "warning":return b.API.MUJS_Log.Warning.apply(b.API.MUJS_Log,c);case "startgroup":case "endgroup":case "groupcollapsed":case "time":case "timeend":case "timestamp":case "assert":case "trace":case "clear":case "count":case "table":return b.API.MUJS_Log[a].apply(b.API.MUJS_Log,
c);case "style":case "addstyle":case "gm_addstyle":return b.API.addStyle.apply(b.API,c);case "script":case "addscript":case "gm_addscript":return b.API.addScript.apply(b.API,c);case "contenteval":return b.API.contentEval.apply(b.API,c);case "getvalue":return b.API.localStorage.getValue.apply(b.API,c);case "setvalue":return b.API.localStorage.setValue.apply(b.API,c);case "deletevalue":return b.API.localStorage.deleteValue.apply(b.API,c);default:if("function"===typeof b.API[a])return b.API[a].apply(b.API,
c);if("undefined"!==typeof b.API[a])return b.API[a]}};b.events={e:{},fired:{},addEvent:function(a,e){this.e[a]={recordEvent:"undefined"!==typeof e?e:!0,listeners:[]};Object.defineProperty(b,a,new function(a){return{set:function(c){b.events.addListener(a,c)},enumerable:!1}}(a))},addListener:function(a,e){"undefined"===typeof this.fired[a]?this.e[a].listeners.push(e):e.apply(b,this.fired[a])},fire:function(a){if("undefined"!==typeof this.e[a]){var b=Array.prototype.slice.call(arguments,1);this.e[a].recordEvent&&
(this.fired[a]=b);for(var d=[];t=this.e[a].listeners.pop();)t.apply(null,b)||d.push(t);this.e[a].listeners=d}}};b.events.addEvent("onReady");b.events.addEvent("onPageReady");b.events.addEvent("load");b.events.addEvent("DOMContentLoaded");b.events.addEvent("onreadystatechange");b.events.addEvent("afterscriptexecute",!1);b.events.addEvent("beforescriptexecute",!1);b.fn.getScriptURLInfo=function(a){var b=/myuserjs\.org\/script\/([^\/]+)\/([^\s]+)(?:\.(user|meta|metajs|data)\.js){1}?/i;return b.test(a)?
(a=b.exec(a),{username:a[1],script_name:a[2],get_type:a[3]}):!1};b.gotScriptFileInfo=!1;b.fn.getScriptFileInfo=function(){var a,e={};if(b.gotScriptFileInfo)return b("script.script_file_info");a=Error();if(-1!=a.stack.indexOf(".user.js")&&(a=b.parseStack(a.stack.toString()),0<a.length))for(var d=a.length-1;0<=d;d--)if(""!=a[d].fileName&&"user.js"==a[d].fileExt.toLowerCase())return a=a[d],e.userscript_file_name=a.fileName,e.userscript_file_path=a.fullFileName,b.gotScriptFileInfo=!0,b("set","script.script_file_info",
e),b.API("info","Userscript File Name: "+a.fullFileName),e};b.fn.setScriptInfo=function(a){var e=b.getScriptFileInfo(),d={};"undefined"!==typeof e&&(d=q(d,e));try{var c,f,g;"object"===typeof a?(c=C(a,["GM_info","gm_info","ginfo"]),"undefined"!==typeof c&&(f=c.scriptMetaStr)):"string"===typeof a&&(f=a);if("undefined"!==typeof f){g=b.API.ParseMetaData(c.scriptMetaStr);for(var h in g)"undefined"===typeof d[h]&&(d[h]=g[h])}if("undefined"!==typeof c){if("undefined"!==typeof c.script)for(h in c.script)"undefined"===
typeof d[h]&&(d[h]=c.script[h]);"undefined"!==typeof c.uuid?d.gmUUID=c.uuid:"undefined"!==typeof c.script.uuid&&(d.gmUUID=c.script.uuid);"undefined"!==typeof c.scriptHandler?"tampermonkey"==c.scriptHandler.toLowerCase()?(d.script_handler="Tampermonkey",d.script_handler_version=c.version):"greasemonkey"==c.scriptHandler.toLowerCase()&&(d.script_handler="Greasemonkey",d.script_handler_version=c.version):a.has_GM_info?(d.script_handler="Greasemonkey",d.script_handler_version=c.version):a.has_GM_getMetadata&&
(d.script_handler="Scriptish")}if("undefined"!==typeof g){var l;h=B(g,["downloadURL","updateURL","MUJSdownloadURL","MUJSupdateURL"],function(a,c){return b.getScriptURLInfo(c)});if("undefined"!==typeof h&&(l=b.getScriptURLInfo(g[h])))console.log("urlInfo",l),b("set","script.username",l.username),b("set","script.script_name",l.script_name),-1!=["meta","metajs","data"].indexOf(l.get_type.toLowerCase())&&b("set","script.get_type",l.get_type.toLowerCase());else{var k;(k=C(g,["MUJSusername","MUJS_username"]))&&
b("set","script.username",k);(k=C(g,["MUJSscriptname","MUJS_script_name"]))&&b("set","script.script_name",k)}}}catch(m){}Object.defineProperty(b.Config.script,"script_info",{value:Object.freeze(d),writable:!1,enumerable:!0,configurable:!1});return Object.freeze(d)};b.fn.getScriptInfo=function(a){return"undefined"===typeof b.config("script.script_info")?b.setScriptInfo(a):b.config("script.script_info")};b.API.addStyle=function(a){if("undefined"!=typeof a&&""!=a)if("undefined"!==typeof GM_addStyle)GM_addStyle(a);
else if(heads=document.getElementsByTagName("head")){var b=document.createElement("style");try{b.innerHTML=a}catch(d){b.innerText=a}b.type="text/css";return heads[0].appendChild(b)}return null};b.API.addScript=function(a,b,d,c){if(heads=document.getElementsByTagName("head")){var f=document.createElement("script");if("undefined"!=typeof a&&""!=a)try{f.innerHTML=a}catch(g){f.innerText=a}if("undefined"!=typeof b&&""!=b)try{f.src=b}catch(h){}if("undefined"!==typeof d)try{f.id=d}catch(l){}"undefined"!==
typeof c&&(f.async=!0);f.type="text/javascript";try{return heads[0].appendChild(f)}catch(k){}}return null};b.API.contentEval=function(a){"function"==typeof a&&(a="("+a+")();");var b=document.createElement("script");b.setAttribute("type","application/javascript");b.textContent=a;unsafeWindow.document.body.appendChild(b);unsafeWindow.document.body.removeChild(b)};Object.defineProperty(b,"stor",{value:localStorage?localStorage:unsafeWindow.localStorage?unsafeWindow.localStorage:window.localStorage,enumerable:!1});
b.API.localStorage={};b.API.localStorage.getValue=function(a,e){var d=b.config("API.localStorage.storage_prefix")+a;return b.stor[d]?b.stor.getItem(d):e};b.API.localStorage.setValue=function(a,e){var d=b.config("API.localStorage.storage_prefix")+a;return b.stor.setItem(d,e)};b.API.localStorage.deleteValue=function(a,e){var d=b.config("API.localStorage.storage_prefix")+a;return b.stor.removeItem(d)};b.fn.getValue=b.API.localStorage.getValue;b.fn.setValue=b.API.localStorage.setValue;b.fn.deleteValue=
b.API.localStorage.deleteValue;b.API.ParseMetaData_Types=[];b.API.ParseMetaData_Types.push(function(a,b){if("object"===typeof b){for(var d=/\(([0-9\.]+)\)\s+(.*?)$/i,c={},f=0;f<b.length;f++)if(d.test(b[f])){var g=d.exec(b[f]),h=g[1],g=g[2];"undefined"===typeof c[h]&&(c[h]=[]);c[h].push(g)}return c}});b.API.ParseMetaData=function(a){"string"===typeof a&&(a=a.split(/\r?\n/i));for(var e={},d=/@([\S]+)\s+(.*?)$/i,c=0;c<a.length;c++)if(d.test(a[c])){var f=d.exec(a[c]);"undefined"===typeof e[f[1]]?e[f[1]]=
f[2]:("string"===typeof e[f[1]]&&(h=e[f[1]],e[f[1]]=[],e[f[1]].push(h)),e[f[1]].push(f[2]))}for(var g in e)for(c=0;c<b.API.ParseMetaData_Types.length;c++){var h=b.API.ParseMetaData_Types[c](g,e[g]);if("undefined"!==typeof h){e[g]=h;break}}return e};b.API.fn.Date=function(a,e){switch(a){case "parseUTC":case "parseUTCDate":return b.API.Date.parseUTCDate.apply(b.API.Date,Array.prototype.slice.call(arguments,1))}};Object.defineProperties(b.API.Date,{now:{get:function(){return Date.now()}},fn:{value:b.API.Date.__proto__}});
b.API.Date.fn.parseUTCDate=function(a){if("string"===typeof a){if(a=/^(\d{4})[\-\/](\d{2})[\-\/](\d{2})(?:T|\s)(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)Z?$/i.exec(a))return new Date(Date.UTC(+a[1],+a[2]-1,+a[3],+a[4],+a[5],+a[6]))}else if("date"==z(a))return new Date(a);return null};b.API.Date.fn.getScriptTimeDiff=function(a){var e;"string"===typeof a?e=b.API.Date.parseUTCDate(a):"object"===typeof a&&"undefined"!==typeof a.scriptUploadTimestamp&&(e=b.API.Date.parseUTCDate(a.scriptUploadTimestamp));if(!e)return null;
a=Math.abs(Date.now()-e);var d=a/1E3/60,c=d/60;return{date:e,milliseconds:a,minutes:d,hours:c,days:c/24}};b.Config.Notifications={enabled:!0};b.fn.Notification=function(a,e){if(!b("get","Notifications.enabled"))return!1;b.Notification.Initialized||b.Notification.init();if("string"===typeof a)switch(a.toLowerCase()){case "get":case "getelement":return b.Notification.getElement.apply(b.Notification,Array.prototype.slice.call(arguments,1));case "getid":case "getelementid":return b.Notification.getElementId.apply(b.Notification,
Array.prototype.slice.call(arguments,1));case "updatenotification":return b.Notification.UpdateNotification.apply(b.Notification,Array.prototype.slice.call(arguments,1))}else if("object"===typeof a)switch((a.type||"").toLowerCase()){case "small":var d=b.Notification("getElement","notificationsSmallWrapper"),c=S(a);d.appendChild(c);b.Notification.Events.addAll(a,b.Notification.count);b.Notification.count++;b.Notification.SmallCount++;break;default:d=b.Notification("getElement","notificationsLargeWrapper"),
c=R(a),d.appendChild(c),b.Notification.Events.addAll(a,b.Notification.count),b.Notification.count++,b.Notification.LargeCount++}};b.Notification.UpdateNotification=function(a){a=q({version:"N/A",script_name:null,time:"N/A",icon:"fa-download",iconAnimation:"",title:"%SCRIPTNAME% %VERSION% Available!",body:'<i class="fa fa-clock-o"></i> <i>Updated %TIME%...</i>',install:{href:null,onClick:null,target:null,text:"Install"},visit:{href:null,onClick:null,target:"_blank",text:"Visit Page"}},a);null==a.script_name&&
(a.script_name=b("get","script.script_name"));var e=a.title.replace("%SCRIPTNAME%",a.script_name).replace("%VERSION%",a.version).replace("%TIME%",a.time),d=a.body.replace("%SCRIPTNAME%",a.script_name).replace("%VERSION%",a.version).replace("%TIME%",a.time);a.install.href&&null!=a.install.href&&""!=a.install.href||(a.install.href=b("get",["script.script_info.MUJSdownloadURL","script.script_info.downloadURL"]),"undefined"===typeof a.install.href&&(a.install.href="javascript:void(0);"));var c=document.createElement("a");
c.setAttribute("href",a.install.href);null!=a.install.target&&c.setAttribute("target",a.install.target);c.className="btn btn-success btn-sm";c.innerHTML=a.install.text;"function"===typeof a.install.onClick&&c.addEventListener("click",a.install.onClick);a.visit.href&&null!=a.visit.href&&""!=a.visit.href||("undefined"!==typeof b("get","script.script_info.homepage")?a.visit.href=b("get","script.script_info.homepage"):a.visit.href="http://myuserjs.org/script/"+b("get","script.username")+"/"+b("get","script.script_name"));
var f=document.createElement("a");f.setAttribute("href",a.visit.href);null!=a.visit.target&&f.setAttribute("target",a.visit.target);f.className="btn btn-warning btn-sm";f.innerHTML=a.visit.text;"function"===typeof a.visit.onClick&&f.addEventListener("click",a.visit.onClick);var g=document.createElement("a");g.setAttribute("href","javascript:void(0);");g.className="btn btn-danger btn-sm";g.innerHTML="Close";var h=document.createElement("p");h.className="text-align-right";h.appendChild(c);h.appendChild(f);
h.appendChild(g);b.Notification({title:e,body:d,footer:h,icon:a.icon,iconAnimation:a.iconAnimation,type:"small"})};b.Notification.getElementId=function(a){switch(a.toLowerCase()){case "wrapper":case "notificationswrapper":return"MUJSNotificationsWrapper";case "smallwrapper":case "notificationssmallwrapper":return"MUJSSmallNotificationsWrapper";case "largewrapper":case "notificationslargewrapper":return"MUJSLargeNotificationsWrapper";default:return null}};b.Notification.getElement=function(a){var e=
b.Notification.getElementId(a);return null!=e?document.getElementById(e):document.getElementById(a)};b.Notification.remove=function(a,b){if(null!=a){if(a.hasAttribute("data-mujs-small-notification")){var d=a,c=parseInt(a.style.top||0);for(0>=c&&(c=20);null!=d.nextElementSibling&&d.nextElementSibling.hasAttribute("data-mujs-small-notification");)d=d.nextElementSibling,d.className="MUJSSmallNotification SmallBox transitionUp",d.style.top=c+"px",c=c+parseInt(d.offsetHeight)+25}a.parentElement.removeChild(a)}};
b.Notification.close=function(a,e,d,c,f){if(null!=a)switch(b.Notification.Events.fire(d,"onBeforeClose",a,f),e.toLowerCase()){case "large":a.setAttribute("class","MUJSLargeNotification bigBox animated fadeOut fast");setTimeout(function(a,c,d){b.Notification.remove(a,c);b.Notification.Events.fire(c,"onAfterClose",a,d)},400,a,d,f);break;case "small":a.setAttribute("class","MUJSSmallNotification SmallBox animated fadeOut fast"),setTimeout(function(a,c,d){b.Notification.remove(a,c);b.Notification.Events.fire(c,
"onAfterClose",a,d)},400,a,d,f)}};b.Notification.Events={eventListeners:{},events:["onBeforeClose","onAfterClose"],add:function(a,b,d){"undefined"===typeof this.eventListeners[a]&&(this.eventListeners[a]={});"undefined"===typeof this.eventListeners[a][b]&&(this.eventListeners[a][b]=[]);this.eventListeners[a][b].push(d)},addAll:function(a,b){for(var d in this.events)"function"===typeof a[this.events[d]]&&this.add(b,this.events[d],a[this.events[d]])},fire:function(a,b,d){var c,f,g;if("undefined"!==
typeof this.eventListeners[a]&&"undefined"!==typeof this.eventListeners[a][b])for("undefined"!==typeof d&&p(d)?(f=d,c=Array.prototype.slice.call(arguments,3)):(f=document.querySelector('div[data-mujs-notification="'+a+'"]'),null==f&&(f=unsafeWindow),c=Array.prototype.slice.call(arguments,2)),c.unshift(b);"undefined"!==typeof(g=this.eventListeners[a][b].shift());)g.apply(f,c)}};b.Notification.count=0;b.Notification.LargeCount=0;b.Notification.SmallCount=0;Object.defineProperties(b.Notification,{CurrentLargeCount:{get:function(){return b.Notification("getElement",
"notificationsLargeWrapper").querySelectorAll("div[data-mujs-large-notification]").length}},CurrentSmallCount:{get:function(){return b.Notification("getElement","notificationsSmallWrapper").querySelectorAll("div[data-mujs-small-notification]").length}}});b.Notification.FontAwesomeAdded=!1;b.Notification.OpenSansAdded=!1;b.Notification.CSSAdded=!1;b.Notification.WrapperAdded=!1;b.Notification.SmallWrapperAdded=!1;b.Notification.LargeWrapperAdded=!1;b.Notification.Initialized=!1;b.Notification.init=
function(){b.Notification.Initialized=!0;if(!b("get","Notifications.enabled"))return!1;document.getElementsByTagName("head");document.getElementsByTagName("body");var a=b.Notification("getElement","notificationsWrapper");null==a&&(a=document.createElement("div"),a.id=b.Notification("getElementId","notificationsWrapper"),a.className="MUJSNotificationsFullWrapper mujs-na mujs-fa",document.body.appendChild(a));b.Notification.WrapperAdded=!0;var e=b.Notification("getElement","notificationsSmallWrapper");
null==e&&(e=document.createElement("div"),e.id=b.Notification("getElementId","notificationsSmallWrapper"),e.className="MUJSSmallNotifications",a.appendChild(e));b.Notification.SmallWrapperAdded=!0;e=b.Notification("getElement","notificationsLargeWrapper");null==e&&(e=document.createElement("div"),e.id=b.Notification("getElementId","notificationsLargeWrapper"),e.className="MUJSNotifications",a.appendChild(e));b.Notification.LargeWrapperAdded=!0};b.Requirements.addElement({type:"link",target:"head",
attributes:{href:"//myuserjs.org/css/smartadmin-production-all-namespaced.css",rel:"stylesheet"}});b.Requirements.addGM({type:"style",value:"@import url(//fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,300,400,700);"});b.CSS='#MUJSSmallNotificationsWrapper,#MUJSNotificationsWrapper,.mujs-na .SmallBox span,.mujs-na .bigBox span{font-family:"Open Sans",Arial,Helvetica,sans-serif;}.mujs-na *,.mujs-na *:after,.mujs-na *:before{box-sizing:border-box;}.mujs-na .SmallBox p{margin-bottom:9px;}.mujs-na .textoFoto > p:last-child > .btn:not(:last-child){margin-right:3px;}.mujs-na .foto{line-height:1.42857;}.transitionUp{-webkit-transition-property:top;-moz-transition-property:top;-o-transition-property:top;transition-property:top;-webkit-transition-duration:0.3s;-moz-transition-duration:0.3s;-o-transition-duration:0.3s;transition-duration:0.3s;}.mujs-na a.btn{text-decoration:none;}';
b.fn.getDOMTiming=function(){var a={};try{if(n.available){var a=n.getAllTiming(),b;for(b in a)a[b]-=n.get("timing.navigationStart"),0>=a[b]&&delete a[b];var d=(n.get("timing.loadEventEnd")||n.get("timing.loadEventStart"))-n.get("timing.navigationStart");0<d&&(a.pageLoadTime=d);var c=n.get("timing.responseEnd")-n.get("timing.fetchStart");0<=c&&(a.NetworkLatency=c);var f=n.now;0<f&&(a.statReportTime=f);0<v&&(a.mujsAPILoadStart=v);0<w&&(a.mujsAPILoadEnd=w);0<v&&0<w&&0<w-v&&(a.mujsAPILoadTime=w-v)}}catch(g){return console.log("Error! getDOMTiming: ",
g),{}}return a};b.fn.UPDATE=new function(){var a=function(){var a=Array.prototype.slice.call(arguments,0),a=q.apply(q,a);a.script_info=b.config("script.script_info");"undefined"!==typeof b.config("script.script_file_info")&&(a.script_file_info=b.config("script.script_file_info"));return a};this.getJSON=function(a,d){Q.ajax({dataType:"jsonp",url:a+"&json=1",async:!0}).done(function(a){unsafeWindow[b.Config.Update.updateVeriableName]=a;b.UPDATE.execCallback(d,a)}).fail(function(a){b.UPDATE.execCallback(d,
void 0,"error",a)})};this.getXMLHttpRequest=function(a,d){try{if(GM_xmlhttpRequest)return GM_xmlhttpRequest({method:"GET",url:a,headers:{Accept:"application/javascript"},onload:function(a){a=JSON.parse(a.responseText);b.UPDATE.execCallback(d,a)},onerror:function(){console.log("Error! getXMLHttpRequest",response)}}),!0}catch(c){console.log("Error! getXMLHttpRequest",c)}return!1};this.getCallbackFunction=function(a){if("string"===typeof a.callback){if("undefined"!==typeof unsafeWindow[a.callback])return unsafeWindow[a.callback]}else{if("undefined"!==
typeof a.callback)return a.callback;if("undefined"!==typeof b.config("currentCallback"))return"string"===typeof b.config("currentCallback")?unsafeWindow[b.config("currentCallback")]:b.config("currentCallback")}};this.execCallback=function(a,b){var c=Array.prototype.slice.call(arguments,1),c=G(c,unsafeWindow,{cloneFunctions:!0,wrapReflectors:!0}),f=this.getCallbackFunction(a);void 0!==f&&f.apply(f,c)};this.getURL=function(e){opts=a({},b.Config.Update,e);opts.callback&&"string"===typeof opts.callback&&
(opts.callback_function=opts.callback);e=U(b.config("host")||"http://myuserjs.org");var d=(opts.username||b.config("script.username")).trim();if("undefined"===typeof d||""==d)throw"No Username Provided";var c=(opts.script_name||b.config("script.script_name")).trim();if("undefined"===typeof c||""==c)throw"No Script Name Provided";var f=opts.getType||b.config("Update.getType");"meta"!=f&&"metajs"!=f&&"data"!=f&&"none"!=f&&(f="data");var g=opts.args;if(opts.DOMTiming){var h=b.getDOMTiming();b.config("debug")&&
b.Log("domTiming",h);for(var k in h)h.hasOwnProperty(k)&&(g[k]=h[k])}h=[];for(k in g)h.push(k+"="+g[k]);e.addArg("args",escape(h.join(",")));e.addArg("api_version",b.version);e.addArg("updateVeriableName",opts.updateVeriableName);"undefined"!==typeof opts.callback_function&&e.addArg("jsonp",opts.callback_function);"undefined"!==typeof opts.noDownload&&1==opts.noDownload?e.addArg("nodownload","1"):100>b.config("Update.sampleRate")&&Math.floor(100*Math.random()+1)>b.config("Update.sampleRate")&&e.addArg("nodownload",
"1");b.config("Update.getStats")&&e.addArg("getstats","1");"undefined"!==typeof opts.script_info&&("undefined"!==typeof opts.script_info.version&&e.addArg("scriptversion",escape(opts.script_info.version)),"undefined"!==typeof opts.script_info.script_handler&&(e.addArg("scripthandler",escape(opts.script_info.script_handler)),"undefined"!==typeof opts.script_info.script_handler_version&&e.addArg("scripthandlerversion",escape(opts.script_info.script_handler_version))));e.addArg("cachebuster",Math.round((new Date).getTime()/
1E3));b.config("host");e.setPath("/script/"+d+"/"+c+"."+f+".js");return e.toString()};this.sendRequest=function(e){try{var d=a({},b.Config.Update,e);"undefined"!==typeof unsafeWindow[d.updateVeriableName]&&(unsafeWindow[d.updateVeriableName]=void 0,delete unsafeWindow[d.updateVeriableName]);!0===b("get","scopeLock")&&"undefined"!==typeof d.callback&&"none"!=d.getType?(console.log("Add MUJSExtResponseCallback"),b.config("currentCallback",d.callback),d.callback="MUJSExtResponseCallback"):b.config("currentCallback",
null);var c=b.UPDATE.getURL(d);b.config("debug")&&b.Log(c);var f;d.XMLHttpRequest&&(f=this.getXMLHttpRequest(c+"&json=1",d))||(f=d.jQuery?this.getJSON(c,d):b.API.addScript(void 0,c,void 0,!0));d.callback&&"none"!=d.getType&&"string"!==typeof d.callback&&void 0===this.getCallbackFunction(d)&&(b.Debug("waitForResponse"),b.UPDATE.waitForResponse(d));return f}catch(g){console.log("Error! getUpdateData: ",g.name,g.fileName,g.lineNumber+":"+g.columnNumber),console.log(g)}};this.getUpdateData=function(a){return this.sendRequest(a)};
this.waitForResponse=function(a,d){"undefined"===typeof d&&(d=0);return"undefined"!==typeof unsafeWindow[a.updateVeriableName]?(console.log("updateVeriable ready"),b.UPDATE.execCallback(a,unsafeWindow[a.updateVeriableName],"Success!")):100<d?b.UPDATE.execCallback(a,void 0,"Error! TimedOut"):setTimeout(b.UPDATE.waitForResponse,100,a,d+1)};this.extResponse=function(a){var d=Array.prototype.slice.call(arguments,0),c=b.UPDATE.getCallbackFunction({callback:b.config("currentCallback")});"undefined"!==typeof c?
c.apply(c,d):console.log("extResponse error! cant find cb")}};J(b.UPDATE.extResponse,unsafeWindow,{defineAs:"MUJSExtResponseCallback",allowCallbacks:!0,allowCrossOriginArguments:!0});Object.defineProperty(b.UPDATE,"MetaData",{get:function(a){if("undefined"!==typeof unsafeWindow[a||b.Config.Update.updateVeriableName])return unsafeWindow[a||b.Config.Update.updateVeriableName];if("undefined"!==typeof window[a||b.Config.Update.updateVeriableName])return window[a||b.Config.Update.updateVeriableName]}});
b.fn.ERROR=new function(){this.ERROR_CODES={ERROR_RESULT:{FATAL:1048576},ERROR_NAME:{EVALERROR:65536,INTERNALERROR:131072,RANGEERROR:196608,REFERENCEERROR:262144,SYNTAXERROR:327680,TYPEERROR:393216,URIERROR:458752}};Object.defineProperties(this.ERROR_CODES,H);Object.defineProperty(this.ERROR_CODES,"get",{value:function(a,e){return"undefined"===typeof e?b.ERROR.ERROR_CODES.SearchForKey(a):b.ERROR.ERROR_CODES.setKeyValue(a,e)},enumerable:!1});this.getCode=function(a){a=this.ERROR_CODES.get(a);if("undefined"!==
typeof a)return Number(a.toString(2))};this.send=function(a){try{var e=q({},b.Config.Update,a);"undefined"===typeof e.args&&(e.args={});"undefined"===typeof e.args.scriptError&&(e.args.scriptError="1");"undefined"===typeof e.args.scriptErrorCode&&(e.args.scriptErrorCode="-1");e.getType="none";e.noDownload=!0;return b.UPDATE.sendRequest(e)}catch(d){console.log("Error! Error.send: ",d)}};this.catchError=function(a,e,d,c,f,g){try{if("undefined"!==typeof f&&"undefined"!==typeof f.stack){var h=Array.prototype.slice.call(arguments,
0);if(b.config("Error.autoReportErrors")){var k=b.config("Error.errorFilter").apply(this,h);if(k)switch(h={},h.scriptErrorLineNumber=d,h.scriptErrorColNumber=c,typeof k){case "object":q(h,k);break;case "number":case "string":h.scriptError=k;break;case "boolean":h.scriptError="1"}}}}catch(m){}return!1};this.processError=function(a){var e="";try{e=a.stack.toString()}catch(d){}return b.ERROR.catchError(a.message,a.fileName,a.lineNumber,a.columnNumber,{message:a.message,name:a.name,fileName:a.fileName,
lineNumber:a.lineNumber,columnNumber:a.columnNumber,stack:e},b.parseStack(e))}};J(P,unsafeWindow,{defineAs:"MUJSListenError",allowCallbacks:!0,allowCrossOriginArguments:!0});var T=function(){window.oldHandle=window.onerror;window.onerror=function(a,b,d,c,f){try{var g=Array.prototype.slice.call(arguments,0),h="";try{h=f.stack.toString()}catch(k){}if(P(a,b,d,c,{message:f.message,name:f.name,fileName:f.fileName,lineNumber:f.lineNumber,columnNumber:f.columnNumber,stack:h}))return!0}catch(m){}finally{return window.oldHandle?
window.oldHandle.apply(this,g):!1}}};"undefined"!==typeof GM_info&&(b.log.Debug("GM_info",GM_info),b({ginfo:GM_info,has_GM_info:"undefined"!==typeof GM_info?!0:!1,has_GM_getMetadata:"undefined"!==typeof GM_getMetadata?!0:!1}));var A=0;window.addEventListener("beforescriptexecute",function(a){b.events.fire.apply(b.events,["beforescriptexecute"].concat(Array.prototype.slice.call(arguments)))},!1);window.addEventListener("afterscriptexecute",function(a){b.events.fire.apply(b.events,["afterscriptexecute"].concat(Array.prototype.slice.call(arguments)))},
!1);window.addEventListener("load",function(a){b.Debug("onLoadEvent",a);b.events.fire.apply(b.events,["load"].concat(Array.prototype.slice.call(arguments)))},!1);document.onreadystatechange=function(a){b.Debug("onreadystatechange",document.readyState,a);k.Complete||E();b.events.fire.apply(b.events,["onreadystatechange"].concat(Array.prototype.slice.call(arguments)))};window.addEventListener("DOMContentLoaded",function(a){b.Debug("DOMContentLoaded",a);k.Complete||E();b.events.fire.apply(b.events,["DOMContentLoaded"].concat(Array.prototype.slice.call(arguments)))},
!1);setInterval(F,50);setTimeout(function(){console.log("MUJS.Notification Test")},1E3);n.available&&(w=n.now);setTimeout(function(){b.log.endGroup("MUJS API Initialize")},50)})(MUJS,"undefined"!==typeof jQuery?jQuery:void 0);unsafeWindow.MUJS=MUJS;"undefined"!==typeof console&&"undefined"!==typeof console.timeEnd&&console.timeEnd("MUJS API Loading");
